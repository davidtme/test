!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r;function i(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function o(e,t,n){const i=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(null!=i){const[,,e,o]=i;if(!function(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}(n=n||function(e,t){if(t&r.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}(e,t)).test(o))return function(e,t){const[,n,r,i]=e;return{sign:n||"",prefix:r||"",digits:i,radix:t}}(i,n)}return null}function u(e,t,n,r){try{return[!0,function(e,t,n,r,u){const s=o(e,t,u);if(null!=s){let e=Number.parseInt(s.sign+s.digits,s.radix);if(!Number.isNaN(e)){const[t,o]=i(!0,r);!n&&10!==s.radix&&e>=t&&e<=o&&(e=e<<32-r>>32-r);const[u,c]=i(n,r);if(e>=u&&e<=c)return e}}throw new Error("Input string was not in a correct format.")}(e,t,n,r)]}catch(e){}return[!1,0]}function s(e){return-2147483648===e?e:-e}n.r(t),n.d(t,"getJson",(function(){return Kc})),n.d(t,"holder",(function(){return Qc})),n.d(t,"canvas",(function(){return ea})),n.d(t,"context",(function(){return ta})),n.d(t,"getTexure",(function(){return na})),n.d(t,"postponedQueue",(function(){return ra})),n.d(t,"postponedQueueMinTime",(function(){return ia})),n.d(t,"messageQueue",(function(){return oa})),n.d(t,"gameState",(function(){return ua})),n.d(t,"hostState",(function(){return sa})),n.d(t,"redraw",(function(){return ca})),n.d(t,"renderer",(function(){return aa})),n.d(t,"resize",(function(){return fa})),n.d(t,"updateFrame",(function(){return la})),n.d(t,"renderFrame",(function(){return da})),n.d(t,"mainLoop",(function(){return ha})),function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"}(r||(r={}));var c=null;try{c=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function a(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function f(e){return!0===(e&&e.__isLong__)}a.prototype.GetHashCode=function(){let e=this.unsigned?1:0;return e=(e<<5)+e^this.high,e=(e<<5)+e^this.low,e},a.prototype.Equals=function(e){return I(this,e)},a.prototype.CompareTo=function(e){return V(this,e)},a.prototype.toString=function(e){return D(this,e)},a.prototype.toJSON=function(){return D(this)},a.prototype.__isLong__,Object.defineProperty(a.prototype,"__isLong__",{value:!0});var l={},d={};function h(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=d[e])?r:(n=w(e,(0|e)<0?-1:0,!0),i&&(d[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=l[e])?r:(n=w(e,e<0?-1:0,!1),i&&(l[e]=n),n)}function v(e,t){if(isNaN(e))return t?T:y;if(t){if(e<0)return T;if(e>=x)return F}else{if(e<=-S)return M;if(e+1>=S)return P}return e<0?H(v(-e,t)):w(e%A|0,e/A|0,t)}function w(e,t,n){return new a(e,t,n)}var g=Math.pow;function p(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return y;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r=e.indexOf("-");if(r>0)throw Error("interior hyphen");if(0===r)return H(p(e.substring(1),t,n));for(var i=v(g(n,8)),o=y,u=0;u<e.length;u+=8){var s=Math.min(8,e.length-u),c=parseInt(e.substring(u,u+s),n);if(s<8)o=j(W(o,v(g(n,s))),v(c));else o=j(o=W(o,i),v(c))}return o.unsigned=t,o}function m(e,t){return"number"==typeof e?v(e,t):"string"==typeof e?p(e,t):w(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}var A=4294967296,x=A*A,S=x/2,b=h(1<<24),y=h(0),T=h(0,!0),E=h(1),R=h(1,!0),C=h(-1),P=w(-1,2147483647,!1),F=w(-1,-1,!0),M=w(0,-2147483648,!1);function B(e){return e.unsigned?e.low>>>0:e.low}function _(e){return e.unsigned?(e.high>>>0)*A+(e.low>>>0):e.high*A+(e.low>>>0)}function D(e,t){if((t=t||10)<2||36<t)throw RangeError("radix");if(O(e))return"0";if(L(e)){if(I(e,M)){var n=v(t),r=X(e,n),i=Y(W(r,n),e);return D(r,t)+B(i).toString(t)}return"-"+D(H(e),t)}for(var o=v(g(t,6),e.unsigned),u=e,s="";;){var c=X(u,o),a=(B(Y(u,W(c,o)))>>>0).toString(t);if(O(u=c))return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}}function O(e){return 0===e.high&&0===e.low}function L(e){return!e.unsigned&&e.high<0}function U(e){return 1==(1&e.low)}function I(e,t){return f(t)||(t=m(t)),(e.unsigned===t.unsigned||e.high>>>31!=1||t.high>>>31!=1)&&(e.high===t.high&&e.low===t.low)}function k(e,t){return V(e,t)<0}function N(e,t){return V(e,t)>0}function z(e,t){return V(e,t)>=0}function V(e,t){if(f(t)||(t=m(t)),I(e,t))return 0;var n=L(e),r=L(t);return n&&!r?-1:!n&&r?1:e.unsigned?t.high>>>0>e.high>>>0||t.high===e.high&&t.low>>>0>e.low>>>0?-1:1:L(Y(e,t))?-1:1}function H(e){return!e.unsigned&&I(e,M)?M:j(G(e),E)}function j(e,t){f(t)||(t=m(t));var n=e.high>>>16,r=65535&e.high,i=e.low>>>16,o=65535&e.low,u=t.high>>>16,s=65535&t.high,c=t.low>>>16,a=0,l=0,d=0,h=0;return d+=(h+=o+(65535&t.low))>>>16,l+=(d+=i+c)>>>16,a+=(l+=r+s)>>>16,a+=n+u,w((d&=65535)<<16|(h&=65535),(a&=65535)<<16|(l&=65535),e.unsigned)}function Y(e,t){return f(t)||(t=m(t)),j(e,H(t))}function W(e,t){if(O(e))return e.unsigned?T:y;if(f(t)||(t=m(t)),c)return w(c.mul(e.low,e.high,t.low,t.high),c.get_high(),e.unsigned);if(O(t))return e.unsigned?T:y;if(I(e,M))return U(t)?M:y;if(I(t,M))return U(e)?M:y;if(L(e))return L(t)?W(H(e),H(t)):H(W(H(e),t));if(L(t))return H(W(e,H(t)));if(k(e,b)&&k(t,b))return v(_(e)*_(t),e.unsigned);var n=e.high>>>16,r=65535&e.high,i=e.low>>>16,o=65535&e.low,u=t.high>>>16,s=65535&t.high,a=t.low>>>16,l=65535&t.low,d=0,h=0,g=0,p=0;return g+=(p+=o*l)>>>16,h+=(g+=i*l)>>>16,g&=65535,h+=(g+=o*a)>>>16,d+=(h+=r*l)>>>16,h&=65535,d+=(h+=i*a)>>>16,h&=65535,d+=(h+=o*s)>>>16,d+=n*l+r*a+i*s+o*u,w((g&=65535)<<16|(p&=65535),(d&=65535)<<16|(h&=65535),e.unsigned)}function X(e,t){if(f(t)||(t=m(t)),O(t))throw Error("division by zero");var n,r,i;if(c)return e.unsigned||-2147483648!==e.high||-1!==t.low||-1!==t.high?w((e.unsigned?c.div_u:c.div_s)(e.low,e.high,t.low,t.high),c.get_high(),e.unsigned):e;if(O(e))return e.unsigned?T:y;if(e.unsigned){if(t.unsigned||(t=function(e){return e.unsigned?e:w(e.low,e.high,!0)}(t)),N(t,e))return T;if(N(t,J(e,1)))return R;i=T}else{if(I(e,M))return I(t,E)||I(t,C)?M:I(t,M)?E:I(n=q(X($(e,1),t),1),y)?L(t)?E:C:i=j(n,X(r=Y(e,W(t,n)),t));if(I(t,M))return e.unsigned?T:y;if(L(e))return L(t)?X(H(e),H(t)):H(X(H(e),t));if(L(t))return H(X(e,H(t)));i=y}for(r=e;z(r,t);){n=Math.max(1,Math.floor(_(r)/_(t)));for(var o=Math.ceil(Math.log(n)/Math.LN2),u=o<=48?1:g(2,o-48),s=v(n),a=W(s,t);L(a)||N(a,r);)a=W(s=v(n-=u,e.unsigned),t);O(s)&&(s=E),i=j(i,s),r=Y(r,a)}return i}function G(e){return w(~e.low,~e.high,e.unsigned)}function q(e,t){return f(t)&&(t=B(t)),0==(t&=63)?e:t<32?w(e.low<<t,e.high<<t|e.low>>>32-t,e.unsigned):w(0,e.low<<t-32,e.unsigned)}function $(e,t){return f(t)&&(t=B(t)),0==(t&=63)?e:t<32?w(e.low>>>t|e.high<<32-t,e.high>>t,e.unsigned):w(e.high>>t-32,e.high>=0?0:-1,e.unsigned)}function J(e,t){if(f(t)&&(t=B(t)),0===(t&=63))return e;var n=e.high;return t<32?w(e.low>>>t|n<<32-t,n>>>t,e.unsigned):w(32===t?n:n>>>t-32,0,e.unsigned)}var Z=a;const K=j,Q=W,ee=X,te=function(e,t){return f(t)||(t=m(t)),c?w((e.unsigned?c.rem_u:c.rem_s)(e.low,e.high,t.low,t.high),c.get_high(),e.unsigned):Y(e,W(X(e,t),t))},ne=H,re=function(e,t){return f(t)||(t=m(t)),w(e.low&t.low,e.high&t.high,e.unsigned)},ie=V,oe=w,ue=function(e,t,n){return n?function(e,t){return new a(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)}(e,t):function(e,t){return new a(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}(e,t)},se=v,ce=B,ae=function(e,t){return t?function(e){var t=e.high,n=e.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]}(e):function(e){var t=e.high,n=e.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]}(e)},fe=_,le=D;function de(e,t,n){let r=e,i=0;switch(n){case 0:r=e<<24>>24,i=r;break;case 4:r=e<<24>>>24;break;case 1:r=e<<16>>16,i=r;break;case 5:r=e<<16>>>16;break;case 2:r=e>>0,i=r;break;case 6:r=e>>>0}return w(r,i>>31,t)}function he(e,t,n,r,i){const u=o(e,t,i);if(null!=u){const t=(e,t)=>{const n=Math.max(e.length,t.length);return e.padStart(n,"0")<=t.padStart(n,"0")},r="-"===u.sign,i=function(e,t,n){switch(t){case 2:return e?"1111111111111111111111111111111111111111111111111111111111111111":n?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return e?"1777777777777777777777":n?"1000000000000000000000":"777777777777777777777";case 10:return e?"18446744073709551615":n?"9223372036854775808":"9223372036854775807";case 16:return e?"FFFFFFFFFFFFFFFF":n?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}(n||10!==u.radix,u.radix,r);if(t(u.digits.toUpperCase(),i))return p(e=r?u.sign+u.digits:u.digits,n,u.radix)}throw new Error("Input string was not in a correct format.")}function ve(e,t,n,r){try{return[!0,he(e,t,n)]}catch(e){}return[!1,y]}function we(e){return null!=e&&(Array.isArray(e)||ArrayBuffer.isView(e))}function ge(e){return null!=e&&"function"==typeof e.Dispose}function pe(e,t,n){return e.has(t)?[!0,e.get(t)]:[!1,n]}function me(e,t){return!t.has(e)&&(t.add(e),!0)}class Ae{constructor(e){this.factory=e,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function xe(e,t){let n=e.toString(10);for(;n.length<t;)n="0"+n;return n}function Se(e){const t=e;return"number"==typeof t.offset?t.offset:1===e.kind?0:-6e4*e.getTimezoneOffset()}function be(e,t){return(e=e<0&&null!=t&&10!==t?4294967295+e+1:e).toString(t)}class ye{static id(e){return ye.idMap.has(e)||ye.idMap.set(e,++ye.count),ye.idMap.get(e)}}function Te(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=33*n^e.charCodeAt(t++);return n}function Ee(e){return 2654435761*e|0}function Re(e){return 0===e.length?0:e.reduce((e,t)=>(e<<5)+e^t)}function Ce(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return Ee(e);case"string":return Te(e);default:return Ee(ye.id(e))}}function Pe(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return Ee(e);case"string":return Te(e);default:if(function(e){return null!=e&&"function"==typeof e.GetHashCode}(e))return e.GetHashCode();if(we(e)){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=Pe(e[r]);return Re(n)}return Te(String(e))}}function Fe(e,t,n){if(null==e)return null==t;if(null==t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function Me(e,t){return Fe(e,t,Be)}function Be(e,t){return e===t||(null==e?null==t:null!=t&&("object"==typeof e&&(function(e){return null!=e&&"function"==typeof e.Equals}(e)?e.Equals(t):we(e)?we(t)&&Me(e,t):e instanceof Date&&(t instanceof Date&&0===_e(e,t)))))}function _e(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+Se(e),r=t.getTime()+Se(t)),n===r?0:n<r?-1:1}function De(e,t){return e===t?0:e<t?-1:1}function Oe(e,t,n){if(null==e)return null==t?0:1;if(null==t)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,i=0;r<e.length;r++)if(i=n(e[r],t[r]),0!==i)return i;return 0}function Le(e,t){return Oe(e,t,Ue)}function Ue(e,t){return e===t?0:null==e?null==t?0:-1:null==t?1:"object"!=typeof e?e<t?-1:1:function(e){return null!=e&&"function"==typeof e.CompareTo}(e)?e.CompareTo(t):we(e)&&we(t)?Le(e,t):e instanceof Date&&t instanceof Date?_e(e,t):1}function Ie(e,t,n){return e(t,n)<0?t:n}function ke(e,t,n){return e(t,n)>0?t:n}function Ne(e){let t=e;return e=>void 0===e?t:void(t=e)}ye.idMap=new WeakMap,ye.count=0;const ze=0,Ve=1,He=2,je=3,Ye=4;function We(e,t){return e.replace(/[a-z]?[A-Z]/g,e=>1===e.length?e.toLowerCase():e.charAt(0)+t+e.charAt(1).toLowerCase())}function Xe(e,t){switch(t){case Ve:return e.charAt(0).toLowerCase()+e.slice(1);case He:return We(e,"_");case je:return We(e,"_").toUpperCase();case Ye:return We(e,"-");case ze:default:return e}}function Ge(e){we(e)?e.splice(0):e.clear()}function qe(e,t){if(null==t)return;if(t.length>1)return t;let n;switch(e){case 2:n=(e,n)=>t(e)(n);break;case 3:n=(e,n,r)=>t(e)(n)(r);break;case 4:n=(e,n,r,i)=>t(e)(n)(r)(i);break;case 5:n=(e,n,r,i,o)=>t(e)(n)(r)(i)(o);break;case 6:n=(e,n,r,i,o,u)=>t(e)(n)(r)(i)(o)(u);break;case 7:n=(e,n,r,i,o,u,s)=>t(e)(n)(r)(i)(o)(u)(s);break;case 8:n=(e,n,r,i,o,u,s,c)=>t(e)(n)(r)(i)(o)(u)(s)(c);break;default:throw new Error("Uncurrying to more than 8-arity is not supported: "+e)}return n.__CURRIED__=t,n}function $e(e,t,n){if(null!=t){if("__CURRIED__"in t){t=t.__CURRIED__;for(let e=0;e<n.length;e++)t=t(n[e]);return t}switch(e){case 1:return e=>t.apply(void 0,n.concat([e]));case 2:return e=>r=>t.apply(void 0,n.concat([e,r]));case 3:return e=>r=>i=>t.apply(void 0,n.concat([e,r,i]));case 4:return e=>r=>i=>o=>t.apply(void 0,n.concat([e,r,i,o]));case 5:return e=>r=>i=>o=>u=>t.apply(void 0,n.concat([e,r,i,o,u]));case 6:return e=>r=>i=>o=>u=>s=>t.apply(void 0,n.concat([e,r,i,o,u,s]));case 7:return e=>r=>i=>o=>u=>s=>c=>t.apply(void 0,n.concat([e,r,i,o,u,s,c]));case 8:return e=>r=>i=>o=>u=>s=>c=>a=>t.apply(void 0,n.concat([e,r,i,o,u,s,c,a]));default:throw new Error("Partially applying to more than 8-arity is not supported: "+e)}}}function Je(e,t){function n(e,t,r,i){const o=r[i];if(0!==o){const e=o[0],n=o[1];e>1&&(t=function(e,t){if(null!=t){if("__CURRIED__"in t)return t.__CURRIED__;switch(e){case 2:return e=>n=>t(e,n);case 3:return e=>n=>r=>t(e,n,r);case 4:return e=>n=>r=>i=>t(e,n,r,i);case 5:return e=>n=>r=>i=>o=>t(e,n,r,i,o);case 6:return e=>n=>r=>i=>o=>u=>t(e,n,r,i,o,u);case 7:return e=>n=>r=>i=>o=>u=>s=>t(e,n,r,i,o,u,s);case 8:return e=>n=>r=>i=>o=>u=>s=>c=>t(e,n,r,i,o,u,s,c);default:throw new Error("Currying to more than 8-arity is not supported: "+e)}}}(e,t)),n>1&&(t=qe(n,t))}const u=e(t);return i+1===r.length?u:e=>n(u,e,r,i+1)}return r=>n(e,r,t,0)}function Ze(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}function Ke(e,t){if(e.has(t))return e.get(t);throw new Error(`The given key '${t}' was not present in the dictionary.`)}const Qe=/(?:Z|[+-](\d+):?([0-5]?\d)?)\s*$/;function et(e){const t=e<0,n=(e=Math.abs(e))%36e5/6e4;return(t?"-":"+")+xe(~~(e/36e5),2)+":"+xe(n,2)}function tt(e,t){const n=e.toISOString();return"first"===t?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function nt(e,t,n){return t.replace(/(\w)\1*/g,t=>{let r=Number.NaN;switch(t.substring(0,1)){case"y":const i=n?e.getUTCFullYear():e.getFullYear();r=t.length<4?i%100:i;break;case"M":r=(n?e.getUTCMonth():e.getMonth())+1;break;case"d":r=n?e.getUTCDate():e.getDate();break;case"H":r=n?e.getUTCHours():e.getHours();break;case"h":const o=n?e.getUTCHours():e.getHours();r=o>12?o%12:o;break;case"m":r=n?e.getUTCMinutes():e.getMinutes();break;case"s":r=n?e.getUTCSeconds():e.getSeconds();break;case"f":r=n?e.getUTCMilliseconds():e.getMilliseconds()}return Number.isNaN(r)?t:r<10&&t.length>1?"0"+r:""+r})}function rt(e,t){var n,r,i;const o=new Date(e.getTime()+(null!==(n=e.offset)&&void 0!==n?n:0));if("string"!=typeof t)return o.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+et(null!==(r=e.offset)&&void 0!==r?r:0);if(1!==t.length)return nt(o,t,!0);switch(t){case"D":case"d":return tt(o,"first");case"T":case"t":return tt(o,"second");case"O":case"o":return function(e,t){const n=e.toISOString();return n.substring(0,n.length-1)+et(t)}(o,null!==(i=e.offset)&&void 0!==i?i:0);default:throw new Error("Unrecognized Date print format")}}function it(e,t){const n=1===e.kind;if("string"!=typeof t)return n?e.toUTCString():e.toLocaleString();if(1!==t.length)return nt(e,t,n);switch(t){case"D":case"d":return n?tt(e,"first"):e.toLocaleDateString();case"T":case"t":return n?tt(e,"second"):e.toLocaleTimeString();case"O":case"o":return function(e,t){if(t)return e.toISOString();{const t=null==e.kind||2===e.kind;return xe(e.getFullYear(),4)+"-"+xe(e.getMonth()+1,2)+"-"+xe(e.getDate(),2)+"T"+xe(e.getHours(),2)+":"+xe(e.getMinutes(),2)+":"+xe(e.getSeconds(),2)+"."+xe(e.getMilliseconds(),3)+(t?et(-6e4*e.getTimezoneOffset()):"")}}(e,n);default:throw new Error("Unrecognized Date print format")}}function ot(e,t,n){return null!=e.offset?rt(e,t):it(e,t)}function ut(e,t){const n=new Date(e);return n.kind=0|(null==t?0:t),n}function st(){return ut(-621355968e5,0)}function ct(e){let t=new Date(e);if(isNaN(t.getTime())){const n=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*([+-]\d+(?::\d+)?)?\s*$/.exec(e);if(null==n)throw new Error("The string is not a valid Date.");{let e,r=0;if(null!=n[2]){const e=n[2].split(":");r=3600*parseInt(e[0],10)+60*parseInt(e[1]||"0",10)+parseFloat(e[2]||"0"),null!=n[3]&&"PM"===n[3].toUpperCase()&&(r+=720)}if(null!=n[4]){if(null!=n[1])e=new Date(n[1]+" UTC");else{const t=new Date;e=new Date(t.getUTCFullYear()+"/"+(t.getUTCMonth()+1)+"/"+t.getUTCDate())}const t=n[4].substr(1).split(":");let i=60*parseInt(t[0],10)+parseInt(t[1]||"0",10);"+"===n[4][0]&&(i*=-1),r+=60*i}else if(null!=n[1])e=new Date(n[1]);else{const t=new Date;e=new Date(t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate())}t=new Date(e.getTime()+1e3*r),t=new Date(t.getTime()+6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))}}return t}function at(e,t=!1){const n=ct(e),r=Qe.exec(e),i=null!=r?t&&"Z"===r[0]?1:2:0;return ut(n.getTime(),i)}function ft(){return ut(Date.now(),2)}function lt(e,t){const n=ut(e.getTime()+t,e.kind);if(2===e.kind){const t=e.getTimezoneOffset(),r=n.getTimezoneOffset();return t!==r?ut(n.getTime()+6e4*(r-t),e.kind):n}return n}function dt(e,t){return e.getTime()===t.getTime()}const ht=_e;function vt(e,t){return n=e,"number"==typeof(r=t)?lt(n,-r):n.getTime()-r.getTime();var n,r}var wt={GetHashCode(){return Re([this.s,this.e].concat(this.c))},Equals(e){return!this.cmp(e)},CompareTo(e){return this.cmp(e)}},gt="[big.js] ",pt=gt+"Invalid ",mt=pt+"decimal places",At=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function xt(e,t){var n,r,i;if(0===t&&1/t<0)t="-0";else if(!At.test(t+=""))throw Error(pt+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),i=t.length,r=0;r<n&&r<i&&"0"==t.charAt(r);)++r;if(r==i)e.c=[e.e=0];else for(e.e=n-r-1,e.c=[],n=0;r<i;)e.c[n++]=+t.charAt(r++);return e=St(e,yt.DP,yt.RM)}function St(e,t,n,r){var i=e.c,o=e.e+t+1;if(o<i.length){if(1===n)r=i[o]>=5;else if(2===n)r=i[o]>5||5==i[o]&&(r||o<0||void 0!==i[o+1]||1&i[o-1]);else if(3===n)r=r||!!i[0];else if(r=!1,0!==n)throw Error("[big.js] Invalid rounding mode");if(o<1)i.length=1,r?(e.e=-t,i[0]=1):i[0]=e.e=0;else{if(i.length=o--,r)for(;++i[o]>9;)i[o]=0,o--||(++e.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(n<0||n>3||n!==~~n)throw Error("[big.js] Invalid rounding mode");return e}function bt(e,t,n,r){var i,o,u=e.constructor,s=!e.c[0];if(void 0!==n){if(n!==~~n||n<(3==t)||n>1e6)throw Error(3==t?pt+"precision":mt);for(n=r-(e=new u(e)).e,e.c.length>++r&&St(e,n,u.RM),2==t&&(r=e.e+n+1);e.c.length<r;)e.c.push(0)}if(i=e.e,n=(o=e.c.join("")).length,2!=t&&(1==t||3==t&&r<=i||i<=u.NE||i>=u.PE))o=o.charAt(0)+(n>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>n)for(i-=n;i--;)o+="0";else i<n&&(o=o.slice(0,i)+"."+o.slice(i));else n>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&(!s||4==t)?"-"+o:o}wt.abs=function(){var e=new this.constructor(this);return e.s=1,e},wt.cmp=function(e){var t,n=this.constructor,r=new n(this),i=(e=new n(e),r.c),o=e.c,u=r.s,s=e.s,c=r.e,a=e.e;if(!i[0]||!o[0])return i[0]?u:o[0]?-s:0;if(u!=s)return u;if(t=u<0,c!=a)return c>a^t?1:-1;for(s=Math.max(i.length,o.length),u=0;u<s;u++)if((c=u<i.length?i[u]:0)!=(a=u<o.length?o[u]:0))return c>a^t?1:-1;return 0},wt.div=function(e){var t=this.constructor,n=new t(this),r=(e=new t(e),n.c),i=e.c,o=n.s==e.s?1:-1,u=t.DP;if(u!==~~u||u<0||u>1e6)throw Error(mt);if(!i[0])throw Error("[big.js] Division by zero");if(!r[0])return new t(0*o);var s,c,a,f,l,d=i.slice(),h=s=i.length,v=r.length,w=r.slice(0,s),g=w.length,p=e,m=p.c=[],A=0,x=u+(p.e=n.e-e.e)+1;for(p.s=o,o=x<0?0:x,d.unshift(0);g++<s;)w.push(0);do{for(a=0;a<10;a++){if(s!=(g=w.length))f=s>g?1:-1;else for(l=-1,f=0;++l<s;)if(i[l]!=w[l]){f=i[l]>w[l]?1:-1;break}if(!(f<0))break;for(c=g==s?i:d;g;){if(w[--g]<c[g]){for(l=g;l&&!w[--l];)w[l]=9;--w[l],w[g]+=10}w[g]-=c[g]}for(;!w[0];)w.shift()}m[A++]=f?a:++a,w[0]&&f?w[g]=r[h]||0:w=[r[h]]}while((h++<v||void 0!==w[0])&&o--);return m[0]||1==A||(m.shift(),p.e--),A>x&&St(p,u,t.RM,void 0!==w[0]),p},wt.eq=function(e){return!this.cmp(e)},wt.gt=function(e){return this.cmp(e)>0},wt.gte=function(e){return this.cmp(e)>-1},wt.lt=function(e){return this.cmp(e)<0},wt.lte=function(e){return this.cmp(e)<1},wt.minus=wt.sub=function(e){var t,n,r,i,o=this.constructor,u=new o(this),s=(e=new o(e),u.s),c=e.s;if(s!=c)return e.s=-c,u.plus(e);var a=u.c.slice(),f=u.e,l=e.c,d=e.e;if(!a[0]||!l[0])return l[0]?(e.s=-c,e):new o(a[0]?u:0);if(s=f-d){for((i=s<0)?(s=-s,r=a):(d=f,r=l),r.reverse(),c=s;c--;)r.push(0);r.reverse()}else for(n=((i=a.length<l.length)?a:l).length,s=c=0;c<n;c++)if(a[c]!=l[c]){i=a[c]<l[c];break}if(i&&(r=a,a=l,l=r,e.s=-e.s),(c=(n=l.length)-(t=a.length))>0)for(;c--;)a[t++]=0;for(c=t;n>s;){if(a[--n]<l[n]){for(t=n;t&&!a[--t];)a[t]=9;--a[t],a[n]+=10}a[n]-=l[n]}for(;0===a[--c];)a.pop();for(;0===a[0];)a.shift(),--d;return a[0]||(e.s=1,a=[d=0]),e.c=a,e.e=d,e},wt.mod=function(e){var t,n=this.constructor,r=new n(this),i=(e=new n(e),r.s),o=e.s;if(!e.c[0])throw Error("[big.js] Division by zero");return r.s=e.s=1,t=1==e.cmp(r),r.s=i,e.s=o,t?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=i,n.RM=o,this.minus(r.times(e)))},wt.plus=wt.add=function(e){var t,n=this.constructor,r=new n(this),i=(e=new n(e),r.s),o=e.s;if(i!=o)return e.s=-o,r.minus(e);var u=r.e,s=r.c,c=e.e,a=e.c;if(!s[0]||!a[0])return a[0]?e:new n(s[0]?r:0*i);if(s=s.slice(),i=u-c){for(i>0?(c=u,t=a):(i=-i,t=s),t.reverse();i--;)t.push(0);t.reverse()}for(s.length-a.length<0&&(t=a,a=s,s=t),i=a.length,o=0;i;s[i]%=10)o=(s[--i]=s[i]+a[i]+o)/10|0;for(o&&(s.unshift(o),++c),i=s.length;0===s[--i];)s.pop();return e.c=s,e.e=c,e},wt.pow=function(e){var t=this.constructor,n=new t(this),r=new t(1),i=new t(1),o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(pt+"exponent");for(o&&(e=-e);1&e&&(r=r.times(n)),e>>=1;)n=n.times(n);return o?i.div(r):r},wt.round=function(e,t){var n=this.constructor;if(void 0===e)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(mt);return St(new n(this),e,void 0===t?n.RM:t)},wt.sqrt=function(){var e,t,n,r=this.constructor,i=new r(this),o=i.s,u=i.e,s=new r(.5);if(!i.c[0])return new r(i);if(o<0)throw Error(gt+"No square root");0===(o=Math.sqrt(i+""))||o===1/0?((t=i.c.join("")).length+u&1||(t+="0"),u=((u+1)/2|0)-(u<0||1&u),e=new r(((o=Math.sqrt(t))==1/0?"1e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+u)):e=new r(o),u=e.e+(r.DP+=4);do{n=e,e=s.times(n.plus(i.div(n)))}while(n.c.slice(0,u).join("")!==e.c.slice(0,u).join(""));return St(e,r.DP-=4,r.RM)},wt.times=wt.mul=function(e){var t,n=this.constructor,r=new n(this),i=(e=new n(e),r.c),o=e.c,u=i.length,s=o.length,c=r.e,a=e.e;if(e.s=r.s==e.s?1:-1,!i[0]||!o[0])return new n(0*e.s);for(e.e=c+a,u<s&&(t=i,i=o,o=t,a=u,u=s,s=a),t=new Array(a=u+s);a--;)t[a]=0;for(c=s;c--;){for(s=0,a=u+c;a>c;)s=t[a]+o[c]*i[a-c-1]+s,t[a--]=s%10,s=s/10|0;t[a]=(t[a]+s)%10}for(s?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},wt.toExponential=function(e){return bt(this,1,e,e)},wt.toFixed=function(e){return bt(this,2,e,this.e+e)},wt.toPrecision=function(e){return bt(this,3,e,e-1)},wt.toString=function(){return bt(this)},wt.valueOf=wt.toJSON=function(){return bt(this,4)};var yt=function e(){function t(n){var r=this;if(!(r instanceof t))return void 0===n?e():new t(n);n instanceof t?(r.s=n.s,r.e=n.e,r.c=n.c.slice(),function(e){if((e=St(e,28,0)).c.length>1&&!e.c[0]){let t=e.c.findIndex(e=>e);e.c=e.c.slice(t),e.e=e.e-t}}(r)):xt(r,n),r.constructor=t}return t.prototype=wt,t.DP=28,t.RM=1,t.NE=-29,t.PE=29,t.version="5.2.2",t}(),Tt=yt,Et=Tt;const Rt=new Tt(0);new Tt(1),new Tt(-1),new Tt("79228162514264337593543950335"),new Tt("-79228162514264337593543950335");function Ct(e){try{return[!0,new Tt(e.trim())]}catch(e){return[!1,Rt]}}function Pt(e,t=0){if(0!=(-276&t))throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Singleline and ECMAScript");let n="g";return n+=1&t?"i":"",n+=2&t?"m":"",n+=16&t?"s":"",new RegExp(e,n)}function Ft(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function Mt(e,t,n=0){let r;if(r=e instanceof RegExp?(r=e,e=t,r.lastIndex=n,r):r=Pt(t,n),!r.global)throw new Error("Non-global RegExp");let i=r.exec(e);const o=[];for(;null!==i;)o.push(i),i=r.exec(e);return o}const Bt=/(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w)/,_t=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g,Dt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ot(e){return"number"==typeof e||e instanceof Z||e instanceof Et}function Lt(e,t){return e instanceof Z?ie(e,t)<0:e instanceof Et?e.cmp(t)<0:e<t}function Ut(e,t){return e instanceof Z?Q(e,t):e instanceof Et?e.mul(t):e*t}function It(e,t){return e instanceof Z?String(e)+(0).toFixed(t).substr(1):e.toFixed(t)}function kt(e,t){return e instanceof Z?String(e)+(0).toPrecision(t).substr(1):e.toPrecision(t)}function Nt(e,t){return e instanceof Z?String(e)+(0).toExponential(t).substr(1):e.toExponential(t)}function zt(e){return e instanceof Z?le(e.unsigned?e:ue(ae(e),!0),16):(Number(e)>>>0).toString(16)}function Vt(e){return{input:e,cont:(t=e,e=>Bt.test(t)?function e(t,n){return(...r)=>{let i=t;for(const e of r)i=Wt(i,e);return Bt.test(i)?e(i,n):n(i.replace(/%%/g,"%"))}}(t,e):e(t))};var t}function Ht(e){return e.cont(e=>{console.log(e)})}function jt(e){return e.cont(e=>e)}function Yt(e){return e.cont(e=>{throw new Error(e)})}function Wt(e,t){return e.replace(Bt,(e,n,r,i,o,u)=>{let s="";if(Ot(t))switch("x"!==u.toLowerCase()&&(Lt(t,0)?(t=Ut(t,-1),s="-"):r.indexOf(" ")>=0?s=" ":r.indexOf("+")>=0&&(s="+")),o=null==o?null:parseInt(o,10),u){case"f":case"F":t=It(t,o=null!=o?o:6);break;case"g":case"G":t=null!=o?kt(t,o):kt(t);break;case"e":case"E":t=null!=o?Nt(t,o):Nt(t);break;case"x":t=zt(t);break;case"X":t=zt(t).toUpperCase();break;default:t=String(t)}if(i=parseInt(i,10),isNaN(i))t=s+t;else{const e=r.indexOf("0")>=0,n=r.indexOf("-")>=0,o=n||!e?" ":"0";t="0"===o?s+(t=Jt(t,i-s.length,o,n)):Jt(s+t,i,o,n)}return(n+t).replace(/%/g,"%%")})}function Xt(e,...t){return"object"==typeof e&&t.length>0&&(e=t[0],t.shift()),e.replace(_t,(e,n,r,i,o,u)=>{let s=t[n];if(Ot(s))switch(o=null==o?null:parseInt(o,10),i){case"f":case"F":s=It(s,o=null!=o?o:2);break;case"g":case"G":s=null!=o?kt(s,o):kt(s);break;case"e":case"E":s=null!=o?Nt(s,o):Nt(s);break;case"p":case"P":o=null!=o?o:2,s=It(Ut(s,100),o)+" %";break;case"d":case"D":s=null!=o?Jt(String(s),o,"0"):String(s);break;case"x":case"X":s=null!=o?Jt(zt(s),o,"0"):zt(s),"X"===i&&(s=s.toUpperCase());break;default:if(u){let e="";s=u.replace(/(0+)(\.0+)?/,(t,n,r)=>(Lt(s,0)&&(s=Ut(s,-1),e="-"),s=It(s,null!=r?r.length-1:0),Jt(s,(n||"").length-e.length+(null!=r?r.length:0),"0"))),s=e+s}}else s instanceof Date&&(s=ot(s,u||i));return r=parseInt((r||" ").substring(1),10),isNaN(r)||(s=Jt(String(s),Math.abs(r)," ",r<0)),s})}function Gt(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function qt(e,t){const n=function(e,...t){if(0===t.length)return e.trim();const n="["+Ft(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}(e,"{","}").toLowerCase();if(Dt.test(n))return t?[!0,n]:n;if(t)return[!1,"00000000-0000-0000-0000-000000000000"];throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function $t(){let e="";for(let t=0;t++<36;)e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-";return e}function Jt(e,t,n,r){n=n||" ",t-=e.length;for(let i=0;i<t;i++)e=r?e+n:n+e;return e}function Zt(e,t,n,r){if(r="number"==typeof r?r:void 0,(n="number"==typeof n?n:void 0)&&n<0)throw new Error("Count cannot be less than zero");if(0===n)return[];if(!Array.isArray(t)){if(0===r)return e.split(t,n);const i=arguments.length;t=Array(i-1);for(let e=1;e<i;e++)t[e-1]=arguments[e]}t=(t=t.map(e=>Ft(e))).length>0?t:[" "];let i=0;const o=[],u=new RegExp(t.join("|"),"g");for(;null==n||n>1;){const t=u.exec(e);if(null===t)break;(!r||t.index-i>0)&&(n=null!=n?n-1:n,o.push(e.substring(i,t.index))),i=u.lastIndex}return(!r||e.length-i>0)&&o.push(e.substring(i)),o}function Kt(e,t){return null!=t&&Object.getPrototypeOf(e).constructor===Object.getPrototypeOf(t).constructor}function Qt(e,t){return function(e,t){e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}(e,t||en),e}class en{toString(){return"{"+Object.entries(this).map(([e,t])=>e+" = "+String(t)).join(";\n ")+"}"}GetHashCode(){return Ce(this)}Equals(e){return this===e}}function tn(e,t){if(e===t)return 0;if(null==t)return-1;for(;null!=e.tail;){if(null==t.tail)return 1;const n=Ue(e.head,t.head);if(0!==n)return n;e=e.tail,t=t.tail}return null==t.tail?0:-1}class nn{constructor(e,t){this.head=e,this.tail=t}toString(){return"["+Array.from(this).join("; ")+"]"}toJSON(){return Array.from(this)}[Symbol.iterator](){let e=this;return{next:()=>{const t=null==e?void 0:e.head,n=null==(null==e?void 0:e.tail);return e=null==e?void 0:e.tail,{done:n,value:t}}}}GetHashCode(){return Re(Array.from(this).map(Pe))}Equals(e){return 0===tn(this,e)}CompareTo(e){return tn(this,e)}}class rn extends en{constructor(e,t,...n){super(),this.tag=0|e,this.name=t,this.fields=n}toString(){const e=this.fields.length;return 0===e?this.name:1===e?this.name+" "+String(this.fields[0]):this.name+" ("+this.fields.map(e=>String(e)).join(",")+")"}toJSON(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)}GetHashCode(){const e=this.fields.map(e=>Pe(e));return e.splice(0,0,Ee(this.tag)),Re(e)}Equals(e){return this===e||Kt(this,e)&&this.tag===e.tag&&Me(this.fields,e.fields)}CompareTo(e){return this===e?0:Kt(this,e)?this.tag===e.tag?Le(this.fields,e.fields):this.tag<e.tag?-1:1:-1}}function on(e,t){const n={},r=null==t?Object.keys(e):t(e);for(let t=0;t<r.length;t++)n[r[t]]=e[r[t]];return n}function un(e,t,n){if(e===t)return!0;if(Kt(e,t)){const r=null==n?Object.keys(e):n(e);for(let n=0;n<r.length;n++)if(!Be(e[r[n]],t[r[n]]))return!1;return!0}return!1}function sn(e,t,n){if(e===t)return 0;if(Kt(e,t)){const r=null==n?Object.keys(e):n(e);for(let n=0;n<r.length;n++){const i=Ue(e[r[n]],t[r[n]]);if(0!==i)return i}return 0}return-1}class cn extends en{toString(){return"{"+Object.entries(this).map(([e,t])=>e+" = "+String(t)).join(";\n ")+"}"}toJSON(){return on(this)}GetHashCode(){return Re(Object.values(this).map(e=>Pe(e)))}Equals(e){return un(this,e)}CompareTo(e){return sn(this,e)}}function an(e){return Object.assign(Object.create(cn.prototype),e)}class fn extends cn{constructor(e){super(),this.contents=e}}Qt((function(e){this.stack=Error().stack,this.message=e}),en);Qt((function(){}),en);class ln{constructor(e,t,n,r){this.declaringType=e,this.tag=t,this.name=n,this.fields=r}}class dn{constructor(e,t,n,r,i,o){this.fullname=e,this.generics=t,this.construct=n,this.fields=r,this.cases=i,this.enumCases=o}toString(){return Rn(this)}Equals(e){return vn(this,e)}CompareTo(e){return wn(this,e)}}function hn(e){return null!=e.generics?e.generics:[]}function vn(e,t){return""===e.fullname?""===t.fullname&&Fe(In(e),In(t),([e,t],[n,r])=>e===n&&vn(t,r)):e.fullname===t.fullname&&Fe(hn(e),hn(t),vn)}function wn(e,t){return e.fullname!==t.fullname?e.fullname<t.fullname?-1:1:Oe(hn(e),hn(t),wn)}function gn(e,t,n){return new dn(e,t,n)}function pn(e,t,n,r){return new dn(e,t,n,r)}function mn(e,t,n,r){const i=new dn(e,t,n,void 0,()=>r().map((e,t)=>"string"==typeof e?new ln(i,t,e):new ln(i,t,e[0],e[1])));return i}function An(e){return new dn("Microsoft.FSharp.Core.FSharpOption`1",[e])}function xn(e){return new dn("Microsoft.FSharp.Collections.FSharpList`1",[e])}function Sn(e){return new dn(e.fullname+"[]",[e])}const bn=new dn("System.Object"),yn=(new dn("Microsoft.FSharp.Core.Unit"),new dn("System.Char"),new dn("System.String")),Tn=(new dn("System.Boolean"),new dn("System.SByte"),new dn("System.Byte"),new dn("System.Int16"),new dn("System.UInt16"),new dn("System.Int32"));new dn("System.UInt32"),new dn("System.Single"),new dn("System.Double"),new dn("System.Decimal");function En(e){if(Array.isArray(e))return e[0];if(e instanceof ln)return e.name;{const t=e.fullname.lastIndexOf(".");return-1===t?e.fullname:e.fullname.substr(t+1)}}function Rn(e){const t=null==e.generics||Cn(e)?[]:e.generics;return t.length>0?e.fullname+"["+t.map(e=>Rn(e)).join(",")+"]":e.fullname}function Cn(e){return e.fullname.endsWith("[]")}function Pn(e){var t;return Cn(e)?null===(t=e.generics)||void 0===t?void 0:t[0]:void 0}function Fn(e){return null!=e.generics&&e.generics.length>0}function Mn(e){return null!=e.enumCases&&e.enumCases.length>0}function Bn(e){return null==e.generics?e:new dn(e.fullname,e.generics.map(()=>bn))}function _n(e){var t;return null===(t=e.generics)||void 0===t?void 0:t[0]}function Dn(e){if(Mn(e)&&null!=e.enumCases)return e.enumCases.map(e=>e[1]);throw new Error(e.fullname+" is not an enum type")}function On(e,t){if(null!=e.enumCases){if("string"==typeof t){for(const n of e.enumCases)if(n[0]===t)return n;throw new Error(`'${t}' was not found in ${e.fullname}`)}for(const n of e.enumCases)if(n[1]===t)return n;return["",t]}throw new Error(e.fullname+" is not an enum type")}function Ln(e,t){const n=parseInt(t,10);return On(e,isNaN(n)?t:n)[1]}function Un(e){if(null!=e.cases)return e.cases();throw new Error(e.fullname+" is not an F# union type")}function In(e){if(null!=e.fields)return e.fields();throw new Error(e.fullname+" is not an F# record type")}function kn(e){if(Vn(e)&&null!=e.generics)return e.generics;throw new Error(e.fullname+" is not a tuple type")}function Nn(e){return e instanceof dn?null!=e.cases:e instanceof rn}function zn(e){return e instanceof dn?null!=e.fields:e instanceof cn}function Vn(e){return e.fullname.startsWith("System.Tuple")}function Hn(e){return null==e.fields?[]:e.fields}function jn(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);return null!=e.declaringType.construct?new e.declaringType.construct(e.tag,e.name,...t):{}}class Yn{constructor(e){this.value=e}toString(){return String(this.value)}toJSON(){return this.value}GetHashCode(){return Pe(this.value)}Equals(e){return null!=e&&Be(this.value,e instanceof Yn?e.value:e)}CompareTo(e){return null==e?1:Ue(this.value,e instanceof Yn?e.value:e)}}function Wn(e){return null==e||e instanceof Yn?new Yn(e):e}function Xn(e){if(null==e)throw new Error("Option has no value");return e instanceof Yn?e.value:e}function Gn(e,t){return null!=e?Xn(e):t}function qn(e,t){return null!=e?Xn(e):t()}function $n(e,t){return null!=t?Wn(e(Xn(t))):void 0}class Jn extends rn{}class Zn extends rn{}function Kn(e,t){return 0===t.tag?(n=e(t.fields[0]),new Zn(0,"Ok",n)):t;var n}class Qn{constructor(e){this.iter=e}MoveNext(){const e=this.iter.next();return this.current=e.value,!e.done}get Current(){return this.current}Reset(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function er(e){return new Qn(e[Symbol.iterator]())}function tr(e){return{next:()=>e.MoveNext()?{done:!1,value:e.Current}:{done:!0,value:void 0}}}function nr(e){const t={[Symbol.iterator]:e,toString:()=>"seq ["+Array.from(t).join("; ")+"]"};return t}function rr(e){return sr(()=>yr(t=>null!=t&&t<e.length?[e[t],t+1]:void 0,0))}function ir(e,t){return sr(()=>{let n=!1;let r=[e[Symbol.iterator](),void 0];return yr(()=>{var e,i;let o;if(!n){if(o=null===(e=r[0])||void 0===e?void 0:e.next(),null!=o&&!o.done)return[o.value,r];n=!0,r=[void 0,t[Symbol.iterator]()]}return o=null===(i=r[1])||void 0===i?void 0:i.next(),null==o||o.done?void 0:[o.value,r]},r)})}function or(e){return sr(()=>{const t=e[Symbol.iterator]();let n;return yr(e=>{let r=!1;for(;!r;)if(null==e){const n=t.next();n.done?r=!0:e=n.value[Symbol.iterator]()}else{const t=e.next();t.done?e=void 0:(n=t.value,r=!0)}return null!=e?[n,e]:void 0},void 0)})}function ur(e,t){return or(gr(e,t))}function sr(e){return nr(()=>e()[Symbol.iterator]())}function cr(e){return[e]}function ar(e,t){let n;for(const r=t[Symbol.iterator]();n=r.next(),!n.done;)if(e(n.value))return!0;return!1}function fr(e,t){return ar(t=>Be(t,e),t)}function lr(e,t){return sr(()=>yr(t=>{let n=t.next();for(;!n.done;){if(e(n.value))return[n.value,t];n=t.next()}},t[Symbol.iterator]()))}function dr(e,t,n){if(Array.isArray(n)||ArrayBuffer.isView(n))return n.reduce(e,t);{let r;for(let i=0,o=n[Symbol.iterator]();r=o.next(),!r.done;i++)t=e(t,r.value,i);return t}}function hr(e){const t=e[Symbol.iterator]().next();return t.done?void 0:Wn(t.value)}function vr(e,t){dr((t,n)=>{e(n)},void 0,t)}function wr(e,t){dr((t,n,r)=>{e(null!=r?r:0,n)},void 0,t)}function gr(e,t){return sr(()=>yr(t=>{const n=t.next();return n.done?void 0:[e(n.value),t]},t[Symbol.iterator]()))}function pr(e,t){return sr(()=>{let n=0;return yr(t=>{const r=t.next();return r.done?void 0:[e(n++,r.value),t]},t[Symbol.iterator]())})}function mr(e,t,n){const r=null!=n?n.Compare:Ue;return xr((t,n)=>-1===r(e(t),e(n))?t:n,t)}function Ar(e,t,n){if(0===t)throw new Error("Step cannot be 0");return sr(()=>yr(e=>t>0&&e<=n||t<0&&e>=n?[e,e+t]:void 0,e))}function xr(e,t){if(Array.isArray(t)||ArrayBuffer.isView(t))return t.reduce(e);const n=t[Symbol.iterator]();let r=n.next();if(r.done)throw new Error("Seq was empty");let i=r.value;for(;r=n.next(),!r.done;)i=e(i,r.value);return i}function Sr(e){return rr((Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):Array.from(e)).reverse())}function br(e,t,n){return dr((t,r)=>n.Add(t,e(r)),n.GetZero(),t)}function yr(e,t){return nr(()=>{let n=t;return{next(){const t=e(n);if(null!=t){const e=Xn(t);if(null!=e)return n=e[1],{done:!1,value:e[0]}}return{done:!0,value:void 0}}}})}const Tr=Qt((function(){}));Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);function Er(e,t){return fetch(e,function(e,t=ze){function n(e){throw new Error("Cannot infer key and value of "+String(e))}const r={},i=t;for(let t of e){let e=ze;if(null==t&&n(t),"function"==typeof t.toJSON&&(t=t.toJSON(),e=i),Array.isArray(t))switch(t.length){case 0:n(t);break;case 1:r[Xe(t[0],e)]=!0;break;case 2:const i=t[1];r[Xe(t[0],e)]=i;break;default:r[Xe(t[0],e)]=t.slice(1)}else"string"==typeof t?r[Xe(t,e)]=!0:n(t)}return r}(t,1)).then((function(e){if(e.ok)return e;{const n=be((t=e).status)+" "+t.statusText+" for URL "+t.url;throw new Error(n)}var t}))}const Rr=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);const Cr=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);const Pr=Qt((function(e,t){this.Hash=e,this.Coders=t}),cn);const Fr=Qt((function(){this.cache=new Map([])}));function Mr(){return this instanceof Fr?Fr.call(this):new Fr}function Br(e,t,n){const r=pe(e.cache,t,null);if(r[0])return r[1];{const r=n();return Ze(e.cache,t,r),r}}Mr();const _r=Mr();function Dr(e){return e.slice(void 0,1).toLowerCase()+e.slice(1,e.length)}function Or(e,t){switch(e.tag){case 2:return function(e,t,n,r,i=0){if("string"==typeof e){const n=e;e=Pt(t,null!=r?r:0),t=n,r=void 0}if("function"==typeof n)return r=null==r?-1:r,t.substring(0,i)+t.substring(i).replace(e,(function(){let e=arguments[0];if(r){r--;const t=[],i=arguments.length;for(let e=0;e<i-2;e++)t.push(arguments[e]);t.index=arguments[i-2],t.input=arguments[i-1],e=n(t)}return e}));if(n=n.replace(/\$0/g,e=>"$&"),null!=r){let o;const u=t.substring(i),s=Mt(e,u),c=Mt.length>r?(o=s[r-1],u.substring(0,o.index+o[0].length)):u;return t.substring(0,i)+c.replace(e,n)+t.substring(i+c.length)}return t.replace(e,n)}(Dr(t),"[A-Z]","_$0").toLowerCase();case 0:return t;default:return Dr(t)}}const Lr=Qt((function(e,t){const n=new fn(null);this.comparer=t,n.contents=this,this.hashMap=new Map([]),this["init@20-1"]=1,vr((function(e){zr(n.contents,e[0],e[1])}),e)}));function Ur(e,t){const n=0|e.comparer.GetHashCode(t),r=pe(e.hashMap,n,null);return r[0]?[!0,n,r[1].findIndex((function(n){return e.comparer.Equals(t,n[0])}))]:[!1,n,-1]}function Ir(e,t){const n=Ur(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return Ke(e.hashMap,n[1])[n[2]];case 1:return}}function kr(e){e.hashMap.clear()}function Nr(e){return 0|br((function(e){return e.length}),e.hashMap.values(),{GetZero:()=>0,Add:(e,t)=>e+t})}function zr(e,t,n){const r=Ur(e,t);switch(r[0]&&r[2]>-1?0:1){case 0:{const e=Xt("An item with the same key has already been added. Key: {0}",t);throw new Error(e)}case 1:if(r[0]){Ke(e.hashMap,r[1]).push([t,n])}else e.hashMap.set(r[1],[[t,n]])}}function Vr(e,t){const n=Ur(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return Ke(e.hashMap,n[1]).splice(n[2],1),!0;case 1:return!1}}Lr.prototype[Symbol.iterator]=function(){const e=this;return tr(er(sr((function(){return ur((function(e){return gr((function(e){return e}),e)}),e.hashMap.values())}))))},Lr.prototype.Add=function(e){zr(this,e[0],e[1])},Lr.prototype.Clear=function(){kr(this)},Lr.prototype.Contains=function(e){const t=Ir(this,e[0]);switch(null!=t&&Be(t[1],e[1])?0:1){case 0:return!0;case 1:return!1}},Lr.prototype.CopyTo=function(e,t){wr((function(n,r){e[t+n]=r}),this)},Object.defineProperty(Lr.prototype,"Count",{get:function(){return 0|Nr(this)}}),Object.defineProperty(Lr.prototype,"IsReadOnly",{get:function(){return!1}}),Lr.prototype.Remove=function(e){const t=this,n=Ir(t,e[0]);if(null!=n){if(Be(n[1],e[1])){Vr(t,e[0])}return!0}return!1},Object.defineProperty(Lr.prototype,"size",{get:function(){return 0|Nr(this)}}),Lr.prototype.clear=function(){kr(this)},Lr.prototype.delete=function(e){return Vr(this,e)},Lr.prototype.entries=function(){return gr((function(e){return e}),this)},Lr.prototype.get=function(e){return function(e,t){const n=Ir(e,t);if(null!=n){return n[1]}throw new Error("The item was not found in collection")}(this,e)},Lr.prototype.has=function(e){return function(e,t){const n=Ur(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return!0;case 1:return!1}}(this,e)},Lr.prototype.keys=function(){return gr((function(e){return e[0]}),this)},Lr.prototype.set=function(e,t){return function(e,t,n){const r=Ur(e,t);switch(r[0]&&r[2]>-1?0:1){case 0:Ke(e.hashMap,r[1])[r[2]]=[t,n];break;case 1:if(r[0]){Ke(e.hashMap,r[1]).push([t,n])}else e.hashMap.set(r[1],[[t,n]])}}(this,e,t),this},Lr.prototype.values=function(){return gr((function(e){return e[1]}),this)};const Hr=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);function jr(e){return function e(t,n){e:for(;;){const r=t,i=n;switch(i.tag){case 1:return r+1|0;case 2:t=e(r+1,i.fields[2]),n=i.fields[3];continue e;default:return 0|r}break}}(0,e)}function Yr(){return new Hr(0,"MapEmpty")}function Wr(e){switch(e.tag){case 1:return 1;case 2:return 0|e.fields[4];default:return 0}}function Xr(e,t,n,r){switch(0===e.tag&&0===r.tag?0:1){case 0:return new Hr(1,"MapOne",t,n);case 1:{const i=0|Wr(e),o=0|Wr(r);return new Hr(2,"MapNode",t,n,e,r,(0|(i<o?o:i))+1)}}}function Gr(e,t,n,r){const i=0|Wr(e),o=0|Wr(r);if(o>i+2){if(2===r.tag){if(Wr(r.fields[2])>i+1){if(2===r.fields[2].tag)return Xr(Xr(e,t,n,r.fields[2].fields[2]),r.fields[2].fields[0],r.fields[2].fields[1],Xr(r.fields[2].fields[3],r.fields[0],r.fields[1],r.fields[3]));throw new Error("rebalance")}return Xr(Xr(e,t,n,r.fields[2]),r.fields[0],r.fields[1],r.fields[3])}throw new Error("rebalance")}if(i>o+2){if(2===e.tag){if(Wr(e.fields[3])>o+1){if(2===e.fields[3].tag)return Xr(Xr(e.fields[2],e.fields[0],e.fields[1],e.fields[3].fields[2]),e.fields[3].fields[0],e.fields[3].fields[1],Xr(e.fields[3].fields[3],t,n,r));throw new Error("re  balance")}return Xr(e.fields[2],e.fields[0],e.fields[1],Xr(e.fields[3],t,n,r))}throw new Error("rebalance")}return Xr(e,t,n,r)}function qr(e,t,n,r){switch(r.tag){case 1:{const i=0|e.Compare(t,r.fields[0]);return i<0?new Hr(2,"MapNode",t,n,new Hr(0,"MapEmpty"),r,2):0===i?new Hr(1,"MapOne",t,n):new Hr(2,"MapNode",t,n,r,new Hr(0,"MapEmpty"),2)}case 2:{const i=0|e.Compare(t,r.fields[0]);return i<0?Gr(qr(e,t,n,r.fields[2]),r.fields[0],r.fields[1],r.fields[3]):0===i?new Hr(2,"MapNode",t,n,r.fields[2],r.fields[3],r.fields[4]):Gr(r.fields[2],r.fields[0],r.fields[1],qr(e,t,n,r.fields[3]))}default:return new Hr(1,"MapOne",t,n)}}function $r(e,t,n){e:for(;;){const r=e,i=t,o=n;switch(o.tag){case 1:return 0===(0|r.Compare(i,o.fields[0]))?Wn(o.fields[1]):void 0;case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){e=r,t=i,n=o.fields[2];continue e}if(0===u)return Wn(o.fields[1]);e=r,t=i,n=o.fields[3];continue e}default:return}break}}function Jr(e,t){e:for(;;){const n=e,r=t;switch(r.tag){case 1:n(r.fields[0],r.fields[1]);break;case 2:Jr(n,r.fields[2]),n(r.fields[0],r.fields[1]),e=n,t=r.fields[3];continue e}break}}function Zr(e,t){const n=er(t);try{return function(e,t,n){for(;;){const r=e,i=t,o=n;if(!o.MoveNext())return i;{const u=o.Current;e=r,t=qr(r,u[0],u[1],i),n=o}}}(e,Yr(),n)}finally{ge(n)&&n.Dispose()}}const Kr=Qt((function(e,t){this.stack=e,this.started=t}),cn);function Qr(e){for(;;){const t=e;if(null==t.tail)return new nn;if(1===t.head.tag)return t;2!==t.head.tag?e=t.tail:e=new nn(t.head.fields[2],new nn(new Hr(1,"MapOne",t.head.fields[0],t.head.fields[1]),new nn(t.head.fields[3],t.tail)))}}function ei(e){return new Kr(Qr(new nn(e,new nn)),!1)}function ti(e){if(e.started){const t=e.stack;if(null==t.tail)return function(){throw new Error("enumeration already finished")}();if(1===t.head.tag)return[t.head.fields[0],t.head.fields[1]];throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration not started")}()}const ni=Qt((function(e){this.s=e,this.i=ei(this.s)}));function ri(e){return function(e){return this instanceof ni?ni.call(this,e):new ni(e)}(e)}function ii(e){return yr((function(e){return e.MoveNext()?[e.Current,e]:void 0}),ri(e))}Object.defineProperty(ni.prototype,"Current",{get:function(){return ti(this.i)}}),ni.prototype.MoveNext=function(){return function(e){if(e.started){const t=e.stack;if(null==t.tail)return!1;if(1===t.head.tag)return e.stack=Qr(t.tail),!(null==e.stack.tail);throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return e.started=!0,!(null==e.stack.tail)}(this.i)},ni.prototype.Reset=function(){this.i=ei(this.s)},ni.prototype.Dispose=function(){};const oi=Qt((function(e,t){this.comparer=e,this.tree=t}));function ui(e,t){return this instanceof oi?oi.call(this,e,t):new oi(e,t)}function si(e){return e.tree}function ci(e,t){return function(e,t,n){e:for(;;){const r=e,i=t,o=n;switch(o.tag){case 1:if(0===(0|r.Compare(i,o.fields[0])))return o.fields[1];throw new Error("key not found");case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){e=r,t=i,n=o.fields[2];continue e}if(0===u)return o.fields[1];e=r,t=i,n=o.fields[3];continue e}default:throw new Error("key not found")}break}}(e.comparer,t,e.tree)}function ai(e,t){return ui(e.comparer,function e(t,n){switch(n.tag){case 1:return new Hr(1,"MapOne",n.fields[0],t(n.fields[0],n.fields[1]));case 2:{const r=e(t,n.fields[2]),i=t(n.fields[0],n.fields[1]),o=e(t,n.fields[3]);return new Hr(2,"MapNode",n.fields[0],i,r,o,n.fields[4])}default:return Yr()}}(t,e.tree))}function fi(e){return jr(e.tree)}function li(e,t){return function(e,t,n){e:for(;;){const r=e,i=t,o=n;switch(o.tag){case 1:return 0===r.Compare(i,o.fields[0]);case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){e=r,t=i,n=o.fields[2];continue e}if(0===u)return!0;e=r,t=i,n=o.fields[3];continue e}default:return!1}break}}(e.comparer,t,e.tree)}function di(e,t,n){return i=e,o=t,ui((r=n).comparer,qr(r.comparer,i,o,r.tree));var r,i,o}function hi(e,t){return ci(t,e)}function vi(e,t){return r=e,$r((n=t).comparer,r,n.tree);var n,r}function wi(e,t){Jr(e,t.tree)}function gi(e,t){return ai(t,e)}function pi(e,t){return ui(t,(n=t,r=e,dr((function(e,t){return qr(n,t[0],t[1],e)}),Yr(),r)));var n,r}function mi(e,t){return ui(t,function(e,t){let n=Yr();for(let r=0;r<=t.length-1;r++){const i=t[r];n=qr(e,i[0],i[1],n)}return n}(t,e))}function Ai(e){return ui(e,new Hr(0,"MapEmpty"))}function xi(e,t){return function(e,t){return this instanceof Lr?Lr.call(this,e,t):new Lr(e,t)}(e,t)}oi.prototype.toString=function(){let e,t;return t=gr((function(e){return Xt("({0}, {1})",e[0],e[1])}),this),e=Gt("; ",t),"map ["+e+"]"},oi.prototype.GetHashCode=function(){const e=function(e,t){return(e<<1)+t+631};let t=0;const n=ri(si(this));for(;n.MoveNext();){const r=n.Current;t=e(t,Pe(r[0])),t=e(t,Pe(r[1]))}return 0|Math.abs(t)},oi.prototype.Equals=function(e){return 0===this.CompareTo(e)},oi.prototype[Symbol.iterator]=function(){return tr(ri(this.tree))},oi.prototype.CompareTo=function(e){const t=this;let n=0,r=!1;const i=ri(si(t));try{const o=ri(si(e));try{for(;!r&&0===n;){const e=[i.MoveNext(),o.MoveNext()];if(e[0])if(e[1]){const e=i.Current,r=o.Current,u=0|t.comparer.Compare(e[0],r[0]);n=0!==u?u:Ue(e[1],r[1])}else n=1;else e[1]?n=-1:r=!0}return 0|n}finally{ge(o)&&o.Dispose()}}finally{ge(i)&&i.Dispose()}},Object.defineProperty(oi.prototype,"size",{get:function(){return 0|fi(this)}}),oi.prototype.clear=function(){throw new Error("Map cannot be mutated")},oi.prototype.delete=function(e){throw new Error("Map cannot be mutated")},oi.prototype.entries=function(){return ii(si(this))},oi.prototype.get=function(e){return ci(this,e)},oi.prototype.has=function(e){return li(this,e)},oi.prototype.keys=function(){return gr((function(e){return e[0]}),ii(si(this)))},oi.prototype.set=function(e,t){throw new Error("Map cannot be mutated")},oi.prototype.values=function(){return gr((function(e){return e[1]}),ii(si(this)))};const Si=Qt((function(e,t){const n=new fn(null);this.comparer=t,n.contents=this,this.hashMap=new Map([]),this["init@21-2"]=1,vr((function(e){Ei(n.contents,e)}),e)}));function bi(e,t){const n=0|e.comparer.GetHashCode(t),r=pe(e.hashMap,n,null);return r[0]?[!0,n,r[1].findIndex((function(n){return e.comparer.Equals(t,n)}))]:[!1,n,-1]}function yi(e){e.hashMap.clear()}function Ti(e){return 0|br((function(e){return e.length}),e.hashMap.values(),{GetZero:()=>0,Add:(e,t)=>e+t})}function Ei(e,t){const n=bi(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return!1;case 1:if(n[0]){Ke(e.hashMap,n[1]).push(t);return!0}return e.hashMap.set(n[1],[t]),!0}}function Ri(e,t){const n=bi(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return!0;case 1:return!1}}function Ci(e,t){const n=bi(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return Ke(e.hashMap,n[1]).splice(n[2],1),!0;case 1:return!1}}Si.prototype[Symbol.iterator]=function(){const e=this;return tr(er(sr((function(){return ur((function(e){return gr((function(e){return e}),e)}),e.hashMap.values())}))))},Si.prototype.Add=function(e){Ei(this,e)},Si.prototype.Clear=function(){yi(this)},Si.prototype.Contains=function(e){return Ri(this,e)},Si.prototype.CopyTo=function(e,t){wr((function(n,r){e[t+n]=r}),this)},Object.defineProperty(Si.prototype,"Count",{get:function(){return 0|Ti(this)}}),Object.defineProperty(Si.prototype,"IsReadOnly",{get:function(){return!1}}),Si.prototype.Remove=function(e){return Ci(this,e)},Object.defineProperty(Si.prototype,"size",{get:function(){return 0|Ti(this)}}),Si.prototype.add=function(e){Ei(this,e);return this},Si.prototype.add_=function(e){return Ei(this,e)},Si.prototype.clear=function(){yi(this)},Si.prototype.delete=function(e){return Ci(this,e)},Si.prototype.has=function(e){return Ri(this,e)},Si.prototype.keys=function(){return gr((function(e){return e}),this)},Si.prototype.values=function(){return gr((function(e){return e}),this)},Si.prototype.entries=function(){return gr((function(e){return[e,e]}),this)};const Pi=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);function Fi(e){return new Pi(2,"SetOne",e)}function Mi(e,t,n,r){return new Pi(1,"SetNode",e,t,n,r)}function Bi(e){switch(e.tag){case 2:return 1;case 1:return 0|e.fields[3];default:return 0}}function _i(e,t,n){switch(0===e.tag&&0===n.tag?0:1){case 0:return Fi(t);case 1:{const r=0|Bi(e),i=0|Bi(n);return Mi(t,e,n,(0|(r<i?i:r))+1)}}}function Di(e,t,n){const r=0|Bi(e),i=0|Bi(n);if(i>r+2){if(1===n.tag){if(Bi(n.fields[1])>r+1){if(1===n.fields[1].tag)return _i(_i(e,t,n.fields[1].fields[1]),n.fields[1].fields[0],_i(n.fields[1].fields[2],n.fields[0],n.fields[2]));throw new Error("rebalance")}return _i(_i(e,t,n.fields[1]),n.fields[0],n.fields[2])}throw new Error("rebalance")}if(r>i+2){if(1===e.tag){if(Bi(e.fields[2])>i+1){if(1===e.fields[2].tag)return _i(_i(e.fields[1],e.fields[0],e.fields[2].fields[1]),e.fields[2].fields[0],_i(e.fields[2].fields[2],t,n));throw new Error("rebalance")}return _i(e.fields[1],e.fields[0],_i(e.fields[2],t,n))}throw new Error("rebalance")}return _i(e,t,n)}function Oi(e,t,n){switch(n.tag){case 2:{const r=0|e.Compare(t,n.fields[0]);return r<0?Mi(t,new Pi(0,"SetEmpty"),n,2):0===r?n:Mi(t,n,new Pi(0,"SetEmpty"),2)}case 0:return Fi(t);default:{const r=0|e.Compare(t,n.fields[0]);return r<0?Di(Oi(e,t,n.fields[1]),n.fields[0],n.fields[2]):0===r?n:Di(n.fields[1],n.fields[0],Oi(e,t,n.fields[2]))}}}const Li=Qt((function(e,t){this.stack=e,this.started=t}),cn);function Ui(e){for(;;){const t=e;if(null==t.tail)return new nn;if(2===t.head.tag)return t;1!==t.head.tag?e=t.tail:e=new nn(t.head.fields[1],new nn(Fi(t.head.fields[0]),new nn(t.head.fields[2],t.tail)))}}function Ii(e){return new Li(Ui(new nn(e,new nn)),!1)}function ki(e){if(e.started){const t=e.stack;if(null==t.tail)return function(){throw new Error("Enumeration already started")}();if(2===t.head.tag)return t.head.fields[0];throw new Error("Please report error: Set iterator, unexpected stack for current")}return function(){throw new Error("Enumeration not started")}()}const Ni=Qt((function(e){this.s=e,this.i=Ii(this.s)}));function zi(e){return function(e){return this instanceof Ni?Ni.call(this,e):new Ni(e)}(e)}function Vi(e,t,n){return 0===t.tag?0===n.tag?0:-1:0===n.tag?1:0|function(e,t,n){e:for(;;){const N=e,z=t,V=n;var r,i,o,u,s,c,a,f,l,d,h,v,w,g,p,m,A,x,S,b,y,T,E,R,C,P,F,M,B,_,D,O,L,U,I,k;switch(null!=z.tail?null!=V.tail?2===V.head.tag?2===z.head.tag?(r=4,u=z.head.fields[0],s=V.head.fields[0],c=z.tail,a=V.tail):1===z.head.tag?0===z.head.fields[1].tag?(r=6,w=z.head.fields[1],g=z.head.fields[0],p=z.head.fields[2],m=V.head.fields[0],A=z.tail,x=V.tail):(r=9,F=z.head.fields[0],M=z.head.fields[1],B=z.head.fields[2],_=z.tail):(r=10,D=V.head.fields[0],O=V.tail):1===V.head.tag?0===V.head.fields[1].tag?2===z.head.tag?(r=5,f=z.head.fields[0],l=V.head.fields[0],d=V.head.fields[2],h=z.tail,v=V.tail):1===z.head.tag?0===z.head.fields[1].tag?(r=7,S=z.head.fields[0],b=z.head.fields[2],y=V.head.fields[0],T=V.head.fields[2],E=z.tail,R=V.tail):(r=9,F=z.head.fields[0],M=z.head.fields[1],B=z.head.fields[2],_=z.tail):(r=11,L=V.head.fields[0],U=V.head.fields[1],I=V.head.fields[2],k=V.tail):2===z.head.tag?(r=8,C=z.head.fields[0],P=z.tail):1===z.head.tag?(r=9,F=z.head.fields[0],M=z.head.fields[1],B=z.head.fields[2],_=z.tail):(r=11,L=V.head.fields[0],U=V.head.fields[1],I=V.head.fields[2],k=V.tail):2===z.head.tag?(r=8,C=z.head.fields[0],P=z.tail):1===z.head.tag?(r=9,F=z.head.fields[0],M=z.head.fields[1],B=z.head.fields[2],_=z.tail):(r=3,i=z.tail,o=V.tail):r=2:r=null!=V.tail?1:0,r){case 0:return 0;case 1:return-1;case 2:return 1;case 3:e=N,t=i,n=o;continue e;case 4:{const r=0|N.Compare(u,s);if(0!==r)return 0|r;e=N,t=c,n=a;continue e}case 5:{const r=0|N.Compare(f,l);if(0!==r)return 0|r;e=N,t=new nn(new Pi(0,"SetEmpty"),h),n=new nn(d,v);continue e}case 6:{const r=0|N.Compare(g,m);if(0!==r)return 0|r;e=N,t=new nn(p,A),n=new nn(w,x);continue e}case 7:{const r=0|N.Compare(S,y);if(0!==r)return 0|r;e=N,t=new nn(b,E),n=new nn(T,R);continue e}case 8:e=N,t=new nn(new Pi(0,"SetEmpty"),new nn(Fi(C),P)),n=V;continue e;case 9:e=N,t=new nn(M,new nn(Mi(F,new Pi(0,"SetEmpty"),B,0),_)),n=V;continue e;case 10:e=N,t=z,n=new nn(new Pi(0,"SetEmpty"),new nn(Fi(D),O));continue e;case 11:e=N,t=z,n=new nn(U,new nn(Mi(L,new Pi(0,"SetEmpty"),I,0),k));continue e}break}}(e,new nn(t,new nn),new nn(n,new nn))}function Hi(e,t){const n=er(t);try{return function(e,t,n){for(;;){const r=e,i=t,o=n;if(!o.MoveNext())return i;e=r,t=Oi(r,o.Current,i),n=o}}(e,new Pi(0,"SetEmpty"),n)}finally{ge(n)&&n.Dispose()}}Object.defineProperty(Ni.prototype,"Current",{get:function(){return ki(this.i)}}),Ni.prototype.MoveNext=function(){return function(e){if(e.started){const t=e.stack;if(null==t.tail)return!1;if(2===t.head.tag)return e.stack=Ui(t.tail),!(null==e.stack.tail);throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return e.started=!0,!(null==e.stack.tail)}(this.i)},Ni.prototype.Reset=function(){this.i=Ii(this.s)},Ni.prototype.Dispose=function(){};const ji=Qt((function(e,t){this.comparer=e,this.tree=t}));function Yi(e,t){return this instanceof ji?ji.call(this,e,t):new ji(e,t)}function Wi(e){return e.comparer}function Xi(e){return e.tree}function Gi(e,t){return Yi(t,Hi(t,e))}ji.prototype.toString=function(){return"set ["+(Gt("; ",gr((function(e){return String(e)}),this))+"]")},ji.prototype.GetHashCode=function(){let e=0;const t=zi(Xi(this));for(;t.MoveNext();){e=((0|e)<<1)+(0|Pe(t.Current))+631}return 0|Math.abs(e)},ji.prototype.Equals=function(e){return 0===Vi(Wi(this),Xi(this),Xi(e))},ji.prototype.CompareTo=function(e){return 0|Vi(Wi(this),Xi(this),Xi(e))},ji.prototype[Symbol.iterator]=function(){return tr(zi(Xi(this)))};function qi(e,t,n,r){return e.fill(r,t,t+n),e}function $i(e,t,n){if(ArrayBuffer.isView(t)){const r=0|t.length,i=new n(r);for(let n=0;n<=r-1;n++)i[n]=e(t[n]);return i}return t.map((function(t){return e(t)}))}function Ji(e,t,n){return function(e,t){var n;const r=Array.isArray(e)?e:Array.from(e);switch(0|r.length){case 0:return new t(0);case 1:return r[0];default:if(n=r[0],ArrayBuffer.isView(n)){let e=0,n=0;for(let e=0;e<=r.length-1;e++){n+=r[e].length}const i=new t(n);for(let t=0;t<=r.length-1;t++){const n=r[t];for(let t=0;t<=n.length-1;t++)i[e]=n[t],e+=1}return i}return r[0].concat(...r.slice(1))}}($i(e,t,Array),n)}function Zi(e,t,n){if(e<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=new n(e);for(let n=0;n<=e-1;n++)r[n]=t(n);return r}function Ki(e,t,n){return n.reduce((function(t,n){return e(t,n)}),t)}function Qi(e,t,n,r){return function(e,t,n,r){let i=r;if(t.length!==n.length)throw new Error("Arrays had different lengths");const o=0|t.length;for(let r=1;r<=o;r++)i=e(r-1,t[o-r],n[o-r],i);return i}((function(t,n,r,i){return e(n,r,i)}),t,n,r)}function eo(e,t,n){let r=n.GetZero();for(let i=0;i<=t.length-1;i++)r=n.Add(r,e(t[i]));return r}function to(e,t){return t.from(e)}const no=Qt((function(e,t){this.bound=0|e,this.digits=t}),cn);function ro(e,t){for(;;){const n=e,r=t;if(0===r)return 1;if(r%2!=0)return n*ro(n*n,~~(r/2))|0;e=n*n,t=~~(r/2)}}oe(2013265921,0,!1),oe(2013265921,0,!0);Zi(28,(function(e){return ro(2,e)}),Int32Array);function io(e){return e.bound}function oo(e,t){return e.digits[t]}function uo(e,t){return de(oo(e,t),!1,2)}function so(e,t,n){e.digits[t]=n}function co(e,t){for(;;){const n=e,r=t;if(0===r)return oe(1,0,!1);if(r%2!=0)return Q(n,co(Q(n,n),~~(r/2)));e=Q(n,n),t=~~(r/2)}}function ao(e,t){for(;;){const n=e,r=t;if(0===r)return 1;if(r%2!=0)return n*ao(n*n,~~(r/2))|0;e=n*n,t=~~(r/2)}}const fo=oe(16777216,0,!1),lo=oe(16777215,0,!1);oe(16777215,0,!0);function ho(e){return new no(e,new Int32Array(e))}function vo(e){const t=0|function(e,t){for(;;){const n=e,r=t;if(-1===r||0!==n[r])return r+1|0;e=n,t=r-1}}(e.digits,e.bound-1);return e.bound=t,e}function wo(e){const t=0|(e<0?0:e);if(t<16777216){const e=ho(1);return e.digits[0]=t,vo(e)}{const e=ho(2);for(let n=0;n<=1;n++)e.digits[n]=~~(t/ao(16777216,n))%16777216;return vo(e)}}const go=wo(1),po=wo(0);function mo(e){return e.bound-1}function Ao(e){return 0===e.bound}function xo(e,t){if(e.bound===t.bound){return function(e,t,n){for(;;){const r=e,i=t,o=n;if(-1===o)return!0;if(r[o]!==i[o])return!1;e=r,t=i,n=o-1}}(e.digits,t.digits,e.bound-1)}return!1}function So(e,t){if(e.bound<t.bound)return-1;if(e.bound>t.bound)return 1;return 0|function(e,t,n){for(;;){const r=e,i=t,o=n;if(-1===o)return 0;if(r[o]!==i[o])return r[o]<i[o]?-1:1;e=r,t=i,n=o-1}}(e.digits,t.digits,e.bound-1)}function bo(e,t){return-1===So(e,t)}function yo(e,t,n){for(var r;;){const i=e,o=t,u=n;if(!(ie(o,oe(0,0,!1))>0))break;{const s=K(uo(i,u),o);so(i,u,(r=re(s,lo),~~ce(r))),e=i,t=ee(s,fo),n=u+1}}}function To(e,t){var n;const r=0|io(e),i=ho(r+1|0),o=de(t,!1,2);let u=oe(0,0,!1);for(let t=0;t<=r-1;t++){const r=K(K(u,uo(i,t)),Q(uo(e,t),o));so(i,t,(n=re(r,lo),~~ce(n))),u=ee(r,fo)}return yo(i,u,r),vo(i)}function Eo(e,t){const n=1===io(e),r=1===io(t);return n&&r?function(e,t){var n;const r=ho(2),i=Q(de(e,!1,2),de(t,!1,2));return so(r,0,(n=re(i,lo),~~ce(n))),so(r,1,~~ce(ee(i,fo))),vo(r)}(oo(e,0),oo(t,0)):n?To(t,oo(e,0)):r?To(e,oo(t,0)):function(e,t){var n;const r=ho(e.bound+t.bound|0);for(let i=0;i<=e.bound-1;i++){const o=de(e.digits[i],!1,2);let u=oe(0,0,!1),s=0|i;for(let e=0;e<=t.bound-1;e++){const i=de(t.digits[e],!1,2),c=K(K(de(r.digits[s],!1,2),u),Q(o,i));r.digits[s]=(n=re(c,lo),~~ce(n)),u=ee(c,fo),s+=1}yo(r,u,s)}return vo(r)}(e,t)}const Ro=Qt((function(e,t,n,r,i,o,u){this.bigL=0|e,this.twoToBigL=0|t,this.k=0|n,this.bigK=0|r,this.bigN=0|i,this.split=0|o,this.splits=u}),cn);function Co(e,t,n,r){return new Ro(e,ao(2,e),t,n,r,~~(24/e),Zi(~~(24/e),(function(t){return ao(2,e*t)}),Int32Array))}const Po=[Co(1,28,268435456,268435456),Co(2,26,67108864,134217728),Co(3,24,16777216,50331648),Co(4,22,4194304,16777216),Co(5,20,1048576,5242880),Co(6,18,262144,1572864),Co(7,16,65536,458752),Co(8,14,16384,131072),Co(9,12,4096,36864),Co(10,10,1024,10240),Co(11,8,256,2816),Co(12,6,64,768),Co(13,4,16,208)];Zi(24,(function(e){return ao(2,e)-1}),Int32Array),Zi(24,(function(e){return ao(2,e)}),Int32Array),Zi(24,(function(e){return co(oe(2,0,!1),e)}),Array);Po[0].bigN;function Fo(e,t){return Eo(e,t)}function Mo(e,t,n,r){const i=[e.digits,mo(e)],o=[n.digits,mo(n)],u=de(t,!1,2);let s=0,c=Q(u,de(o[0][0],!1,2));for(;ie(c,oe(0,0,!1))>0||s<o[1];){if(s>i[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let e,t;const n=re(c,lo);let a;t=~~ce(n),e=t;a=ee(c,fo),e<=i[0][s+r]?i[0][s+r]=i[0][s+r]-e:(i[0][s+r]=i[0][s+r]+(16777216-e),a=K(a,oe(1,0,!1))),c=s<o[1]?K(a,Q(u,de(o[0][s+1],!1,2))):a,s+=1}vo(e)}function Bo(e,t,n,r){const i=[e.digits,mo(e)],o=[n.digits,mo(n)],u=de(t,!1,2);let s=0,c=Q(u,de(o[0][0],!1,2));for(;ie(c,oe(0,0,!1))>0||s<o[1];){if(s>i[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let e,t;const n=re(c,lo);let a;t=~~ce(n),e=t;a=ee(c,fo),e<16777216-i[0][s+r]?i[0][s+r]=i[0][s+r]+e:(i[0][s+r]=e-(16777216-i[0][s+r]),a=K(a,oe(1,0,!1))),c=s<o[1]?K(a,Q(u,de(o[0][s+1],!1,2))):a,s+=1}vo(e)}function _o(e,t,n){const r=[mo(t),mo(e)];if(r[1]<r[0]+n)return 0;{let c;if(0===r[0])if(r[1]===n)c=~~(e.digits[n]/t.digits[0]);else{const n=ee(K(Q(de(e.digits[r[1]],!1,2),fo),de(e.digits[r[1]-1],!1,2)),de(t.digits[0],!1,2));c=~~ce(n)}else if(r[1]===r[0]+n)c=~~(e.digits[r[1]]/(t.digits[r[0]]+1));else{const n=ee(K(Q(de(e.digits[r[1]],!1,2),fo),de(e.digits[r[1]-1],!1,2)),K(de(t.digits[r[0]],!1,2),oe(1,0,!1)));c=~~ce(n)}if(0===c){return 1!=(o=n,u=e,s=0,(i=t).bound+o<u.bound+s?-1:i.bound+o>u.bound+o?1:0|function(e,t,n){e:for(;;){const r=e,i=t,u=n;if(-1===u)return 0;{const c=0|(u<o?0:r[u-o]),a=0|(u<s?0:i[u-s]);if(c===a){e=r,t=i,n=u-1;continue e}return c<a?-1:1}}}(i.digits,u.digits,i.bound+o-1))?1:0}return 0|c}var i,o,u,s}function Do(e,t){if(Ao(t))throw new Error;if(mo(e)<mo(t))return[po,e];{const i=new no((n=e).bound,(r=n.digits,Int32Array,r.slice())),o=ho(mo(e)-mo(t)+1+1);let u=0|mo(e);const s=0|mo(t);let c=u-s|0;const a=function(e){};let f=!1;for(;!f;){a([o,i,c,u]);const e=0|_o(i,t,c);e>0?(Mo(i,e,t,c),Bo(o,e,go,c),a([o,i,c,u])):(f=0===e&&0===c,f||(u===s+c?(a([o,i,c-1,u]),c-=1):(a([o,i,c-1,u-1]),c-=1,u-=1)))}return[vo(o),vo(i)]}var n,r}wo(2);function Oo(e){return wo(e)}function Lo(e){return function(e){const t=ie(e,oe(0,0,!1))<0?oe(0,0,!1):e,n=ho(3);for(let e=0;e<=2;e++)n.digits[e]=~~ce(te(ee(t,co(fo,e)),fo));return vo(n)}(e)}function Uo(e){const t=0|mo(e),n=function(e,n,r){for(;;){const i=e,o=n,u=r;if(mo(u)>t)return new nn([o,u],i);e=new nn([o,u],i),n=o+1,r=Fo(u,u)}}(new nn,0,wo(10)),r=function e(t,n,r,i){if(null!=i.tail){const o=Do(r,i.head[1]);if(t&&Ao(o[0])){return e(t,n,o[1],i.tail)}{const r=e(!1,n,o[1],i.tail);return e(t,r,o[0],i.tail)}}{const e=0|function(e){if(1===e.bound)return 0|e.digits[0];{let t=0;for(let n=e.bound-1;n>=0;n--)t=e.digits[n]+16777216*t;return 0|t}}(r);return t&&0===e?n:new nn(be(e),n)}}(!0,new nn,e,n);if(null==r.tail)return"0";{let e;return e=to(r,Array),Gt("",e)}}function Io(e){return e.bound<=1}function ko(e){return 0<e.bound?0|e.digits[0]:0}const No=Qt((function(e,t){this.signInt=e,this.v=t}),cn);function zo(e,t){return this instanceof No?No.call(this,e,t):new No(e,t)}function Vo(e){return Io(e)&&ko(e)<No.smallLim?No.smallPosTab[ko(e)]:e}function Ho(e){return e.signInt}function jo(e){return e.v}function Yo(e,t){const n=[Ho(e),Ho(t)];switch(-1===n[0]?-1===n[1]?1:0===n[1]?8:1===n[1]?3:9:0===n[0]?-1===n[1]?6:0===n[1]?4:1===n[1]?5:9:1===n[0]?-1===n[1]?2:0===n[1]?7:1===n[1]?0:9:9){case 0:case 1:return xo(jo(e),jo(t));case 2:case 3:return!!Ao(jo(e))&&Ao(jo(t));case 4:return!0;case 5:case 6:return Ao(jo(t));case 7:case 8:return Ao(jo(e));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}function Wo(e,t){const n=[Ho(e),Ho(t)];switch(-1===n[0]?-1===n[1]?1:0===n[1]?8:1===n[1]?3:9:0===n[0]?-1===n[1]?6:0===n[1]?4:1===n[1]?5:9:1===n[0]?-1===n[1]?2:0===n[1]?7:1===n[1]?0:9:9){case 0:return bo(jo(e),jo(t));case 1:return bo(jo(t),jo(e));case 2:return!1;case 3:return!Ao(jo(e))||!Ao(jo(t));case 4:return!1;case 5:return!Ao(jo(t));case 6:case 7:return!1;case 8:return!Ao(jo(e));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}function Xo(e){return e>=0?zo.call(this,1,Vo(Oo(e))):-2147483648===e?zo.call(this,-1,Vo(Lo(ne(de(e,!1,2))))):zo.call(this,-1,Vo(Oo(s(e))))}function Go(){return No.one}function qo(){return No.two}function $o(){return No.zero}function Jo(e){for(;;){const t=e;if(null==t.tail)return;if(null==t.tail.tail)return Wn(t.head);e=t.tail}}function Zo(e,t,n){for(;;){const r=e,i=t,o=n;if(null==o.tail)return i;e=r,t=r(i,o.head),n=o.tail}}function Ko(e){return Zo((function(e,t){return new nn(t,e)}),new nn,e)}function Qo(e){return Ko(dr((function(e,t){return new nn(t,e)}),new nn,e))}function eu(e){return Zo((function(e,t){return e+1}),0,e)}function tu(e,t){return Zo((function(e,t){return new nn(t,e)}),t,Ko(e))}function nu(e,t){return Ko(Zo((function(t,n){return new nn(e(n),t)}),new nn,t))}function ru(e,t){Zo((function(t,n){e(n)}),void 0,t)}function iu(e){let t=new nn;for(let n=function(e){if(we(e))return e.length;{let t=0;for(const n of e)t++;return t}}(e)-1;n>=0;n--)t=new nn(e[n],t);return t}function ou(e,t){return function(e,t,n){e:for(;;){const r=e,i=t,o=n;if(null!=o.tail){const u=r(i,o.head);if(null==u){e=r,t=i+1,n=o.tail;continue e}return u}return}}(e,0,t)}function uu(e,t){return ou((function(t,n){return e(t,n)?Wn(n):void 0}),t)}function su(e,t){return uu((function(t,n){return e===t}),t)}function cu(e,t){return Ko(Zo((function(t,n){return e(n)?new nn(n,t):t}),new nn,t))}function au(e,t){let n=new nn;for(let r=0;r<=e-1;r++)n=new nn(t(r),n);return Ko(n)}function fu(e,t){if(null!=t.tail)return Zo(e,t.head,t.tail);throw new Error("List was empty")}No.smallLim=4096,No.smallPosTab=Zi(No.smallLim,Oo,Array),No.one=Xo(1),No.two=Xo(2),No.zero=Xo(0),No.prototype.toString=function(){const e=this;switch(0|Ho(e)){case-1:return Ao(jo(e))?"0":"-"+Uo(jo(e));case 0:return"0";case 1:return Uo(jo(e));default:throw new Error("signs should be +/- 1 or 0")}},No.prototype.Equals=function(e){return e instanceof No&&Yo(this,e)},No.prototype.GetHashCode=function(){return 0|(0===Ho(e=this)?1:Ho(e)+function(e){let t=0;for(let n=0;n<=e.bound-1;n++)t=e.digits[n]+(t<<3);return 0|t}(jo(e))|0);var e},No.prototype.CompareTo=function(e){if(e instanceof No)return 0|(Wo(t=this,n=e)?-1:Yo(t,n)?0:1);throw new Error("the objects are not comparable\\nParameter name: obj");var t,n};$o(),Go(),qo();$o(),Go();function lu(e,t){const n=new Date(e);return n.offset=null!=t?t:-6e4*(new Date).getTimezoneOffset(),n}function du(){return lu(-621355968e5,0)}function hu(e){const t=ct(e),n=Qe.exec(e),r=null==n?-6e4*t.getTimezoneOffset():"Z"===n[0]?0:36e5*parseInt(n[1],10)+6e4*parseInt(n[2],10);return lu(t.getTime(),r)}function vu(e=0,t=0,n=0,r=0,i=0){switch(arguments.length){case 1:return wu(arguments[0]);case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],i=0}return 864e5*e+36e5*t+6e4*n+1e3*r+i}function wu(e){return fe(ee(e,1e4))}function gu(e){const t=e.search("\\."),n=e.search("\\:");if(-1===t&&-1===n){const t=parseInt(e,0);if(isNaN(t))throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`);return vu(t,0,0,0,0)}if(n>0){const t=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(e);if(null!=t&&null!=t[4]&&null!=t[5]){let n=0,r=0,i=0;const o=null!=t[1]&&"-"===t[1]?-1:1,u=+t[4],s=+t[5];if(null!=t[3]&&(n=+t[3]),null!=t[7]&&(i=+t[7]),null!=t[8])switch(t[8].length){case 1:r=100*+t[8];break;case 2:r=10*+t[8];break;case 3:r=+t[8];break;case 4:r=+t[8]/10;break;case 5:r=+t[8]/100;break;case 6:r=+t[8]/1e3;break;case 7:r=+t[8]/1e4;break;default:throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}return o*vu(n,u,s,i,r)}}throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}function pu(e){return void 0===e}function mu(e,t,n){try{return"Expecting "+e+" but instead got:"+(n?"\n":" ")+JSON.stringify(t,null,4)}catch(t){return"Expecting "+e+" but decoder failed. Couldn't report given value due to circular structure."+(n?"\n":" ")}}function Au(e,t){const n=2===t.tag?mu(t.fields[0],t.fields[1],!0):1===t.tag?mu(t.fields[0],t.fields[1],!1)+"\nReason: "+t.fields[2]:3===t.tag?mu(t.fields[0],t.fields[1],!0):4===t.tag?mu(t.fields[0],t.fields[1],!0)+"\nNode `"+t.fields[2]+"` is unkown.":5===t.tag?"Expecting "+t.fields[0]+".\n"+JSON.stringify(t.fields[1],null,4):7===t.tag?"The following errors were found:\n\n"+Gt("\n\n",t.fields[0]):6===t.tag?"The following `failure` occurred with the decoder: "+t.fields[0]:mu(t.fields[0],t.fields[1],!1);return 7===t.tag?n:"Error at: `"+e+"`\n"+n}function xu(e,t,n){let r;return r=$e(1,t,[e])(n),1===r.tag?new Zn(1,"Error",Au(r.fields[0][0],r.fields[0][1])):new Zn(0,"Ok",r.fields[0])}function Su(e,t){try{return xu("$",e,JSON.parse(t))}catch(e){if(e instanceof SyntaxError)return new Zn(1,"Error","Given an invalid JSON: "+e.message);throw e}}function bu(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(-128<=n&&n<=127)return new Zn(0,"Ok",(n+128&255)-128);{const t=[e,new Rr(1,"BadPrimitiveExtra","a sbyte",n,"Value was either too large or too small for a sbyte")];return new Zn(1,"Error",t)}}{const t=[e,new Rr(1,"BadPrimitiveExtra","a sbyte",n,"Value is not an integral value")];return new Zn(1,"Error",t)}}if("string"==typeof t){let n;if(n=u(t,511,!1,8),n[0])return new Zn(0,"Ok",n[1]);{const n=[e,new Rr(0,"BadPrimitive","a sbyte",t)];return new Zn(1,"Error",n)}}{const n=[e,new Rr(0,"BadPrimitive","a sbyte",t)];return new Zn(1,"Error",n)}}}function yu(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(0<=n&&n<=255)return new Zn(0,"Ok",255&n);{const t=[e,new Rr(1,"BadPrimitiveExtra","a byte",n,"Value was either too large or too small for a byte")];return new Zn(1,"Error",t)}}{const t=[e,new Rr(1,"BadPrimitiveExtra","a byte",n,"Value is not an integral value")];return new Zn(1,"Error",t)}}if("string"==typeof t){let n;if(n=u(t,511,!0,8),n[0])return new Zn(0,"Ok",n[1]);{const n=[e,new Rr(0,"BadPrimitive","a byte",t)];return new Zn(1,"Error",n)}}{const n=[e,new Rr(0,"BadPrimitive","a byte",t)];return new Zn(1,"Error",n)}}}function Tu(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(-32768<=n&&n<=32767)return new Zn(0,"Ok",(n+32768&65535)-32768);{const t=[e,new Rr(1,"BadPrimitiveExtra","an int16",n,"Value was either too large or too small for an int16")];return new Zn(1,"Error",t)}}{const t=[e,new Rr(1,"BadPrimitiveExtra","an int16",n,"Value is not an integral value")];return new Zn(1,"Error",t)}}if("string"==typeof t){let n;if(n=u(t,511,!1,16),n[0])return new Zn(0,"Ok",n[1]);{const n=[e,new Rr(0,"BadPrimitive","an int16",t)];return new Zn(1,"Error",n)}}{const n=[e,new Rr(0,"BadPrimitive","an int16",t)];return new Zn(1,"Error",n)}}}function Eu(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(0<=n&&n<=65535)return new Zn(0,"Ok",65535&n);{const t=[e,new Rr(1,"BadPrimitiveExtra","an uint16",n,"Value was either too large or too small for an uint16")];return new Zn(1,"Error",t)}}{const t=[e,new Rr(1,"BadPrimitiveExtra","an uint16",n,"Value is not an integral value")];return new Zn(1,"Error",t)}}if("string"==typeof t){let n;if(n=u(t,511,!0,16),n[0])return new Zn(0,"Ok",n[1]);{const n=[e,new Rr(0,"BadPrimitive","an uint16",t)];return new Zn(1,"Error",n)}}{const n=[e,new Rr(0,"BadPrimitive","an uint16",t)];return new Zn(1,"Error",n)}}}function Ru(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(-2147483648<=n&&n<=2147483647)return new Zn(0,"Ok",~~n);{const t=[e,new Rr(1,"BadPrimitiveExtra","an int",n,"Value was either too large or too small for an int")];return new Zn(1,"Error",t)}}{const t=[e,new Rr(1,"BadPrimitiveExtra","an int",n,"Value is not an integral value")];return new Zn(1,"Error",t)}}if("string"==typeof t){let n;if(n=u(t,511,!1,32),n[0])return new Zn(0,"Ok",n[1]);{const n=[e,new Rr(0,"BadPrimitive","an int",t)];return new Zn(1,"Error",n)}}{const n=[e,new Rr(0,"BadPrimitive","an int",t)];return new Zn(1,"Error",n)}}}function Cu(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(0<=n&&n<=4294967295)return new Zn(0,"Ok",n>>>0);{const t=[e,new Rr(1,"BadPrimitiveExtra","an uint32",n,"Value was either too large or too small for an uint32")];return new Zn(1,"Error",t)}}{const t=[e,new Rr(1,"BadPrimitiveExtra","an uint32",n,"Value is not an integral value")];return new Zn(1,"Error",t)}}if("string"==typeof t){let n;if(n=u(t,511,!0,32),n[0])return new Zn(0,"Ok",n[1]);{const n=[e,new Rr(0,"BadPrimitive","an uint32",t)];return new Zn(1,"Error",n)}}{const n=[e,new Rr(0,"BadPrimitive","an uint32",t)];return new Zn(1,"Error",n)}}}const Pu=(()=>{const e=oe(0,2147483648,!1),t=oe(4294967295,2147483647,!1);return function(n){return function(r){if("number"==typeof r){const i=r;if(isFinite(i)&&Math.floor(i)===i){if(fe(e)<=i&&i<=fe(t))return new Zn(0,"Ok",se(i,!1));{const e=[n,new Rr(1,"BadPrimitiveExtra","an int64",i,"Value was either too large or too small for an int64")];return new Zn(1,"Error",e)}}{const e=[n,new Rr(1,"BadPrimitiveExtra","an int64",i,"Value is not an integral value")];return new Zn(1,"Error",e)}}if("string"==typeof r){let e;if(e=ve(r,511,!1),e[0])return new Zn(0,"Ok",e[1]);{const e=[n,new Rr(0,"BadPrimitive","an int64",r)];return new Zn(1,"Error",e)}}{const e=[n,new Rr(0,"BadPrimitive","an int64",r)];return new Zn(1,"Error",e)}}}})();(()=>{const e=oe(0,0,!0),t=oe(4294967295,4294967295,!0)})();function Fu(e,t){if("string"==typeof t){const r=function(e,t){try{return null==e||""===e.trim()?[!1,st()]:[!0,at(e)]}catch(e){return[!1,st()]}}(t,st());if(r[0]){const e=1===(n=r[1]).kind?n:ut(n.getTime(),1);return new Zn(0,"Ok",e)}{const n=[e,new Rr(0,"BadPrimitive","a datetime",t)];return new Zn(1,"Error",n)}}{const n=[e,new Rr(0,"BadPrimitive","a datetime",t)];return new Zn(1,"Error",n)}var n}function Mu(e,t){if("string"==typeof t){const n=function(e,t){try{return[!0,hu(e)]}catch(e){return[!1,du()]}}(t,du());if(n[0])return new Zn(0,"Ok",n[1]);{const n=[e,new Rr(0,"BadPrimitive","a datetimeoffset",t)];return new Zn(1,"Error",n)}}{const n=[e,new Rr(0,"BadPrimitive","a datetime",t)];return new Zn(1,"Error",n)}}function Bu(e,t){if("string"==typeof t){const n=function(e,t){try{return[!0,gu(e)]}catch(e){return[!1,0]}}(t);if(n[0])return new Zn(0,"Ok",n[1]);{const n=[e,new Rr(0,"BadPrimitive","a timespan",t)];return new Zn(1,"Error",n)}}{const n=[e,new Rr(0,"BadPrimitive","a timespan",t)];return new Zn(1,"Error",n)}}function _u(e,t,n){let r;if(r=$e(1,t,[e])(n),1===r.tag){if(null==n)return new Zn(0,"Ok",void 0);if(1===r.tag)return new Zn(1,"Error",r.fields[0]);throw new Error("The match cases were incomplete")}return new Zn(0,"Ok",Wn(r.fields[0]))}function Du(e,t,n){var r;const i=Gn(t,Gt(".",new nn("$",e))),o="an object with path `"+Gt(".",e)+"`";return new Zn(1,"Error",[i,new Rr(4,"BadPath",o,n,(r=Jo(e),Gn(r,"")))])}function Ou(e,t,n,r){const i=n+".["+be(e)+"]";if(Array.isArray(r)){const n=r;if(e<n.length)return t(i,n[e]);{const t="a longer array. Need index `"+be(e)+"` but there are only `"+(be(0|n.length)+"` entries"),o=[i,new Rr(5,"TooSmallArray",t,r)];return new Zn(1,"Error",o)}}{const e=[i,new Rr(0,"BadPrimitive","an array",r)];return new Zn(1,"Error",e)}}function Lu(e,t,n){if(Array.isArray(n)){let r=-1;const i=n;let o;return o=Ki((function(n,i){if(r+=1,0===n.tag){const o=e(t+".["+be(r)+"]",i);return 0===o.tag?new Zn(0,"Ok",new nn(o.fields[0],n.fields[0])):new Zn(1,"Error",o.fields[0])}return n}),new Zn(0,"Ok",new nn),i),Kn(Ko,o)}{const e=[t,new Rr(0,"BadPrimitive","a list",n)];return new Zn(1,"Error",e)}}function Uu(e,t,n){if(Array.isArray(n)){let r=-1;const i=n,o=qi(new Array(i.length),0,i.length,null);return Ki((function(n,i){if(r+=1,0===n.tag){const o=e(t+".["+be(r)+"]",i);return 0===o.tag?(n.fields[0][r]=o.fields[0],new Zn(0,"Ok",n.fields[0])):new Zn(1,"Error",o.fields[0])}return n}),new Zn(0,"Ok",o),i)}{const e=[t,new Rr(0,"BadPrimitive","an array",n)];return new Zn(1,"Error",e)}}function Iu(e,t,n){return new Zn(0,"Ok",e)}function ku(e,t,n,r){const i=t(n,r);return 0===i.tag?e(i.fields[0],n,r):new Zn(1,"Error",i.fields[0])}function Nu(e,t,n,r){const i=t(n,r);return 1===i.tag?new Zn(1,"Error",i.fields[0]):new Zn(0,"Ok",e(i.fields[0]))}function zu(e,t,n,r){let i;return i=$e(1,n,[t])(r),1===i.tag?(e.push(i.fields[0]),null):i.fields[0]}const Vu=Qt((function(e,t){const n=this;n.errors=[],n.required={Field:(r,i)=>zu(n.errors,e,(function(e,t){return function(e,t,n,r){if(null!==r&&Object.getPrototypeOf(r||!1)===Object.prototype){const i=r[e];return pu(i)?new Zn(1,"Error",[n,new Rr(3,"BadField","an object with a field named `"+e+"`",r)]):t(n+"."+e,i)}return new Zn(1,"Error",[n,new Rr(2,"BadType","an object",r)])}(r,i,e,t)}),t),At:(r,i)=>zu(n.errors,e,(function(e,t){return function(e,t,n,r){let i;return i=Zo((function(t,n){if(null==t[2]){if(null==t[1]){const n=Du(e,t[0],r);return[t[0],t[1],n]}if(null!==t[1]&&Object.getPrototypeOf(t[1]||!1)===Object.prototype){const i=t[1][n];if(pu(i)){const n=Du(e,void 0,r);return[t[0],i,n]}return[t[0]+"."+n,i,void 0]}{const e=new Zn(1,"Error",[t[0],new Rr(2,"BadType","an object",t[1])]);return[t[0],t[1],e]}}return[t[0],t[1],t[2]]}),[n,r,void 0],e),null==i[2]?t(i[0],i[1]):i[2]}(r,i,e,t)}),t),Raw:r=>zu(n.errors,e,r,t)},n.optional={Field:(r,i)=>zu(n.errors,e,(function(e,t){return function(e,t,n,r){if(null!==r&&Object.getPrototypeOf(r||!1)===Object.prototype){const i=r[e];return pu(i)?new Zn(0,"Ok",void 0):_u(n+"."+e,t,i)}return new Zn(1,"Error",[n,new Rr(2,"BadType","an object",r)])}(r,i,e,t)}),t),At:(r,i)=>zu(n.errors,e,(function(e,t){return function(e,t,n,r){let i;return i=Zo((function(t,n){if(null==t[2]){if(null==t[1]){const n=Du(e,t[0],r);return[t[0],t[1],n]}if(null!==t[1]&&Object.getPrototypeOf(t[1]||!1)===Object.prototype){const e=t[1][n];return[t[0]+"."+n,e,void 0]}{const e=new Zn(1,"Error",[t[0],new Rr(2,"BadType","an object",t[1])]);return[t[0],t[1],e]}}return[t[0],t[1],t[2]]}),[n,r,void 0],e),null==i[2]?pu(i[1])?new Zn(0,"Ok",void 0):_u(i[0],t,i[1]):i[2]}(r,i,e,t)}),t),Raw(r){let i;if(i=$e(1,r,[e])(t),1!==i.tag)return Wn(i.fields[0]);var o,u;switch(1===i.fields[0][1].tag||2===i.fields[0][1].tag?(o=0,u=i.fields[0][1].fields[1]):3===i.fields[0][1].tag||4===i.fields[0][1].tag?o=1:5===i.fields[0][1].tag||6===i.fields[0][1].tag||7===i.fields[0][1].tag?o=2:(o=0,u=i.fields[0][1].fields[1]),o){case 0:return null==u?void 0:(n.errors.push(i.fields[0]),null);case 1:return;case 2:return n.errors.push(i.fields[0]),null}}}}));function Hu(e,t,n){const r=function(e,t){return this instanceof Vu?Vu.call(this,e,t):new Vu(e,t)}(t,n);let i;i=e(r);const o=Qo(r.errors);if(null!=o.tail){if(eu(o)>1){const e=nu((function(e){return Au(e[0],e[1])}),o),n=[t,new Rr(7,"BadOneOf",e)];return new Zn(1,"Error",n)}return new Zn(1,"Error",o.head)}return new Zn(0,"Ok",i)}function ju(e){return ui(t={Compare:Ue},Zr(t,e));var t}function Yu(e,t,n,r){var i,o,u,s,c,a;if(t.length!==r.length){const f=[n,(o=0|t.length,u=0|r.length,s=jt(Vt("Expected %i %s but got %i")),c=s(o),a=c(e),i=a(u),new Rr(6,"FailMessage",i))];return new Zn(1,"Error",f)}{const e=new Zn(0,"Ok",new nn);return Qi(qe(3,Je((function(e){return function(t){return function(r){if(0===r.tag){return Kn((function(e){return new nn(e,r.fields[0])}),t(n,e))}return r}}}),[0,[0,2],0])),r,t,e)}}function Wu(e,t,n,r,i,o){let u;const s=Un(n);var c;if(c=function(e){return En(e)===r},u=s.find(c),null!=u){const n=u;if(0===o.length){const e=jn(n,[]);return new Zn(0,"Ok",e)}{let r;r=$i((function(n){return Gu(e,t,!1,n[1])}),Hn(n),Array);return Kn((function(e){return jn(n,to(e,Array))}),Yu("union fields",r,i,o))}}{const e=[i,new Rr(6,"FailMessage","Cannot find case "+r+" in "+Rn(n))];return new Zn(1,"Error",e)}}function Xu(e,t,n,r){const i=new fn(null);let o;const u=Rn(r);let s;if(o=di(u,i,e),zn(r)){let e;const n=In(r);e=$i((function(e){return[Or(t,En(e)),Gu(o,t,!1,e[1])]}),n,Array),s=function(t){return function(n){const i=function(e,t,n){if(null===n||Object.getPrototypeOf(n||!1)!==Object.prototype){const e=[t,new Rr(0,"BadPrimitive","an object",n)];return new Zn(1,"Error",e)}{const o=new Zn(0,"Ok",new nn);return r=function(e,r){return 0===r.tag?Kn((function(e){return new nn(e,r.fields[0])}),e[1](t+"."+e[0])(n[e[0]])):r},i=o,e.reduceRight((function(e,t){return r(t,e)}),i)}var r,i}(e,t,n);return Kn((function(e){return function(e,t){const n=In(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return null!=e.construct?new e.construct(...t):an(n.reduce((e,[n,r],i)=>(e[n]=t[i],e),{}))}(r,to(e,Array))}),i)}}}else if(Nn(r))s=function(e){return function(n){if("string"==typeof n){return Wu(o,t,r,n,e,[])}if(Array.isArray(n)){const i=n;let u;return u=i[0],Wu(o,t,r,u,e,i.slice(1,i.length))}{const t=[e,new Rr(0,"BadPrimitive","a string or array",n)];return new Zn(1,"Error",t)}}};else{if(!n){let e;const t=Rn(r);throw e=jt(Vt("Cannot generate auto decoder for %s. Please pass an extra decoder."))(t),new Error(e)}s=function(e){return function(t){return new Zn(1,"Error",[e,new Rr(2,"BadType","an extra coder for "+Rn(r),t)])}}}return i.contents=s,s}function Gu(e,t,n,r){var i,o;const u=Rn(r),s=vi(u,e);if(null==s){if(Cn(r)){let n;const i=Pn(r);return n=Gu(e,t,!1,i),function(e){return function(t){return Uu(qe(2,n),e,t)}}}if(Mn(r)){const e=Rn(_n(r));return"System.SByte"===e?function(e){return function(t){const n=bu(e)(t);if(1===n.tag)return new Zn(1,"Error",n.fields[0]);{let i,o;if(o=Dn(r),i=fr(n.fields[0],o),i){const e=Ln(r,n.fields[0].toString());return new Zn(0,"Ok",e)}{const n=[e,new Rr(1,"BadPrimitiveExtra",Rn(r),t,"Unkown value provided for the enum")];return new Zn(1,"Error",n)}}}}:"System.Byte"===e?function(e){return function(t){const n=yu(e)(t);if(1===n.tag)return new Zn(1,"Error",n.fields[0]);{let i,o;if(o=Dn(r),i=fr(n.fields[0],o),i){const e=Ln(r,n.fields[0].toString());return new Zn(0,"Ok",e)}{const n=[e,new Rr(1,"BadPrimitiveExtra",Rn(r),t,"Unkown value provided for the enum")];return new Zn(1,"Error",n)}}}}:"System.Int16"===e?function(e){return function(t){const n=Tu(e)(t);if(1===n.tag)return new Zn(1,"Error",n.fields[0]);{let u,s;if(s=Dn(r),u=fr(n.fields[0],s),u){const e=Ln(r,(i=(i=n.fields[0])<0&&null!=o&&10!==o?65535+i+1:i).toString(o));return new Zn(0,"Ok",e)}{const n=[e,new Rr(1,"BadPrimitiveExtra",Rn(r),t,"Unkown value provided for the enum")];return new Zn(1,"Error",n)}}var i,o}}:"System.UInt16"===e?function(e){return function(t){const n=Eu(e)(t);if(1===n.tag)return new Zn(1,"Error",n.fields[0]);{let i,o;if(o=Dn(r),i=fr(n.fields[0],o),i){const e=Ln(r,n.fields[0].toString());return new Zn(0,"Ok",e)}{const n=[e,new Rr(1,"BadPrimitiveExtra",Rn(r),t,"Unkown value provided for the enum")];return new Zn(1,"Error",n)}}}}:"System.Int32"===e?function(e){return function(t){const n=Ru(e)(t);if(1===n.tag)return new Zn(1,"Error",n.fields[0]);{let i,o;if(o=Dn(r),i=fr(n.fields[0],o),i){const e=Ln(r,be(n.fields[0]));return new Zn(0,"Ok",e)}{const n=[e,new Rr(1,"BadPrimitiveExtra",Rn(r),t,"Unkown value provided for the enum")];return new Zn(1,"Error",n)}}}}:"System.UInt32"===e?function(e){return function(t){const n=Cu(e)(t);if(1===n.tag)return new Zn(1,"Error",n.fields[0]);{let i,o;if(o=Dn(r),i=fr(n.fields[0],o),i){const e=Ln(r,n.fields[0].toString());return new Zn(0,"Ok",e)}{const n=[e,new Rr(1,"BadPrimitiveExtra",Rn(r),t,"Unkown value provided for the enum")];return new Zn(1,"Error",n)}}}}:(i=Yt(Vt("Cannot generate auto decoder for %s.\nThoth.Json.Net only support the folluwing enum types:\n- sbyte\n- byte\n- int16\n- uint16\n- int\n- uint32\nIf you can't use one of these types, please pass an extra decoder.\n                    ")),function(e){const t=i(e);return function(e){const n=t(e);return function(e){return n(e)}}})(Rn(r))}if(Fn(r)){if(Vn(r)){let n;const i=kn(r);return n=$i((function(n){return Gu(e,t,!1,n)}),i,Array),function(e){return function(t){if(Array.isArray(t)){return Kn((function(e){return to(e,Array)}),Yu("tuple elements",n,e,t))}{const n=[e,new Rr(0,"BadPrimitive","an array",t)];return new Zn(1,"Error",n)}}}}{const i=Rn(Bn(r));if("Microsoft.FSharp.Core.FSharpOption`1[System.Object]"===i){let n,i;const o=hn(r)[0];return i=Gu(e,t,!0,o),n=function(e){return function(t){return n=qe(2,i),r=e,null==(o=t)?new Zn(0,"Ok",void 0):Kn((function(e){return Wn(e)}),n(r,o));var n,r,o}},n}if("Microsoft.FSharp.Collections.FSharpList`1[System.Object]"===i){let n,i;const o=hn(r)[0];return i=Gu(e,t,!1,o),n=function(e){return function(t){return Lu(qe(2,i),e,t)}},n}if("Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]"===i){let n;const i=hn(r)[0];let u;n=Gu(e,t,!1,i);const s=hn(r)[1];let f;u=Gu(e,t,!1,s);const l=iu([function(e){return function(t){return function(e,t,n,r){if(null===r||Object.getPrototypeOf(r||!1)!==Object.prototype){const e=[n,new Rr(0,"BadPrimitive","an object",r)];return new Zn(1,"Error",e)}return dr((function(i,o){if(0===i.tag){let u;if(u=$e(1,e,[n])(o),0===u.tag){const e=t(n+"."+o,r[o]);if(0===e.tag){const t=new nn([u.fields[0],e.fields[0]],i.fields[0]);return new Zn(0,"Ok",t)}return new Zn(1,"Error",e.fields[0])}return new Zn(1,"Error",u.fields[0])}return i}),new Zn(0,"Ok",new nn),Object.keys(r))}(qe(2,n),qe(2,u),e,t)}},(c=qe(2,n),a=qe(2,u),o=function(e){return function(t){return ku((function(e,t,n){return ku((function(t,n,r){return Iu([e,t])}),(function(e,t){return Ou(1,a,e,t)}),t,n)}),(function(e,t){return Ou(0,c,e,t)}),e,t)}},function(e){return function(t){return Lu(qe(2,o),e,t)}})]);return f=function(e){return function(t){return n=e,r=t,function(e,t){e:for(;;){const i=e,o=t;if(null==i.tail){const e=[n,new Rr(7,"BadOneOf",o)];return new Zn(1,"Error",e)}{const u=xu(n,qe(2,i.head),r);if(1===u.tag){e=i.tail,t=tu(o,new nn(u.fields[0],new nn));continue e}return new Zn(0,"Ok",u.fields[0])}}}(l,new nn);var n,r}},function(e){return function(t){return Nu((function(e){return ju(e)}),qe(2,f),e,t)}}}if("Microsoft.FSharp.Collections.FSharpSet`1[System.Object]"===i){let n;const i=hn(r)[0];return n=Gu(e,t,!1,i),function(e){return function(t){const r=Uu(qe(2,n),e,t);if(0===r.tag){let e;return e=Gi(r.fields[0],{Compare:Ue}),new Zn(0,"Ok",e)}return new Zn(1,"Error",r.fields[0])}}}return Xu(e,t,n,r)}}return"System.Boolean"===u?function(e){return function(t){return function(e,t){if("boolean"==typeof t)return new Zn(0,"Ok",t);{const n=[e,new Rr(0,"BadPrimitive","a boolean",t)];return new Zn(1,"Error",n)}}(e,t)}}:"Microsoft.FSharp.Core.Unit"===u?function(e){return function(t){return function(e,t){if(null==t)return new Zn(0,"Ok",void 0);{const n=[e,new Rr(0,"BadPrimitive","null",t)];return new Zn(1,"Error",n)}}(e,t)}}:"System.String"===u?function(e){return function(t){return function(e,t){if("string"==typeof t)return new Zn(0,"Ok",t);{const n=[e,new Rr(0,"BadPrimitive","a string",t)];return new Zn(1,"Error",n)}}(e,t)}}:"System.SByte"===u?bu:"System.Byte"===u?yu:"System.Int16"===u?Tu:"System.UInt16"===u?Eu:"System.Int32"===u?Ru:"System.UInt32"===u?Cu:"System.Double"===u?function(e){return function(t){return function(e,t){if("number"==typeof t)return new Zn(0,"Ok",t);{const n=[e,new Rr(0,"BadPrimitive","a float",t)];return new Zn(1,"Error",n)}}(e,t)}}:"System.Single"===u?function(e){return function(t){return function(e,t){if("number"==typeof t)return new Zn(0,"Ok",t);{const n=[e,new Rr(0,"BadPrimitive","a float32",t)];return new Zn(1,"Error",n)}}(e,t)}}:"System.DateTime"===u?function(e){return function(t){return Fu(e,t)}}:"System.DateTimeOffset"===u?function(e){return function(t){return Mu(e,t)}}:"System.TimeSpan"===u?function(e){return function(t){return Bu(e,t)}}:"System.Guid"===u?function(e){return function(t){return function(e,t){if("string"==typeof t){const n=qt(t,!0);if(n[0])return new Zn(0,"Ok",n[1]);{const n=[e,new Rr(0,"BadPrimitive","a guid",t)];return new Zn(1,"Error",n)}}{const n=[e,new Rr(0,"BadPrimitive","a guid",t)];return new Zn(1,"Error",n)}}(e,t)}}:"System.Object"===u?function(e){return function(e){return new Zn(0,"Ok",e)}}:Xu(e,t,n,r)}{const e=s;return function(t){return function(n){return e.contents(t)(n)}}}var c,a}function qu(e){if(null!=e){return gi((function(e,t){return new fn(t[1])}),e.Coders)}return Ai({Compare:De})}Object.defineProperty(Vu.prototype,"Required",{get:function(){return this.required}}),Object.defineProperty(Vu.prototype,"Optional",{get:function(){return this.optional}});Qt((function(){}));const $u=Qt((function(e,t){this.width=e,this.height=t}),cn);function Ju(){return gn("Models.Size",void 0,$u)}function Zu(e,t){return this instanceof $u?$u.call(this,e,t):new $u(e,t)}function Ku(e){return e.width}function Qu(e){return e.height}$u.prototype.toString=function(){return"("+(be(0|Ku(this))+",")+(be(0|Qu(this))+")")};const es=Qt((function(e,t){this.x=e,this.y=t}),cn);function ts(){return gn("Models.Position",void 0,es)}function ns(e,t){return this instanceof es?es.call(this,e,t):new es(e,t)}function rs(e){return e.x}function is(e){return e.y}function os(){return ns(0,0)}es.prototype.toString=function(){return"("+(be(0|rs(this))+",")+(be(0|is(this))+")")};const us=Qt((function(e,t){this.name=e,this.smooth=t,this.data=new Jn(0,"Choice1Of4",void 0)}));function ss(e,t){return this instanceof us?us.call(this,e,t):new us(e,t)}function cs(e){return e.name}const as=Qt((function(e,t,n){this.Texture=e,this.TextureSliceSize=t,this.TextureSlicePosition=n}),cn);const fs=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);const ls=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);const ds=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);const hs=Qt((function(e,t,n,r,i,o,u){this.Position=e,this.Size=t,this.Texture=n,this.TextureSliceSize=r,this.TextureSlicePosition=i,this.HeightMap=o,this.Effect=u}),cn);const vs=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);const ws=Qt((function(e,t,n,r,i,o,u,s,c,a,f){this.Position=e,this.Children=t,this.Shader=n,this.Mode=r,this.Scale=i,this.ActiveArea=o,this.Enter=u,this.Clicked=s,this.Dragging=c,this.Blur=a,this.Leave=f}),cn);const gs=Qt((function(e,t,n,r){this.Size=e,this.Children=t,this.Shader=n,this.ActiveArea=r}),cn);const ps=Qt((function(e,t){this.Key=e,this.Last=t}),cn);const ms=Qt((function(e,t){this.Render=e,this.Last=t}),cn);const As=Qt((function(e,t,n){this.Render=e,this.Rendered=t,this.Last=n}),cn);Qt((function(e,t,n,r,i){this.Count=0|e,this.Texture=t,this.HeightMapTexture=n,this.Size=r,this.Child=i}),cn);const xs=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);const Ss=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);const bs=Qt((function(e,t,n,r){this.Point=e,this.Start=t,this.End=n,this.Direction=r}),cn);Qt((function(e,t,n,r){this.Point=e,this.Start=t,this.End=n,this.Direction=r}),cn);const ys=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);const Ts=Qt((function(e,t){this.Id=e,this.Actions=t}),cn);const Es=Qt((function(e,t){this.Position=e,this.Items=t}),cn);const Rs=Qt((function(e,t,n,r,i){this.Visible=e,this.Items=t,this.Offset=0|n,this.Hover=r,this.Selected=i}),cn);const Cs=Qt((function(e,t,n,r,i,o,u,s,c){this.SomeValue=e,this.Dragger=t,this.WorldMapSize=n,this.WorldMap=r,this.ActivePoint=i,this.HoverPoint=o,this.Players=u,this.Menu=s,this.Weather=c}),cn);const Ps=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);const Fs=Qt((function(e,t,n,r,i,o,u,s){this.Scale=0|e,this.Resolution=t,this.Content=n,this.MouseItem=r,this.DragItem=i,this.ClickItem=o,this.HoverItem=u,this.BlurItem=s}),cn);const Ms=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);const Bs=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);const _s=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);const Ds=Qt((function(e,t,n,r){this.TextureName=e,this.SlicePosition=t,this.SliceSize=n,this.RenderOffset=r}),cn);const Os=Qt((function(e,t,n,r,i,o){this.Options=e,this.TextureName=t,this.SlicePosition=n,this.SliceSize=r,this.RenderOffset=i,this.HeightMap=o}),cn);const Ls=Qt((function(e){this.Layers=e}),cn);const Us=Qt((function(e,t,n){this.Name=e,this.Frames=t,this.Size=n}),cn);function Is(){return pn("Models.SpriteResource",[],Us,()=>[["Name",yn],["Frames",Sn(pn("Models.Frame",[],Ls,()=>[["Layers",Sn(pn("Models.Layer",[],Os,()=>[["Options",Sn(mn("Models.LayerOption",[],_s,()=>["NoHighlight",["Shadow",[["Item1",Tn],["Item2",Tn]]],"Ground","Leaf","Grass",["AutoHeightMap",[["Item",Tn]]]]))],["TextureName",yn],["SlicePosition",ts()],["SliceSize",Ju()],["RenderOffset",ts()],["HeightMap",An(pn("Models.LayerHeightMap",[],Ds,()=>[["TextureName",yn],["SlicePosition",ts()],["SliceSize",Ju()],["RenderOffset",ts()]]))]]))]]))],["Size",Ju()]])}function ks(e){return String(e)}function Ns(e){const t={};return vr((function(e){t[e[0]]=e[1]}),e),t}function zs(e){return String(e)}Qt((function(){}));const Vs=new Pr("",Ai({Compare:De}));function Hs(e){var t,n;return Ns([["x",(t=0|rs(e),t)],["y",(n=0|is(e),n)]])}function js(e){var t,n;return Ns([["width",(t=0|Ku(e),t)],["height",(n=0|Qu(e),n)]])}const Ys=(()=>{let e,t,n;n=new Pr($t(),di("System.Int64",[zs,Pu],Vs.Coders)),t=new Pr($t(),di("System.Decimal",[ks,function(e){return function(t){return function(e,t){if("number"==typeof t){let e;return e=new Et(t),new Zn(0,"Ok",e)}if("string"==typeof t){const n=Ct(t);if(n[0])return new Zn(0,"Ok",n[1]);{const n=[e,new Rr(0,"BadPrimitive","a decimal",t)];return new Zn(1,"Error",n)}}{const n=[e,new Rr(0,"BadPrimitive","a decimal",t)];return new Zn(1,"Error",n)}}(e,t)}}],n.Coders));const r=function(e){return function(t){return Hu((function(e){return ns(e.Required.Field("x",qe(2,Ru)),e.Required.Field("y",qe(2,Ru)))}),e,t)}};e=new Pr($t(),di("Models.Position",[Hs,r],t.Coders));const i=function(e){return function(t){return Hu((function(e){return Zu(e.Required.Field("width",qe(2,Ru)),e.Required.Field("height",qe(2,Ru)))}),e,t)}};return new Pr($t(),di("Models.Size",[js,i],e.Coders))})();!function(){this instanceof Tr?Tr.call(this):new Tr}();class Ws{constructor(e=!1){this._id=0,this._cancelled=e,this._listeners=new Map}get isCancelled(){return this._cancelled}cancel(){if(!this._cancelled){this._cancelled=!0;for(const[,e]of this._listeners)e()}}addListener(e){const t=this._id;return this._listeners.set(this._id++,e),t}removeListener(e){return this._listeners.delete(e)}register(e,t){const n=this,r=this.addListener(null==t?e:()=>e(t));return{Dispose(){n.removeListener(r)}}}}class Xs extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,Xs.prototype)}}class Gs{constructor(){this.callCount=0}static get maxTrampolineCallCount(){return 2e3}incrementAndCheck(){return this.callCount++>Gs.maxTrampolineCallCount}hijack(e){this.callCount=0,setTimeout(e,0)}}function qs(e){return t=>{if(t.cancelToken.isCancelled)t.onCancel(new Xs);else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(()=>{try{e(t)}catch(e){t.onError(e)}});else try{e(t)}catch(e){t.onError(e)}}}function $s(e,t){return qs(n=>{e({onSuccess:e=>{try{t(e)(n)}catch(e){n.onError(e)}},onError:n.onError,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline})})}function Js(e){return qs(t=>t.onSuccess(e))}const Zs=new class{Bind(e,t){return $s(e,t)}Combine(e,t){return this.Bind(e,()=>t)}Delay(e){return qs(t=>e()(t))}For(e,t){const n=e[Symbol.iterator]();let r=n.next();return this.While(()=>!r.done,this.Delay(()=>{const e=t(r.value);return r=n.next(),e}))}Return(e){return Js(e)}ReturnFrom(e){return e}TryFinally(e,t){return qs(n=>{e({onSuccess:e=>{t(),n.onSuccess(e)},onError:e=>{t(),n.onError(e)},onCancel:e=>{t(),n.onCancel(e)},cancelToken:n.cancelToken,trampoline:n.trampoline})})}TryWith(e,t){return qs(n=>{e({onSuccess:n.onSuccess,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline,onError:e=>{try{t(e)(n)}catch(e){n.onError(e)}}})})}Using(e,t){return this.TryFinally(t(e),()=>e.Dispose())}While(e,t){return e()?this.Bind(t,()=>this.While(e,t)):this.Return(void 0)}Zero(){return qs(e=>e.onSuccess(void 0))}};function Ks(e){}function Qs(e){return t=t=>e.then(t[0]).catch(e=>(e instanceof Xs?t[2]:t[1])(e)),qs(e=>t([e.onSuccess,e.onError,e.onCancel]));var t}const ec=new Ws;function tc(e,t){return function(e,t){return nc(e,t)}(e,t)}function nc(e,t,n,r,i){"function"!=typeof t&&(i=t,t=void 0);const o=new Gs;e({onSuccess:t||Ks,onError:n||Ks,onCancel:r||Ks,cancelToken:i||ec,trampoline:o})}function rc(e,t,n){e.clearColor(1,1,1,0),e.clear(~~e.COLOR_BUFFER_BIT|~~e.DEPTH_BUFFER_BIT)}function ic(e){return 0!==e&&0==(e&e-1)}function oc(e){return e.createFramebuffer()}function uc(e,t){e.bindFramebuffer(e.FRAMEBUFFER,t)}function sc(e,t,n){let r;switch(t){case 0:r=e.COLOR_ATTACHMENT0;break;case 1:r=e.COLOR_ATTACHMENT1;break;case 2:r=e.COLOR_ATTACHMENT2;break;case 3:r=e.COLOR_ATTACHMENT3;break;case 4:r=e.COLOR_ATTACHMENT4;break;default:throw new Error(">4")}e.framebufferTexture2D(e.FRAMEBUFFER,r,e.TEXTURE_2D,n,0)}function cc(e){e.bindFramebuffer(e.FRAMEBUFFER,null)}const ac=Ne((function(e){throw new Error("Dispatch not set")}));function fc(e){ac()(new Bs(1,"Game",e))}function lc(e){ac()(new Bs(0,"Host",e))}const dc=Ne((function(e){throw new Error("getSprite not set")}));function hc(){let e=ft();const t=function(t){const n=lt(e,t);return e=n,n};let n;const r=new fs(1,"Snow"),i=new Rs(!1,iu(["Build Fence","Pick Apple","Chop Down Tree","Collect Rock","Walk"]),-46,void 0,void 0);let o,u;var s;return u=nu((function(e){return[e.Id,e]}),new nn(new Ts("Player1",iu([new ys(1,"Idle",new bs([0,1],st(),st(),new Ss(2,"East"))),new ys(1,"Idle",new bs([0,1],e,t((s=5,vu(0,0,s))),new Ss(2,"East"))),new ys(0,"Move",new bs([1,1],e,t(2400),new Ss(2,"East"))),new ys(0,"Move",new bs([2,1],e,t(2400),new Ss(2,"East"))),new ys(0,"Move",new bs([2,2],e,t(2400),new Ss(1,"South"))),new ys(0,"Move",new bs([1,2],e,t(2400),new Ss(3,"West"))),new ys(0,"Move",new bs([1,1],e,t(2400),new Ss(0,"North"))),new ys(1,"Idle",new bs([1,1],e,ut(0xe677d21fdbff,0),new Ss(2,"East")))])),new nn)),o=pi(u,{Compare:De}),n=new Cs("Hello world",[0,0],[10,10],pi(cu((function(e){return eu(e[1].Items)>0}),function(e){return Ko(dr((function(e,t){return Zo((function(e,t){return new nn(t,e)}),e,t)}),new nn,e))}(au(10,(function(e){return au(10,(function(t){const n=5===t&&5===e?iu(["Temp Floor","Tree - Main"]):1===t&&1===e?iu(["Temp Floor","Grass1"]):Qo(sr((function(){return ir(cr("Temp Floor"),sr((function(){let e,t,n;switch(n=3*Math.random()+0,t=Math.floor(n),e=~~t,e){case 1:return cr("Grass1");case 2:return cr("Grass2");default:return[]}})))})));return[[t,e],new Es([t,e],n)]}))})))),{Compare:Le}),void 0,void 0,o,i,r),[n,iu([new Ps(5,"UpdatePlayer","Player1"),new Ps(5,"UpdatePlayer","Player2")])]}function vc(e,t,n){var r,i,o,u,s,c,a,f,l,d,h,v,w,g,p,m,A;switch(n.tag){case 1:return[(r=[t.Dragger[0]+n.fields[0],t.Dragger[1]+n.fields[1]],i=new Rs(!1,t.Menu.Items,t.Menu.Offset,t.Menu.Hover,t.Menu.Selected),new Cs(t.SomeValue,r,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,i,t.Weather)),new nn];case 3:return[(void 0,new Cs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,void 0,t.Players,t.Menu,t.Weather)),new nn];case 2:return[(o=[n.fields[0],n.fields[1]],new Cs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,o,t.Players,t.Menu,t.Weather)),new nn];case 4:return[(u=[n.fields[0],n.fields[1]],s=[n.fields[0],n.fields[1]],c=new Rs(!0,t.Menu.Items,t.Menu.Offset,t.Menu.Hover,t.Menu.Selected),new Cs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,s,u,t.Players,c,t.Weather)),new nn];case 5:{let r;if(r=vi(n.fields[0],t.Players),null!=r){const i=r;let o;if(o=cu((function(t){return t.tag,ht(e,t.fields[0].End)<=0}),i.Actions),Be(o,i.Actions))return[t,new nn];{const e=new Ts(i.Id,o);return[(a=di(n.fields[0],e,t.Players),new Cs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,a,t.Menu,t.Weather)),Qo(sr((function(){let e;var t,r,i;return t=function(e){return e.tag,e.fields[0].End},r=o,e=Ko(Zo((function(e,n){const r=t(n);if(null==r)return e;{const t=Xn(r);return new nn(t,e)}}),new nn,r)),null==e.tail?[]:cr(new Ps(6,"Postponed",(i={Compare:ht},fu((function(e,t){return i.Compare(t,e)>0?e:t}),e)),new Ps(5,"UpdatePlayer",n.fields[0])))})))]}}return[t,new nn]}case 7:return[(l=t.Menu.Offset+n.fields[0]|0,f=new Rs(t.Menu.Visible,t.Menu.Items,l,t.Menu.Hover,t.Menu.Selected),new Cs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,f,t.Weather)),new nn];case 8:return Be(n.fields[0],t.Menu.Selected)?[(d=new Rs(!1,t.Menu.Items,t.Menu.Offset,t.Menu.Hover,t.Menu.Selected),new Cs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,d,t.Weather)),new nn]:[(w=0|(g=0|ke(De,0,n.fields[0]),p=eu(t.Menu.Items)-1|0,Ie(De,p,g)),v=w,h=new Rs(t.Menu.Visible,t.Menu.Items,t.Menu.Offset,t.Menu.Hover,v),new Cs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,h,t.Weather)),new nn];case 9:return[(m=new Rs(t.Menu.Visible,t.Menu.Items,t.Menu.Offset,n.fields[0],t.Menu.Selected),new Cs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,m,t.Weather)),new nn];case 6:return[t,new nn];case 10:return[(A=1===t.Weather.tag?new fs(2,"Rain"):2===t.Weather.tag?new fs(3,"Normal"):3===t.Weather.tag?new fs(1,"Snow"):new fs(0,"Fog"),new Cs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,t.Menu,A)),new nn];default:return[t,new nn]}}function wc(e,t){return{Equals:(e,n)=>t(e,n),GetHashCode:t=>e(t)}}function gc(){return wc(Pe,Be)}const pc=new Map([]),mc=new Map([]),Ac=xi([],gc()),xc=xi([],gc()),Sc=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);const bc=Qt((function(e,t,n,r){this.PerRow=0|e,this.DefaultWidth=0|t,this.Height=0|n,this.Widths=r}),cn);new bc(25,20,22,new Int32Array([6,6,10,14,13,15,15,6,9,9,12,11,6,11,6,11,13,7,12,13,11,12,13,10,12,13,6,6,12,11,12,12,12,12,13,13,13,10,9,13,13,5,11,12,9,17,13,13,13,13,13,13,10,13,12,17,12,12,11,8,11,8,12,11,8,11,11,10,11,10,9,11,12,6,6,10,5,18,12,11,11,11,9,10,6,12,10,18,9,12,9,8,6,8,11])),new bc(7,65,65,new Int32Array([19,25,31,38,38,62,58,14,25,25,38,42,19,25,19,21,38,38,38,38,38,38,38,38,38,38,21,21,42,42,42,33,69,54,50,50,54,46,42,54,54,25,29,54,46,67,54,54,42,54,50,42,46,54,54,71,54,54,46,25,21,25,35,38,25,33,38,33,38,33,25,38,38,21,21,38,21,58,38,38,38,38,25,29,21,38,38,54,38,38,33,36,15,36,41]));const yc=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);const Tc=Qt((function(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}),rn);Qt((function(){}));function Ec(e,t,n){return function(r){let i;i=Pc(r,0,0);const o=Zu(rs(i[1])-rs(i[0]),is(i[1])-is(i[0]));let u,s;const c=new yc(0,"Left");switch(s=Gn(t,c),s.tag){case 1:u=~~((Ku(e)-Ku(o))/2);break;case 2:u=Ku(e)-Ku(o);break;default:u=0}let a,f;const l=new Tc(0,"Top");switch(f=Gn(n,l),f.tag){case 1:a=~~((Qu(e)-Qu(o))/2);break;case 2:a=Qu(e)-Qu(o);break;default:a=0}return Fc(u,a)(r)}}function Rc(e){let t;const n=pe(pc,e,null);if(t=n[0]?Wn(n[1]):void 0,null!=t){return t}{const t=ss(e,!1);return Ze(pc,e,t),t}}function Cc(e,t,n,r,i,o,u,s,c){var a,f;let l,d;if(l=Gn(e,0),d=Gn(t,0),null!=s){const e=s,t=new hs(ns(l+rs(e.RenderOffset),d+is(e.RenderOffset)),Zu(0|Gn(r,0|Ku(e.SliceSize)),0|Gn(i,0|Qu(e.SliceSize))),Rc(e.TextureName),e.SliceSize,e.SlicePosition,null!=e.HeightMap?(a=e.HeightMap,new as(Rc(a.TextureName),a.SliceSize,a.SlicePosition)):void 0,(h=function(e){switch(e.tag){case 3:return new ds(0,"Leaf");case 4:return new ds(1,"Grass",Gn(c,0));case 1:return new ds(2,"Shadow",e.fields[0],e.fields[1]);default:return}},v=e.Options,null!=(f=function(e){e:for(;;){const t=e;if(t>=v.length)return;{const n=h(v[t]);if(null==n){e=t+1;continue e}return n}}}(0))?f:void 0));return new xs(0,"Sprite",t)}{let e,t,s;e=Gn(r,32),t=Gn(i,32),s=Gn(n,"");const c=new hs(ns(l,d),Zu(e,t),Rc(s),qn(o,(function(){return Zu(e,t)})),qn(u,(function(){return ns(0,0)})),void 0,void 0);return new xs(0,"Sprite",c)}var h,v}function Pc(e,t,n){let r=ns(0,0),i=ns(0,0);return ru((function(e){var o,u,s,c,a,f,l,d,h,v,w,g;e:for(;;){const p=e;switch(p.tag){case 1:r=ns((o=0|rs(r),Ie(De,0|rs(p.fields[0].ActiveArea[0])+t,o)),(u=0|is(r),Ie(De,0|is(p.fields[0].ActiveArea[0])+n,u))),i=ns((s=0|rs(i),ke(De,0|rs(p.fields[0].ActiveArea[1])+t,s)),(c=0|is(i),ke(De,0|is(p.fields[0].ActiveArea[1])+n,c)));break;case 2:e=p.fields[0].Last;continue e;case 3:r=ns((a=0|rs(r),Ie(De,0|rs(p.fields[0].ActiveArea[0])+t,a)),(f=0|is(r),Ie(De,0|is(p.fields[0].ActiveArea[0])+n,f))),i=ns((l=0|rs(i),ke(De,0|rs(p.fields[0].ActiveArea[1])+t,l)),(d=0|is(i),ke(De,0|is(p.fields[0].ActiveArea[1])+n,d)));break;case 4:case 5:e=p.fields[0].Last;continue e;case 6:break;default:r=ns((h=0|rs(r),Ie(De,rs(p.fields[0].Position)+t|0,h)),(v=0|is(r),Ie(De,is(p.fields[0].Position)+n|0,v))),i=ns((w=0|rs(i),ke(De,rs(p.fields[0].Position)+Ku(p.fields[0].Size)+t|0,w)),(g=0|is(i),ke(De,is(p.fields[0].Position)+Qu(p.fields[0].Size)+n|0,g)))}break}}),e),[r,i]}function Fc(e,t,n,r,i,o,u,s,c,a){return function(f){let l,d,h,v,w;l=cu((function(e){return 6!==e.tag}),f),d=Gn(e,0),h=Gn(t,0),v=Pc(l,d,h);const g=ns(d,h),p=to(l,Array);return w=new ws(g,p,n,a,r,[v[0],v[1]],i,u,s,c,o),new xs(1,"Relative",w)}}function Mc(e){return new xs(2,"Dynamic",new ms(e,e(ft())))}function Bc(e,t,n){return function(r){let i;const o=new ls(0,"Default");let u,s;return i=Gn(n,o),s=to(r,Array),u=new gs(Zu(e,t),s,i,[ns(0,0),ns(e,t)]),new xs(3,"SubRender",u)}}function _c(e,t){return function(n){return r=function(){let r,i;const o=pe(mc,e,null);if(i=o[0]?Wn(o[1]):void 0,null!=i)r=Xn(i);else{let n;n=t(),mc.set(e,n),r=n}return new xs(4,"Stateful",new ps(e,n(r)))},new xs(5,"NoCache",new As(r,!0,r()));var r}}function Dc(e){return function(t){const n=pe(Ac,e,null);if(n[0])return n[1];{const n=t(new Sc(0,"DoNotUseModelInsideDependsOn"),e);return r=e,i=n,Ac.size>5e4&&Ac.clear(),Ac.set(r,i),n}var r,i}}const Oc=Ne(Zu(0,0)),Lc=Ne(Zu(0,0)),Uc=Ne(1),Ic=Ne(void 0);function kc(e,t,n,r){const i=[];let o;if(function t(r,o,u,s){e:for(;;){const c=r,a=o,f=u,l=s;switch(l.tag){case 1:{let r,i;r=Gn(l.fields[0].Scale,f);const o=ns(rs(l.fields[0].ActiveArea[0])*r,is(l.fields[0].ActiveArea[0])*r);let u;i=ns(rs(o)+rs(a),is(o)+is(a));const s=ns(rs(l.fields[0].ActiveArea[1])*r,is(l.fields[0].ActiveArea[1])*r);if(u=ns(rs(s)+rs(a),is(s)+is(a)),rs(e)>=rs(i)&&is(e)>=is(i)&&rs(e)<rs(u)&&is(e)<is(u)){let e;const i=ns(rs(l.fields[0].Position)*r,is(l.fields[0].Position)*r);let o;e=ns(rs(i)+rs(a),is(i)+is(a));const u=n(l.fields[0]);if(null!=u){const e=Xn(u);o=tu(new nn([e,l.fields[0]],new nn),c)}else o=c;const s=$e(1,t,[o,e,r]);l.fields[0].Children.forEach(s)}break}case 3:{const n=Zu(Ku(l.fields[0].Size)*f,Qu(l.fields[0].Size)*f);if(rs(e)>=rs(a)&&is(e)>=is(a)&&rs(e)<rs(a)+Ku(n)&&is(e)<is(a)+Qu(n)){const e=$e(1,t,[c,a,f]);l.fields[0].Children.forEach(e)}break}case 2:case 4:case 5:r=c,o=a,u=f,s=l.fields[0].Last;continue e;case 6:break;default:if(eu(c)>0){let t;const n=ns(rs(l.fields[0].Position)*f,is(l.fields[0].Position)*f);t=ns(rs(n)+rs(a),is(n)+is(a));const r=Zu(Ku(l.fields[0].Size)*f,Qu(l.fields[0].Size)*f);rs(e)>=rs(t)&&is(e)>=is(t)&&rs(e)<rs(t)+Ku(r)&&is(e)<is(t)+Qu(r)&&i.splice(0,0,c)}}break}}(new nn,ns(0,0),t,r),o=hr(i),null!=o){return hr(o)}}function Nc(e,t){var n,r;const i=function(e,t,n,r,i,o){const u=n-i|0,s=r-o|0,c=0|~~(u/e.Scale),a=0|(u>=0?n-u%e.Scale:n+(0-u)%e.Scale),f=0|~~(s/e.Scale),l=0|(s>=0?r-s%e.Scale:r+(0-s)%e.Scale);t([c,f]);const d=new Jn(2,"Choice3Of3",[a,l]);return new Fs(e.Scale,e.Resolution,e.Content,d,e.DragItem,e.ClickItem,e.HoverItem,e.BlurItem)},o=function(e,t){var n,r,i;switch(null==e?n=null==t?1:2:null!=t?(n=0,r=Xn(e),i=Xn(t)):n=2,n){case 0:return r===i;case 1:return!0;case 2:return!1}};switch(t.tag){case 1:var u,s,c,a;switch(null!=e.DragItem&&null!=e.DragItem.Dragging&&1===e.MouseItem.tag?(e.DragItem.Dragging,Math.abs(e.MouseItem.fields[0][0]-t.fields[0])>2||Math.abs(e.MouseItem.fields[0][1]-t.fields[1])>2||t.fields[2]?(u=0,s=e.DragItem.Dragging,c=e.MouseItem.fields[0][0],a=e.MouseItem.fields[0][1]):u=1):u=1,u){case 0:return[i(e,s,t.fields[0],t.fields[1],c,a),new nn];case 1:var f,l,d,h;switch(null!=e.DragItem&&null!=e.DragItem.Dragging&&2===e.MouseItem.tag?(f=0,l=e.DragItem.Dragging,d=e.MouseItem.fields[0][0],h=e.MouseItem.fields[0][1]):f=1,f){case 0:return[i(e,l,t.fields[0],t.fields[1],d,h),new nn];case 1:{let n,r;if(r=kc(ns(t.fields[0],t.fields[1]),e.Scale,(function(e){return e.Enter}),e.Content),n=$n((function(e){return e[1]}),r),o(e.HoverItem,n))return[e,new nn];var v,w,g,p;switch(null!=e.HoverItem&&null!=e.HoverItem.Leave?(v=0,w=e.HoverItem.Leave):v=1,v){case 0:w()}switch(null!=n&&null!=n.Enter?(g=0,p=n.Enter):g=1,g){case 0:p()}return[new Fs(e.Scale,e.Resolution,e.Content,e.MouseItem,e.DragItem,e.ClickItem,n,e.BlurItem),new nn]}}}case 2:var m,A,x,S;if(!o(e.ClickItem,e.BlurItem))switch(null!=e.ClickItem&&null!=e.ClickItem.Blur?(m=0,A=e.ClickItem.Blur):m=1,m){case 0:A()}switch(null!=e.ClickItem&&null!=e.ClickItem.Clicked&&1===e.MouseItem.tag?(x=0,S=e.ClickItem.Clicked):x=1,x){case 0:S()}return[(void 0,n=new Jn(0,"Choice1Of3",void 0),new Fs(e.Scale,e.Resolution,e.Content,n,e.DragItem,e.ClickItem,e.HoverItem,void 0)),new nn];case 3:{const n=Zu(t.fields[0],t.fields[1]);let r;return r=(0|ke(De,t.fields[0],t.fields[1]))>1e3?2:1,Oc(n),Lc(Zu(~~(Ku(n)/r),~~(Qu(n)/r))),Uc(r),Ac.clear(),[new Fs(r,n,e.Content,e.MouseItem,e.DragItem,e.ClickItem,e.HoverItem,e.BlurItem),new nn(new Ms(4,"Redraw"),new nn)]}case 4:case 5:case 6:return[e,new nn];default:{const n=ns(t.fields[0],t.fields[1]);let i,o,u,s;return o=kc(n,e.Scale,(function(e){return e.Dragging}),e.Content),i=$n((function(e){return e[1]}),o),s=kc(n,e.Scale,(function(e){return e.Clicked}),e.Content),u=$n((function(e){return e[1]}),s),[(r=new Jn(1,"Choice2Of3",[t.fields[0],t.fields[1]]),new Fs(e.Scale,e.Resolution,e.Content,r,i,u,e.HoverItem,e.ClickItem)),new nn]}}}const zc=Qt((function(e,t,n,r,i){this.Texture=e,this.TextureSize=t,this.TextureSlicePosition=n,this.TextureSliceSize=r,this.TextureSlice=i}),cn);Qt((function(e,t,n){this.Size=e,this.GroupTexture=t,this.HeightMapTexture=n}),cn);function Vc(e){return Fc()(Qo(sr((function(){return gr((function(e){return Cc(void 0,void 0,void 0,void 0,void 0,void 0,void 0,e)}),e.Frames[0].Layers)}))))}const Hc=Qt((function(e,t,n,r){this.Start=e,this.Sprite=t,this.Slot=0|n,this.Result=r}),cn);const jc=new Ae((function(){let e;return e=$i((function(e){var t,n;return[e,dc()((t="'"===e?"Apostrophe":"("===e?"Open Parenthesis":")"===e?"Close Parenthesis":"-"===e?"Minus":e,n=jt(Vt("Menu Font - %s")),n(t)))]}),"ABCDEFGHIJKLMNOPQRSTUVWXYZ-'()".split(""),Array),mi(e,{Compare:De})}));function Yc(e,t){return Dc([e,t])((function(e,t){const n=function(e){return hi(e,jc.Value)};let r,i,o=0,u=0;i=Zt(t[1].toUpperCase(),["\r\n"],null,0),r=$i((function(e){return Zt(e,[" "],null,0)}),i,Array);const s=[];s.push([]);for(let e=0;e<=r.length-1;e++){const i=r[e];for(let e=0;e<=i.length-1;e++){const r=i[e],c=r.length-1+eo((function(e){return 0|Ku(n(e).Size)}),r.split(""),{GetZero:()=>0,Add:(e,t)=>e+t})|0;o+c>t[0]&&(u+=10,o=0,s.push([]));vr((function(e){if(" "===e)o+=4;else{const t=n(e),r=0|Ku(t.Size),i=0|o;o=o+r+1;s[s.length-1].push(Cc(i,void 0,void 0,void 0,void 0,void 0,void 0,t.Frames[0].Layers[0]))}}),(r+" ").split(""))}}let c;return c=pr((function(e,t){return Fc(void 0,10*e)(Qo(t))}),s),Qo(c)}))}Qt((function(e){this.Start=e}),cn);Qt((function(e,t){this.Value=e,this.Active=t}),cn);const Wc=Qt((function(e,t,n,r,i,o){this.Point=e,this.Start=t,this.End=n,this.SpriteResource=r,this.Slot=0|i,this.Result=o}),cn);function Xc(e){return e.filter((function(e){if(0===e.Options.length)return!0;{let t;return t=e.Options.some((function(e){return 1===e.tag})),!t}}))}function Gc(e,t,n){var r,i,o;let u,s;var c;if(s=null!=(c=n.Actions).tail?Wn(c.head):void 0,null!=s){const e=s,t=1===e.tag?[e.fields[0].Point,e.fields[0].Start,e.fields[0].End,e.fields[0].Direction,"Idle"]:[e.fields[0].Point,e.fields[0].Start,e.fields[0].End,e.fields[0].Direction,"Walk"];u=[t[0],t[1],t[2],(r=1===t[3].tag?"South":2===t[3].tag?"East":3===t[3].tag?"West":"North",i=jt(Vt("Player - %s - %s")),o=i(r),o(t[4]))]}else u=void 0;if(null!=u){const n=u[1],r=u[3],i=u[0],o=u[2];return _c(e,(function(){return new Wc(i,n,o,dc()(r),-1,new xs(6,"Empty"))}))((function(e){return Mc((function(u){Me(e.Point,i)&&dt(e.Start,n)&&dt(e.End,o)&&e.SpriteResource.Name===r||(e.Point=i,e.Start=n,e.End=o,e.SpriteResource=dc()(r),e.Slot=-1);const s=0|e.SpriteResource.Frames.length;let c;c=vt(e.End,e.Start);let a,f,l,d;const h=vt(u,e.Start)/c*s;d=Math.floor(h),l=~~d;if(f=Ie(De,s-1|0,l),a=ke(De,0,f),e.Slot!==a){let n;if(t){const t=e.SpriteResource.Frames[a].Layers;n=t.filter((function(e){return e.Options.some((function(e){return 1===e.tag}))}))}else{const t=e.SpriteResource.Frames[a].Layers;n=Xc(t)}e.Result=Fc()(Qo(sr((function(){return gr((function(e){return Cc(void 0,void 0,void 0,void 0,void 0,void 0,void 0,e)}),n)}))))}return e.Result}))}))}return new xs(6,"Empty")}function qc(e){return Fc(e.Dragger[0],e.Dragger[1],void 0,void 0,void 0,void 0,void 0,(function(e){let t;t=new Ps(1,"Drag",e[0],e[1]),fc(t)}))(new nn(Dc([e.WorldMapSize,e.WorldMap,e.Players,e.Weather])((function(e,t){const n=Zi(t[0][1],(function(e){return Zi(t[0][0],(function(e){return[]}),Array)}),Array);wi((function(e,t){n[e[1]][e[0]].push(new Jn(0,"Choice1Of2",t.Items))}),t[1]);const r=[];return wi((function(e,t){const n=null!=t.Actions.tail?(t.Actions.head.tag,t.Actions.head.fields[0].Point):void 0;if(null!=n){const e=0|n[1],i=0|n[0];r.push([[i,e],t])}}),t[2]),Fc()(iu([Fc(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,new vs(0,"World"))(new nn(Dc(n)((function(e,t){return Fc(void 0,void 0,new ls(1,"WorldItem"))(Qo(sr((function(){return ur((function(e){const n=t[e];return ur((function(t){var r;let i,o;const u=n[t];var s,c;s=function(e){return 0===e.tag?e.fields[0]:void 0},c=u,o=sr(()=>yr(e=>{let t=e.next();for(;!t.done;){const n=s(t.value);if(null!=n)return[Xn(n),e];t=e.next()}},c[Symbol.iterator]())),i=Qo(o);const a=0|(r=0|Pe([t,e]),Math.abs(r)%256);return cr(Fc(64*t,64*e,void 0,void 0,(function(){fc(new Ps(2,"Hover",t,e))}),(function(){fc(new Ps(3,"Leave",t,e))}),(function(){fc(new Ps(4,"Select",t,e))}))(new nn(Fc()(Qo(sr((function(){return ur((function(e){return ur((function(e){return gr((function(e){return Cc(void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a)}),dc()(e).Frames[0].Layers)}),e)}),i)})))),new nn)))}),Ar(0,1,n.length-1))}),Ar(0,1,t.length-1))}))))})),new nn)),Fc(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,new vs(1,"Player"))(Qo(sr((function(){return ur((function(e){return cr(Fc(64*e[0][0],64*e[0][1],new ls(2,"Player"))(new nn(Gc(jt(Vt("%s - Normal"))(e[1].Id),!1,e[1]),new nn)))}),r)}))))]))})),new nn))}const $c=[.5,.5,.5,1];function Jc(e){return Dc("hud")((function(e,t){return Fc(void 0,void 0,void 0,1)(new nn(Fc(void 0,void 0,void 0,void 0,void 0,void 0,(function(){fc(new Ps(10,"ChangeWeather"))}))(Qo(sr((function(){const e=Yc(100,"Change Weather");let t,n;var r,i;return n=Pc(e,0,0),r=n[0],t=Zu(rs(i=n[1])-rs(r),is(i)-is(r)+6),ir(cr(Fc(void 0,void 0,new ls(4,"BlockColor",$c))(new nn(Cc(void 0,void 0,void 0,Ku(t)+10,Qu(t)+5),new nn))),sr((function(){return cr(Fc(5,5)(Qo(sr((function(){return e})))))})))})))),new nn))}))}function Zc(e){return Fc()(Qo(sr((function(){return ir(cr(qc(e)),sr((function(){return ir(1===e.Weather.tag?cr(Fc(void 0,void 0,new ls(7,"Snow"))(new nn(Cc(0,0,void 0,Ku(Lc()),Qu(Lc())),new nn))):2===e.Weather.tag?cr(Fc(void 0,void 0,new ls(8,"Rain"))(new nn(Cc(0,0,void 0,Ku(Lc()),Qu(Lc())),new nn))):[],sr((function(){return ir(cr(Dc([(t=e).Dragger,t.ActivePoint,t.Menu])((function(e,t){return Fc(void 0,void 0,void 0,1)(Qo(sr((function(){switch(t[2].Visible&&null!=t[1]?0:1){case 0:{const e=0|t[1][1],n=0|t[1][0],r=64*Uc()|0,i=t[0][0]*Uc()|0,o=t[0][1]*Uc()|0,u=Dc("Menu Sprites")((function(e,t){return[dc()("Menu - Empty"),dc()("Menu - Top"),dc()("Menu - Bottom"),dc()("Menu - Book")]}));let s,c;c=Ie(De,5,0|~~(Qu(Oc())/Qu(u[0].Size))),s=ke(De,3,c);const a=Qu(u[0].Size)*(s-1)+Qu(u[1].Size)+Qu(u[2].Size)|0,f=Zu(Ku(u[1].Size)+Ku(u[3].Size)+10,a),l=n*r+i-Ku(f)-10|0,d=l>=0;let h,v,w,g;return v=ke(De,5,0|(d?l:n*r+i+r+10)),h=Ie(De,Ku(Oc())-Ku(u[0].Size)-5|0,v),g=ke(De,5,e*r+o-(~~(a/2)-~~(r/2))|0),w=Ie(De,Qu(Oc())-a-5|0,g),cr(Fc(h,w)(iu([Ec(f,d?new yc(0,"Left"):new yc(2,"Right"),new Tc(1,"Middle"))(new nn(Dc("Menu Extra Icons")((function(e,t){return Fc()(Qo(sr((function(){const e=dc()("Menu - Build"),t=dc()("Menu - Grow");let n,r;const i=Zu(Ku(u[3].Size)+Ku(e.Size),Qu(u[3].Size)+Qu(e.Size));let o;r=Zu(Ku(i)+Ku(t.Size),Qu(i)+Qu(t.Size));const s=Zu(0,4);return o=Zu(2*Ku(s),2*Qu(s)),n=Zu(Ku(r)+Ku(o),Qu(r)+Qu(o)),cr(Fc(void 0,void 0,void 0,void 0,(function(){}),void 0,(function(){}))(iu([Ec(n,new yc(0,"Left"),new Tc(0,"Top"))(new nn(Vc(u[3]),new nn)),Ec(n,new yc(0,"Left"),new Tc(1,"Middle"))(new nn(Vc(e),new nn)),Ec(n,new yc(0,"Left"),new Tc(2,"Bottom"))(new nn(Vc(t),new nn))])))}))))})),new nn)),Fc(void 0,void 0,void 0,void 0,void 0,void 0,void 0,(function(e){fc(new Ps(7,"MenuDrag",e[1]*Uc()))}))(new nn(Ec(f,d?new yc(2,"Right"):new yc(0,"Left"))(Qo(sr((function(){const e=Zu(Ku(u[1].Size),a);return ir(cr(Dc("Menu Background")((function(t,n){return Fc(void 0,void 0,void 0,void 0,void 0,void 0,(function(){}))(iu([Ec(e,new yc(1,"Center"))(new nn(Vc(u[1]),new nn)),Ec(e,new yc(1,"Center"),new Tc(1,"Middle"))(Qo(sr((function(){const e=Vc(u[0]);return gr((function(t){return Fc(void 0,t*Qu(u[0].Size))(new nn(e,new nn))}),Ar(0,1,s-2))})))),Ec(e,new yc(1,"Center"),new Tc(2,"Bottom"))(new nn(Vc(u[2]),new nn))]))}))),sr((function(){const n=dc()("Menu - Item"),r=Vc(n);return cr(Dc(t[2])((function(t,i){return Ec(e,new yc(1,"Center"),new Tc(1,"Middle"))(new nn(Bc(Ku(n.Size),a-Qu(u[1].Size)-Qu(u[2].Size))(new nn(Fc(void 0,i.Offset)(new nn(Dc([i.Items,i.Selected,i.Hover])((function(e,t){return Fc()(Qo(sr((function(){return ir(ur((function(e){let i;if(i=su(e,t[0]),Be(e,t[1]))return[];if(null!=i){const o=i;return cr(Fc(void 0,e*Qu(n.Size),void 0,void 0,(function(){fc(new Ps(9,"MenuHover",e))}),(function(){fc(new Ps(9,"MenuHover",void 0))}),(function(){fc(new Ps(8,"MenuSelectChange",e))}))(Qo(sr((function(){return ir(Be(e,t[2])?cr(Vc(dc()("Menu - Hover"))):cr(r),sr((function(){return cr(Ec(n.Size,new yc(1,"Center"),new Tc(1,"Middle"))(new nn(Vc(dc()(jt(Vt("Menu Icons - %s - Idle"))(o))),new nn)))})))})))))}return[]}),Ar(0,1,eu(t[0])-1)),sr((function(){var e,r,i,o,u,s;if(null!=t[1]){const c=0|t[1];let a;if(a=su(c,t[0]),null!=a){const t=a;return cr(Fc(void 0,c*Qu(n.Size))(iu([Fc(void 0,void 0,void 0,void 0,(function(){fc(new Ps(9,"MenuHover",c))}),void 0,(function(){fc(new Ps(8,"MenuSelectChange",c))}))(iu([(e=dc()("Menu - Active"),Vc(e)),Ec(n.Size,new yc(1,"Center"),new Tc(1,"Middle"))(new nn((r=dc()((i=jt(Vt("Menu Icons - %s - Active")),i(t))),u="Menu Icon Active",s=r,_c(u,(function(){return new Hc(ft(),s,-1,void 0)}))((function(e){return Mc((function(t){let n,r,i;if(e.Sprite.Name!==s.Name&&(e.Start=t,e.Sprite=s,e.Slot=-1,e.Result=void 0),i=~~(vt(t,e.Start)/750%e.Sprite.Frames.length),r=ke(De,0,i),n=Ie(De,e.Sprite.Frames.length-1|0,r),n!==e.Slot||null==e.Result){e.Slot=n;const t=Fc()(Qo(sr((function(){return gr((function(e){return Cc(void 0,void 0,void 0,void 0,void 0,void 0,void 0,e)}),e.Sprite.Frames[e.Slot].Layers)}))));e.Result=t}return e.Result}))}))),new nn))])),Fc(0,73)(new nn((o=t,Dc(o)((function(e,t){return Fc()(Qo(sr((function(){const e=dc()("Menu - Name Top"),n=dc()("Menu - Name Middle"),r=dc()("Menu - Name Bottom"),i=Yc(Ku(n.Size)-20,t);let o,u;u=Pc(i,0,0),o=Zu(rs(u[1])-rs(u[0]),is(u[1])-is(u[0])+6);const s=Zu(Ku(e.Size),Qu(e.Size)+Qu(o)+Qu(r.Size));return ir(cr(Ec(s,void 0,new Tc(0,"Top"))(new nn(Vc(e),new nn))),sr((function(){return ir(cr(Ec(s,void 0,new Tc(2,"Bottom"))(new nn(Vc(r),new nn))),sr((function(){return ir(cr(Ec(s,new yc(1,"Center"),new Tc(1,"Middle"))(Qo(sr((function(){return gr((function(e){return Cc(void 0,void 0,void 0,void 0,Qu(o),void 0,void 0,e)}),n.Frames[0].Layers)}))))),sr((function(){return cr(Fc(void 0,void 0,new ls(3,"Color",66/255,50/255,34/255,1))(new nn(Ec(s,new yc(0,"Left"),new Tc(1,"Middle"))(Qo(sr((function(){return gr((function(e){return Ec(s,new yc(1,"Center"))(new nn(e,new nn))}),i)})))),new nn)))})))})))})))}))))}))),new nn))])))}return[]}return[]})))}))))})),new nn)),new nn)),new nn))})))})))})))),new nn))])))}case 1:return[]}}))))}))),sr((function(){return cr(Jc())})));var t})))})))}))))}function Kc(e){let t;var n,r;return r=function(){var t;return Er((t=jt(Vt("data/%s")),t(e)),new nn).then((function(e){return e.text().then((function(e){const t=function(e,t){const n=Su(e,t);if(1===n.tag)throw new Error(n.fields[0]);return n.fields[0]}(qe(2,function(e,t,n){const r=n.ResolveType(),i=Gn(e,new Cr(0,"PascalCase"));let o,u;const s=Rn(r);let c,a;return u=String(i)+s,a=$n((function(e){return e.Hash}),t),c=Gn(a,""),o=c+u,Br(_r,o,(function(){return Gu(qu(t),i,!1,r)}))}(new Cr(1,"CamelCase"),Ys,{ResolveType:()=>xn(Is())})),e);return Promise.resolve(pi(nu((function(e){return[e.Name,e]}),t),{Compare:De}))}))}))},n={then(e,t){try{return r().then(e,t)}catch(e){if(Be(t,null))return Promise.reject(e);try{return Promise.resolve(t(e))}catch(e){return Promise.reject(e)}}},catch(e){try{return r().catch(e)}catch(t){try{return Promise.resolve(e(t))}catch(e){return Promise.reject(e)}}}},t=new Promise((function(e,t){try{let r;r=Promise.resolve(n),r.then(e,t)}catch(e){t(e)}})),Qs(t)}const Qc=document.getElementById("App"),ea=document.createElement("canvas");Qc.appendChild(ea);const ta=ea.getContext("webgl2",an({premultipliedAlpha:!1}));function na(e){const t=e.data;switch(t.tag){case 2:return[t.fields[0][0],t.fields[0][1]];case 0:if(""===cs(e))return void(e.data=new Jn(3,"Choice4Of4",void 0));{e.data=new Jn(1,"Choice2Of4",void 0);const t=document.createElement("img");return t.onload=function(n){const r=Zu(0|~~t.width,0|~~t.height),i=function(e,t,n){const r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),r}(e.smooth,ta,t);var o,u;o=i,u=r,e.data=new Jn(2,"Choice3Of4",[o,u])},void(t.src="data/"+cs(e))}default:return}}const ra=[],ia=Ne(st()),oa=[];ac((function(e){oa.push(e)}));const ua=Ne((()=>{const e=hc();return ru(fc,e[1]),e[0]})()),sa=Ne(new Fs(1,Zu(0,0),new xs(6,"Empty"),new Jn(0,"Choice1Of3",void 0),void 0,void 0,void 0,void 0)),ca=Ne(!0),aa=function(e,t){var n,r,i,o,u,s,c,a,f,l,d,h,v,w,g,p,m,A,x,S,b,y,T,E,R,C,P,F,M,B,_,D,O,L,U,I,k,N,z,V,H,j,Y,W,X,G,q,$,J,Z,K,Q,ee,te,ne,re,ie,oe,ue,se,ce,ae,fe,le,de,he,ve,we,ge,me,xe,Se,be,ye,Te,Ee,Re,Ce,Fe,_e,Oe,Le,Ue,ke,Ne,ze,Ve,He,je,Ye,We,Xe,qe,$e,Je,Ke,Qe,et,tt,nt,rt,it,ot,ut,st,ct,at,lt,dt,ht,wt,gt,pt,mt,At,xt,St,bt,yt,Tt,Et,Rt,Ct,Pt,Ft,Mt,Bt,_t,Dt,Ot,Lt,Ut,It,kt,Nt,zt,jt,Yt,Wt,Xt,Gt,qt,$t,Jt,Zt,Kt,Qt,en,tn,nn,rn,on,un,sn,cn,fn,ln,dn;let hn;const vn=e.createBuffer();var wn;let gn,pn;gn=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),(wn=sr((function(){const e=function(e,t){return Math.random()*(t-e)+e};return gr((function(t){return[e(0,1),e(0,1),e(0,1),e(0,1)]}),Ar(0,1,999))})),Array.from(wn)),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,vn),e.bufferData(e.ARRAY_BUFFER,gn,e.STATIC_DRAW),hn=vn;const mn=e.createBuffer();let An,xn;An=Ji((function(e){return new Float32Array([e[0],e[1]])}),[[0,1],[1,1],[1,0],[0,1],[1,0],[0,0]],Float32Array),e.bindBuffer(e.ARRAY_BUFFER,mn),e.bufferData(e.ARRAY_BUFFER,An,e.STATIC_DRAW),pn=mn;const Sn=e.createBuffer();let bn,yn;bn=Ji((function(e){return new Float32Array([e[0],e[1]])}),[[0,0],[1,0],[1,1],[0,0],[1,1],[0,1]],Float32Array),e.bindBuffer(e.ARRAY_BUFFER,Sn),e.bufferData(e.ARRAY_BUFFER,bn,e.STATIC_DRAW),xn=Sn;const Tn=Math.fround(-1),En=Math.fround(1),Rn=Math.fround(-1),Cn=Math.fround(1),Pn=e.createBuffer();let Fn,Mn;Fn=Ji((function(e){return new Float32Array([e[0],e[1]])}),[[Tn,Rn],[En,Rn],[En,Cn],[Tn,Rn],[En,Cn],[Tn,Cn]],Float32Array),e.bindBuffer(e.ARRAY_BUFFER,Pn),e.bufferData(e.ARRAY_BUFFER,Fn,e.STATIC_DRAW),yn=Pn;const Bn=Math.fround(0),_n=Math.fround(1),Dn=Math.fround(0),On=Math.fround(1),Ln=e.createBuffer();let Un;Un=Ji((function(e){return new Float32Array([e[0],e[1]])}),[[Bn,Dn],[_n,Dn],[_n,On],[Bn,Dn],[_n,On],[Bn,On]],Float32Array),e.bindBuffer(e.ARRAY_BUFFER,Ln),e.bufferData(e.ARRAY_BUFFER,Un,e.STATIC_DRAW),Mn=Ln;const In=(n=e.createShader(e.VERTEX_SHADER),e.shaderSource(n,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n\r\n    uniform vec2 iResolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec4 vTextureSlicePosition;\r\n    out vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n    }"),e.compileShader(n),r=e.getShaderInfoLog(n),Ht(Vt("vertexShader: %s"))(r),i=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(i,"#version 300 es\r\n    precision mediump float;\r\n\r\n    \r\n    uniform sampler2D colorTexture;\r\n    uniform vec2 colorTextureSize;\r\n\r\n    in vec2 vTextureCoord;\r\n    in vec2 vResolution;\r\n    in vec4 vTextureSlicePosition;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (vTextureSlicePosition.x + offset.x) / colorTextureSize.x;\r\n        float oy = (vTextureSlicePosition.y + offset.y) / colorTextureSize.y;\r\n\r\n        float px = (vTextureSlicePosition.z / colorTextureSize.x) * point.x;\r\n        float py = (vTextureSlicePosition.w / colorTextureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture(colorTexture, vec2(x, y));\r\n    }\r\n\r\n\r\n    uniform vec4 color;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        vec4 foundColor = textureColor(vTextureCoord, vec2(0.0));\r\n        diffuseColor = vec4(color.r, color.g, color.b, color.a * foundColor.a);\r\n    }\r\n"),e.compileShader(i),o=e.getShaderInfoLog(i),Ht(Vt("fragmentShader: %s"))(o),u=e.createProgram(),e.attachShader(u,n),e.attachShader(u,i),e.linkProgram(u),s=e.getProgramInfoLog(u),Ht(Vt("program: %s"))(s),e.detachShader(u,n),e.deleteShader(n),e.detachShader(u,i),e.deleteShader(i),e.useProgram(u),c=qi(new Array(8),0,8,null),a=e.getAttribLocation(u,"vertexBuffer"),c[0]=a,f=e.getAttribLocation(u,"textureCoord"),c[1]=f,l=e.getAttribLocation(u,"position"),c[2]=l,d=e.getAttribLocation(u,"textureSlicePosition"),c[3]=d,h=e.getUniformLocation(u,"iResolution"),c[4]=h,v=e.getUniformLocation(u,"colorTexture"),c[5]=v,w=e.getUniformLocation(u,"colorTextureSize"),c[6]=w,g=e.getUniformLocation(u,"color"),c[7]=g,[u,c,e]),kn=(p=e.createShader(e.VERTEX_SHADER),e.shaderSource(p,"#version 300 es\r\n\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n    in vec2 shadowInfo;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n\r\n    uniform vec2 iResolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec2 vResolution;\r\n    out float alpha;\r\n    out float amount;\r\n\r\n    out vec4 vTextureSlicePosition;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n        alpha = shadowInfo.x;\r\n        amount = shadowInfo.y;\r\n    }"),e.compileShader(p),m=e.getShaderInfoLog(p),Ht(Vt("vertexShader: %s"))(m),A=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(A,"#version 300 es\r\n\r\n    precision mediump float;\r\n\r\n    \r\n    uniform sampler2D colorTexture;\r\n    uniform vec2 colorTextureSize;\r\n\r\n    in vec2 vTextureCoord;\r\n    in vec2 vResolution;\r\n    in vec4 vTextureSlicePosition;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (vTextureSlicePosition.x + offset.x) / colorTextureSize.x;\r\n        float oy = (vTextureSlicePosition.y + offset.y) / colorTextureSize.y;\r\n\r\n        float px = (vTextureSlicePosition.z / colorTextureSize.x) * point.x;\r\n        float py = (vTextureSlicePosition.w / colorTextureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture(colorTexture, vec2(x, y));\r\n    }\r\n\r\n\r\n    in float alpha;\r\n    in float amount;\r\n\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        vec4 found = textureColor(vTextureCoord, vec2(0.0));\r\n\r\n        float a = found.a;\r\n\r\n        float s = clamp(0.5 + (amount / 2.0), 0.0, 1.0);\r\n        float e = clamp(0.5 - (amount / 2.0), 0.0, 1.0);\r\n        float b;\r\n\r\n        if (a < e) { \r\n            b = 0.0;\r\n        } else {\r\n            b = smoothstep(e, s, a);\r\n        }\r\n    \r\n        diffuseColor = vec4(0.0, 0.0, 0.0, alpha * b);\r\n    }\r\n"),e.compileShader(A),x=e.getShaderInfoLog(A),Ht(Vt("fragmentShader: %s"))(x),S=e.createProgram(),e.attachShader(S,p),e.attachShader(S,A),e.linkProgram(S),b=e.getProgramInfoLog(S),Ht(Vt("program: %s"))(b),e.detachShader(S,p),e.deleteShader(p),e.detachShader(S,A),e.deleteShader(A),e.useProgram(S),y=qi(new Array(8),0,8,null),T=e.getAttribLocation(S,"vertexBuffer"),y[0]=T,E=e.getAttribLocation(S,"textureCoord"),y[1]=E,R=e.getAttribLocation(S,"shadowInfo"),y[2]=R,C=e.getAttribLocation(S,"position"),y[3]=C,P=e.getAttribLocation(S,"textureSlicePosition"),y[4]=P,F=e.getUniformLocation(S,"iResolution"),y[5]=F,M=e.getUniformLocation(S,"colorTexture"),y[6]=M,B=e.getUniformLocation(S,"colorTextureSize"),y[7]=B,[S,y,e]),Nn=(_=e.createShader(e.VERTEX_SHADER),e.shaderSource(_,"#version 300 es\r\n    precision mediump float;\r\n\r\n    uniform mat4 projection;\r\n    in vec2 vertexBuffer;\r\n    in vec4 position;\r\n\r\n    void main() {\r\n        vec2 screenPosition = (position.zw * vertexBuffer) + position.xy;\r\n        gl_Position = vec4(screenPosition, 0.0, 1.0) * projection;\r\n    }"),e.compileShader(_),D=e.getShaderInfoLog(_),Ht(Vt("vertexShader: %s"))(D),O=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(O,"#version 300 es\r\n    precision highp float;\r\n    \r\n    uniform vec4 color;\r\n\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        diffuseColor = color;\r\n    }\r\n"),e.compileShader(O),L=e.getShaderInfoLog(O),Ht(Vt("fragmentShader: %s"))(L),U=e.createProgram(),e.attachShader(U,_),e.attachShader(U,O),e.linkProgram(U),I=e.getProgramInfoLog(U),Ht(Vt("program: %s"))(I),e.detachShader(U,_),e.deleteShader(_),e.detachShader(U,O),e.deleteShader(O),e.useProgram(U),k=qi(new Array(4),0,4,null),N=e.getUniformLocation(U,"projection"),k[0]=N,z=e.getAttribLocation(U,"vertexBuffer"),k[1]=z,V=e.getAttribLocation(U,"position"),k[2]=V,H=e.getUniformLocation(U,"color"),k[3]=H,[U,k,e]),zn=(j=e.createShader(e.VERTEX_SHADER),e.shaderSource(j,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n\r\n    uniform vec2 iResolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec4 vTextureSlicePosition;\r\n    out vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n    }"),e.compileShader(j),Y=e.getShaderInfoLog(j),Ht(Vt("vertexShader: %s"))(Y),W=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(W,"#version 300 es\r\n    precision mediump float;\r\n\r\n    \r\n    uniform sampler2D colorTexture;\r\n    uniform vec2 colorTextureSize;\r\n\r\n    in vec2 vTextureCoord;\r\n    in vec2 vResolution;\r\n    in vec4 vTextureSlicePosition;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (vTextureSlicePosition.x + offset.x) / colorTextureSize.x;\r\n        float oy = (vTextureSlicePosition.y + offset.y) / colorTextureSize.y;\r\n\r\n        float px = (vTextureSlicePosition.z / colorTextureSize.x) * point.x;\r\n        float py = (vTextureSlicePosition.w / colorTextureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture(colorTexture, vec2(x, y));\r\n    }\r\n\r\n\r\n    uniform float alpha;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        vec4 foundColor = textureColor(vTextureCoord, vec2(0.0));\r\n\r\n        if (foundColor.a > 0.0 &&\r\n            (textureColor(vTextureCoord, vec2(-1.0, 0.0)).a < 1.0 || textureColor(vTextureCoord, vec2(1.0, 0.0)).a < 1.0 ||\r\n             textureColor(vTextureCoord, vec2(0.0, -1.0)).a < 1.0 || textureColor(vTextureCoord, vec2(0.0, 1.0)).a < 1.0))\r\n        {\r\n            diffuseColor = vec4(foundColor.r, foundColor.b, foundColor.b, foundColor.a * alpha);\r\n        }\r\n        else \r\n        {\r\n            diffuseColor = vec4(0.0);\r\n        }\r\n    }\r\n"),e.compileShader(W),X=e.getShaderInfoLog(W),Ht(Vt("fragmentShader: %s"))(X),G=e.createProgram(),e.attachShader(G,j),e.attachShader(G,W),e.linkProgram(G),q=e.getProgramInfoLog(G),Ht(Vt("program: %s"))(q),e.detachShader(G,j),e.deleteShader(j),e.detachShader(G,W),e.deleteShader(W),e.useProgram(G),$=qi(new Array(8),0,8,null),J=e.getAttribLocation(G,"vertexBuffer"),$[0]=J,Z=e.getAttribLocation(G,"textureCoord"),$[1]=Z,K=e.getAttribLocation(G,"position"),$[2]=K,Q=e.getAttribLocation(G,"textureSlicePosition"),$[3]=Q,ee=e.getUniformLocation(G,"iResolution"),$[4]=ee,te=e.getUniformLocation(G,"colorTexture"),$[5]=te,ne=e.getUniformLocation(G,"colorTextureSize"),$[6]=ne,re=e.getUniformLocation(G,"alpha"),$[7]=re,[G,$,e]),Vn=(ie=e.createShader(e.VERTEX_SHADER),e.shaderSource(ie,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n\r\n    uniform vec2 iResolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec4 vTextureSlicePosition;\r\n    out vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n    }"),e.compileShader(ie),oe=e.getShaderInfoLog(ie),Ht(Vt("vertexShader: %s"))(oe),ue=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(ue,"#version 300 es\r\n    precision mediump float;\r\n\r\n    \r\n    uniform sampler2D colorTexture;\r\n    uniform vec2 colorTextureSize;\r\n\r\n    in vec2 vTextureCoord;\r\n    in vec2 vResolution;\r\n    in vec4 vTextureSlicePosition;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (vTextureSlicePosition.x + offset.x) / colorTextureSize.x;\r\n        float oy = (vTextureSlicePosition.y + offset.y) / colorTextureSize.y;\r\n\r\n        float px = (vTextureSlicePosition.z / colorTextureSize.x) * point.x;\r\n        float py = (vTextureSlicePosition.w / colorTextureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture(colorTexture, vec2(x, y));\r\n    }\r\n\r\n\r\n    uniform vec4 color;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        vec4 foundColor = textureColor(vTextureCoord, vec2(0.0));\r\n\r\n        if (foundColor.a > 0.0 &&\r\n            (textureColor(vTextureCoord, vec2(-1.0, 0.0)).a < 1.0 || textureColor(vTextureCoord, vec2(1.0, 0.0)).a < 1.0 ||\r\n             textureColor(vTextureCoord, vec2(0.0, -1.0)).a < 1.0 || textureColor(vTextureCoord, vec2(0.0, 1.0)).a < 1.0))\r\n        {\r\n            diffuseColor = color;\r\n        }\r\n        else \r\n        {\r\n            diffuseColor = vec4(0.0);\r\n        }\r\n    }\r\n"),e.compileShader(ue),se=e.getShaderInfoLog(ue),Ht(Vt("fragmentShader: %s"))(se),ce=e.createProgram(),e.attachShader(ce,ie),e.attachShader(ce,ue),e.linkProgram(ce),ae=e.getProgramInfoLog(ce),Ht(Vt("program: %s"))(ae),e.detachShader(ce,ie),e.deleteShader(ie),e.detachShader(ce,ue),e.deleteShader(ue),e.useProgram(ce),fe=qi(new Array(8),0,8,null),le=e.getAttribLocation(ce,"vertexBuffer"),fe[0]=le,de=e.getAttribLocation(ce,"textureCoord"),fe[1]=de,he=e.getAttribLocation(ce,"position"),fe[2]=he,ve=e.getAttribLocation(ce,"textureSlicePosition"),fe[3]=ve,we=e.getUniformLocation(ce,"iResolution"),fe[4]=we,ge=e.getUniformLocation(ce,"colorTexture"),fe[5]=ge,me=e.getUniformLocation(ce,"colorTextureSize"),fe[6]=me,xe=e.getUniformLocation(ce,"color"),fe[7]=xe,[ce,fe,e]),Hn=(Se=e.createShader(e.VERTEX_SHADER),e.shaderSource(Se,"#version 300 es\r\n    precision mediump float;\r\n\r\n    uniform mat4 projection;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureBuffer;\r\n\r\n    in vec4 position;\r\n    in vec4 diffuseTextureSlice;\r\n    in vec4 heightMapTextureSlice;\r\n    in vec2 effect;\r\n\r\n    out vec2 diffuseTextureCoord;\r\n    out vec2 heightMapTextureCoord;\r\n    out vec2 screenPosition;\r\n    out vec2 currentEffect;\r\n\r\n    void main() {\r\n        screenPosition = (position.zw * vertexBuffer) + position.xy;\r\n        diffuseTextureCoord = (diffuseTextureSlice.zw * textureBuffer) + diffuseTextureSlice.xy;\r\n        heightMapTextureCoord = (heightMapTextureSlice.zw * textureBuffer) + heightMapTextureSlice.xy;\r\n\r\n        gl_Position = vec4(screenPosition, 0.0, 1.0) * projection;\r\n        currentEffect = effect;\r\n    }"),e.compileShader(Se),be=e.getShaderInfoLog(Se),Ht(Vt("vertexShader: %s"))(be),ye=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(ye,"#version 300 es\r\n    precision highp float;\r\n    \r\n    in vec2 diffuseTextureCoord;\r\n    in vec2 heightMapTextureCoord;\r\n    in vec2 screenPosition;\r\n    in vec2 currentEffect;\r\n\r\n    uniform float time;\r\n        \r\n    uniform sampler2D diffuseTexture;\r\n    uniform sampler2D heightMapTexture;\r\n\r\n    const float devide256 = 0.00390625;\r\n\r\n    vec2 pack (float value) {\r\n        float a = value * devide256;\r\n        return vec2(floor(a) * devide256, fract(a));\r\n    }\r\n\r\n    float unpack (vec2 color) {\r\n        return dot(color, vec2(65536.0, 256.0));\r\n    }\r\n\r\n    layout(location = 0) out vec4 diffuseColor;\r\n    layout(location = 1) out vec4 locationColor;\r\n\r\n    vec2 hash(vec2 p) {                       \r\n        p = vec2( dot(p,vec2(127.1,311.7)),\r\n                  dot(p,vec2(269.5,183.3)) );\r\n        return -1. + 2.*fract(sin(p+20.)*53758.5453123);\r\n    }\r\n\r\n    float noise(vec2 p) {\r\n        vec2 i = floor((p)), f = fract((p));\r\n        vec2 u = f*f*(3.-2.*f);\r\n        return mix( mix( dot( hash( i + vec2(0.,0.) ), f - vec2(0.,0.) ), \r\n                         dot( hash( i + vec2(1.,0.) ), f - vec2(1.,0.) ), u.x),\r\n                    mix( dot( hash( i + vec2(0.,1.) ), f - vec2(0.,1.) ), \r\n                         dot( hash( i + vec2(1.,1.) ), f - vec2(1.,1.) ), u.x), u.y);\r\n    }\r\n\r\n    void main(void) {\r\n        vec4 heightMapColor = texture(heightMapTexture, heightMapTextureCoord);\r\n\r\n        if (currentEffect.x == 1.0) { \r\n            float n1 = noise((diffuseTextureCoord*5.8) - (time * 0.3));\r\n            vec2 point = vec2(\r\n                diffuseTextureCoord.x + (n1*.002),\r\n                diffuseTextureCoord.y\r\n            );\r\n\r\n            diffuseColor = texture(diffuseTexture, point);\r\n        }\r\n        else if (currentEffect.x == 2.0) { \r\n            vec2 point = vec2(\r\n                ((sin((diffuseTextureCoord.y * 80.00) + (time * 3.0) + (currentEffect.y * 0.1)) * 0.0006)\r\n                 * (heightMapColor.r * 10.0)\r\n                 )\r\n                \r\n                  + diffuseTextureCoord.x,\r\n                diffuseTextureCoord.y\r\n            );\r\n\r\n            diffuseColor = texture(diffuseTexture, point);\r\n        } else {\r\n            diffuseColor = texture(diffuseTexture, diffuseTextureCoord);\r\n        }\r\n\r\n        \r\n        float a = screenPosition.y;\r\n        float b = heightMapColor.r * 255.0;\r\n        vec2 c = pack(a + b);\r\n\r\n        locationColor = vec4(c.x, c.y, heightMapColor.r, diffuseColor.a);\r\n    }\r\n"),e.compileShader(ye),Te=e.getShaderInfoLog(ye),Ht(Vt("fragmentShader: %s"))(Te),Ee=e.createProgram(),e.attachShader(Ee,Se),e.attachShader(Ee,ye),e.linkProgram(Ee),Re=e.getProgramInfoLog(Ee),Ht(Vt("program: %s"))(Re),e.detachShader(Ee,Se),e.deleteShader(Se),e.detachShader(Ee,ye),e.deleteShader(ye),e.useProgram(Ee),Ce=qi(new Array(10),0,10,null),Fe=e.getUniformLocation(Ee,"projection"),Ce[0]=Fe,_e=e.getAttribLocation(Ee,"vertexBuffer"),Ce[1]=_e,Oe=e.getAttribLocation(Ee,"textureBuffer"),Ce[2]=Oe,Le=e.getAttribLocation(Ee,"position"),Ce[3]=Le,Ue=e.getAttribLocation(Ee,"diffuseTextureSlice"),Ce[4]=Ue,ke=e.getAttribLocation(Ee,"heightMapTextureSlice"),Ce[5]=ke,Ne=e.getAttribLocation(Ee,"effect"),Ce[6]=Ne,ze=e.getUniformLocation(Ee,"time"),Ce[7]=ze,Ve=e.getUniformLocation(Ee,"diffuseTexture"),Ce[8]=Ve,He=e.getUniformLocation(Ee,"heightMapTexture"),Ce[9]=He,[Ee,Ce,e]),jn=(je=e.createShader(e.VERTEX_SHADER),e.shaderSource(je,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    out vec2 vTextureCoord;\r\n\r\n    void main() {\r\n        gl_Position = vec4(vertexBuffer.x, vertexBuffer.y, 0.0, 1.0);\r\n        vTextureCoord = textureCoord;\r\n    }"),e.compileShader(je),Ye=e.getShaderInfoLog(je),Ht(Vt("vertexShader: %s"))(Ye),We=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(We,"#version 300 es\r\n    precision mediump float;\r\n    \r\n    in vec2 vTextureCoord;\r\n\r\n    uniform sampler2D colorTexture;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        diffuseColor = texture(colorTexture, vTextureCoord);\r\n    }\r\n"),e.compileShader(We),Xe=e.getShaderInfoLog(We),Ht(Vt("fragmentShader: %s"))(Xe),qe=e.createProgram(),e.attachShader(qe,je),e.attachShader(qe,We),e.linkProgram(qe),$e=e.getProgramInfoLog(qe),Ht(Vt("program: %s"))($e),e.detachShader(qe,je),e.deleteShader(je),e.detachShader(qe,We),e.deleteShader(We),e.useProgram(qe),Je=qi(new Array(3),0,3,null),Ke=e.getAttribLocation(qe,"vertexBuffer"),Je[0]=Ke,Qe=e.getAttribLocation(qe,"textureCoord"),Je[1]=Qe,et=e.getUniformLocation(qe,"colorTexture"),Je[2]=et,[qe,Je,e]),Yn=(tt=e.createShader(e.VERTEX_SHADER),e.shaderSource(tt,"#version 300 es\r\n    precision mediump float;\r\n\r\n    uniform mat4 projection;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureBuffer;\r\n    in vec4 flakes;\r\n\r\n    uniform vec2 resolution;\r\n    uniform vec2 size;\r\n    uniform float time;\r\n    uniform vec2 offset;\r\n\r\n    const vec2 distMin = vec2(0.005);\r\n    const vec2 distMax = vec2(0.01);\r\n\r\n    const vec2 sizeMin = vec2(1.0);\r\n    const vec2 sizeMax = vec2(1.4);\r\n\r\n    out vec2 diffuseTextureCoord;\r\n\r\n    out float height;\r\n    out float wave;\r\n    out vec2 worldTextureCoord;\r\n    out float waveOffset;\r\n\r\n    void main() {\r\n        vec2 timeOffset = vec2(time, time * 0.01);\r\n        vec2 dist = mix(distMin, distMax, flakes.w);\r\n\r\n        vec2 size2 = mix(sizeMin, sizeMax, flakes.w) * size;\r\n        vec2 pos = fract((dist * timeOffset) + flakes.xy + (offset / (resolution + size2)));\r\n\r\n        vec4 position = \r\n            vec4(\r\n                 (pos * (resolution + size2)) - (size2),\r\n                 size2);\r\n\r\n        vec2 screenPosition = (position.zw * vertexBuffer) + position.xy;\r\n\r\n        waveOffset = screenPosition.x - offset.x;\r\n\r\n        worldTextureCoord = \r\n            vec2(screenPosition.x / resolution.x,\r\n                 1.0 - (screenPosition.y / resolution.y));\r\n\r\n        diffuseTextureCoord = textureBuffer;\r\n\r\n        height = mix(0.01, 0.01, flakes.z);\r\n        wave = mix(0.01, 0.1, flakes.w);\r\n\r\n        gl_Position = vec4(screenPosition, 0.0, 1.0) * projection;\r\n    }\r\n\r\n"),e.compileShader(tt),nt=e.getShaderInfoLog(tt),Ht(Vt("vertexShader: %s"))(nt),rt=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(rt,"#version 300 es\r\n    precision highp float;\r\n    \r\n    in vec2 diffuseTextureCoord;\r\n\r\n    in float height;\r\n    in float wave;\r\n    in vec2 worldTextureCoord;\r\n    in float waveOffset;\r\n\r\n    uniform sampler2D diffuseTexture;\r\n    uniform sampler2D depthTexture;\r\n\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        vec4 depthColor = texture(depthTexture, worldTextureCoord);\r\n        float depth = depthColor.z;\r\n\r\n        vec2 point = \r\n            vec2(diffuseTextureCoord.x,\r\n                 (sin(waveOffset * wave) * 0.04) + diffuseTextureCoord.y);\r\n\r\n        vec4 mainColor = texture(diffuseTexture, point);\r\n\r\n        float a = (50.0 * min(height - depth, 0.0)) + 1.0;\r\n\r\n        diffuseColor = vec4(1.0, 1.0, 1.0, (mainColor.r * a * 0.3));\r\n    }\r\n\r\n"),e.compileShader(rt),it=e.getShaderInfoLog(rt),Ht(Vt("fragmentShader: %s"))(it),ot=e.createProgram(),e.attachShader(ot,tt),e.attachShader(ot,rt),e.linkProgram(ot),ut=e.getProgramInfoLog(ot),Ht(Vt("program: %s"))(ut),e.detachShader(ot,tt),e.deleteShader(tt),e.detachShader(ot,rt),e.deleteShader(rt),e.useProgram(ot),st=qi(new Array(10),0,10,null),ct=e.getUniformLocation(ot,"projection"),st[0]=ct,at=e.getAttribLocation(ot,"vertexBuffer"),st[1]=at,lt=e.getAttribLocation(ot,"textureBuffer"),st[2]=lt,dt=e.getAttribLocation(ot,"flakes"),st[3]=dt,ht=e.getUniformLocation(ot,"resolution"),st[4]=ht,wt=e.getUniformLocation(ot,"size"),st[5]=wt,gt=e.getUniformLocation(ot,"time"),st[6]=gt,pt=e.getUniformLocation(ot,"offset"),st[7]=pt,mt=e.getUniformLocation(ot,"diffuseTexture"),st[8]=mt,At=e.getUniformLocation(ot,"depthTexture"),st[9]=At,[ot,st,e]),Wn=(xt=e.createShader(e.VERTEX_SHADER),e.shaderSource(xt,"#version 300 es\r\n    precision highp float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec4 flakes;\r\n\r\n    uniform vec2 resolution;\r\n    uniform vec2 size;\r\n    uniform float time;\r\n\r\n    out vec2 vTextureCoord;\r\n    out float vDepth;\r\n\r\n\r\n    vec2 hash(vec2 p) {                       \r\n        p = vec2( dot(p,vec2(127.1,311.7)),\r\n                  dot(p,vec2(269.5,183.3)) );\r\n        return -1. + 2.*fract(sin(p+20.)*53758.5453123);\r\n    }\r\n\r\n    float noise( vec2 p ) {\r\n        vec2 i = floor((p)), f = fract((p));\r\n        vec2 u = f*f*(3.-2.*f);\r\n        return mix( mix( dot( hash( i + vec2(0.,0.) ), f - vec2(0.,0.) ), \r\n                         dot( hash( i + vec2(1.,0.) ), f - vec2(1.,0.) ), u.x),\r\n                    mix( dot( hash( i + vec2(0.,1.) ), f - vec2(0.,1.) ), \r\n                         dot( hash( i + vec2(1.,1.) ), f - vec2(1.,1.) ), u.x), u.y);\r\n    }\r\n\r\n    float between (float value, float minimum, float maximum) {\r\n        return value * (maximum - minimum) + minimum;\r\n    }\r\n\r\n    void main() {\r\n        float min = 0.8;\r\n        float max = 1.0;\r\n\r\n        float x = flakes.x + ((between(flakes.w, min, max) * 0.2) * time);\r\n        float y = flakes.y + (0.4) * time;\r\n        \r\n\r\n        x = fract(x);\r\n        y = fract(y);\r\n\r\n        vec4 position = \r\n            vec4((x * resolution.x) - size.x,\r\n                 (y * resolution.y) - size.y,\r\n                 size.x, \r\n                 size.y);\r\n\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / resolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / resolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = vec2(position.x / resolution.x, 1.0 - (position.y / resolution.y));\r\n        vDepth = flakes.z * resolution.y;\r\n    }"),e.compileShader(xt),St=e.getShaderInfoLog(xt),Ht(Vt("vertexShader: %s"))(St),bt=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(bt,"#version 300 es\r\n    precision highp float;\r\n    \r\n    in vec2 vTextureCoord;\r\n    in float vDepth;\r\n\r\n    uniform sampler2D depthTexture;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    float unpack (vec2 color) {\r\n        return (color.x * 256.0 * 256.0) + (color.y * 256.0);\r\n    }\r\n\r\n    void main(void) {\r\n        vec4 depthColor = texture(depthTexture, vTextureCoord);\r\n        float depthScreen = unpack(depthColor.xy);\r\n\r\n        if (depthScreen > vDepth) {\r\n            diffuseColor = vec4(0.0);\r\n        }\r\n        else {\r\n            diffuseColor = vec4(0.1, 0.3, 1.0, 1.0);\r\n        }\r\n    }\r\n"),e.compileShader(bt),yt=e.getShaderInfoLog(bt),Ht(Vt("fragmentShader: %s"))(yt),Tt=e.createProgram(),e.attachShader(Tt,xt),e.attachShader(Tt,bt),e.linkProgram(Tt),Et=e.getProgramInfoLog(Tt),Ht(Vt("program: %s"))(Et),e.detachShader(Tt,xt),e.deleteShader(xt),e.detachShader(Tt,bt),e.deleteShader(bt),e.useProgram(Tt),Rt=qi(new Array(6),0,6,null),Ct=e.getAttribLocation(Tt,"vertexBuffer"),Rt[0]=Ct,Pt=e.getAttribLocation(Tt,"flakes"),Rt[1]=Pt,Ft=e.getUniformLocation(Tt,"resolution"),Rt[2]=Ft,Mt=e.getUniformLocation(Tt,"size"),Rt[3]=Mt,Bt=e.getUniformLocation(Tt,"time"),Rt[4]=Bt,_t=e.getUniformLocation(Tt,"depthTexture"),Rt[5]=_t,[Tt,Rt,e]),Xn=(Dt=e.createShader(e.VERTEX_SHADER),e.shaderSource(Dt,"#version 300 es\r\n    precision mediump float;\r\n\r\n    uniform mat4 projection;\r\n    uniform vec2 resolution;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureBuffer;\r\n\r\n    in vec4 position;\r\n    in vec4 diffuseTextureSlice;\r\n    in vec4 heightMapTextureSlice;\r\n\r\n    out vec2 diffuseTextureCoord;\r\n    out vec2 heightMapTextureCoord;\r\n    out vec2 screenPosition;\r\n    out vec2 worldTextureCoord;\r\n\r\n    void main() {\r\n        screenPosition = (position.zw * vertexBuffer) + position.xy;\r\n        diffuseTextureCoord = (diffuseTextureSlice.zw * textureBuffer) + diffuseTextureSlice.xy;\r\n        heightMapTextureCoord = (heightMapTextureSlice.zw * textureBuffer) + heightMapTextureSlice.xy;\r\n\r\n        worldTextureCoord = \r\n            vec2(screenPosition.x / resolution.x,\r\n                 1.0 - (screenPosition.y / resolution.y));\r\n\r\n        gl_Position = vec4(screenPosition, 0.0, 1.0) * projection;\r\n    }"),e.compileShader(Dt),Ot=e.getShaderInfoLog(Dt),Ht(Vt("vertexShader: %s"))(Ot),Lt=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(Lt,"#version 300 es\r\n    precision highp float;\r\n    \r\n    in vec2 diffuseTextureCoord;\r\n    in vec2 heightMapTextureCoord;\r\n    in vec2 screenPosition;\r\n    in vec2 worldTextureCoord;\r\n\r\n    uniform sampler2D diffuseTexture;\r\n    uniform sampler2D heightMapTexture;\r\n    uniform sampler2D depthTexture;\r\n\r\n    const float devide256 = 0.00390625;\r\n\r\n    vec2 pack (float value) {\r\n        float a = value * devide256;\r\n        return vec2(floor(a) * devide256, fract(a));\r\n    }\r\n\r\n    float unpack (vec2 color) {\r\n        return dot(color, vec2(65536.0, 256.0));\r\n    }\r\n\r\n    layout(location = 0) out vec4 diffuseColor;\r\n    layout(location = 1) out vec4 locationColor;\r\n\r\n    vec3 colorA = vec3(99.0 / 255.0, 119.0 / 255.0, 126.0 / 255.0);\r\n    \r\n    void main(void) {\r\n        vec4 depthColor = texture(depthTexture, worldTextureCoord);\r\n        float worldDepth = unpack(depthColor.xy);\r\n        \r\n        vec4 heightMapColor = texture(heightMapTexture, heightMapTextureCoord);\r\n        float a = screenPosition.y;\r\n        float b = heightMapColor.r * 255.0;\r\n        float d = a + b;\r\n\r\n        vec2 c = pack(d);\r\n        diffuseColor = texture(diffuseTexture, diffuseTextureCoord);\r\n\r\n        if (diffuseColor.rgb == colorA) {\r\n            diffuseColor.r = 1.0;\r\n        }\r\n\r\n        locationColor = vec4(c.x, c.y, heightMapColor.r, diffuseColor.a);\r\n\r\n        if (diffuseColor.a > 0.0 && worldDepth > d + 0.5) {\r\n            if (heightMapColor.r > 15.0 / 255.0){\r\n                diffuseColor = vec4(0.0, 0.0, 0.0, 0.5);\r\n            } else {\r\n                diffuseColor = vec4(0.0, 0.0, 0.0, 0.0);\r\n            }\r\n            \r\n            locationColor.a = 0.0;\r\n        }\r\n    }\r\n"),e.compileShader(Lt),Ut=e.getShaderInfoLog(Lt),Ht(Vt("fragmentShader: %s"))(Ut),It=e.createProgram(),e.attachShader(It,Dt),e.attachShader(It,Lt),e.linkProgram(It),kt=e.getProgramInfoLog(It),Ht(Vt("program: %s"))(kt),e.detachShader(It,Dt),e.deleteShader(Dt),e.detachShader(It,Lt),e.deleteShader(Lt),e.useProgram(It),Nt=qi(new Array(10),0,10,null),zt=e.getUniformLocation(It,"projection"),Nt[0]=zt,jt=e.getUniformLocation(It,"resolution"),Nt[1]=jt,Yt=e.getAttribLocation(It,"vertexBuffer"),Nt[2]=Yt,Wt=e.getAttribLocation(It,"textureBuffer"),Nt[3]=Wt,Xt=e.getAttribLocation(It,"position"),Nt[4]=Xt,Gt=e.getAttribLocation(It,"diffuseTextureSlice"),Nt[5]=Gt,qt=e.getAttribLocation(It,"heightMapTextureSlice"),Nt[6]=qt,$t=e.getUniformLocation(It,"diffuseTexture"),Nt[7]=$t,Jt=e.getUniformLocation(It,"heightMapTexture"),Nt[8]=Jt,Zt=e.getUniformLocation(It,"depthTexture"),Nt[9]=Zt,[It,Nt,e]),qn=(Kt=e.createShader(e.VERTEX_SHADER),e.shaderSource(Kt,"#version 300 es\r\n    precision mediump float;\r\n\r\n    uniform mat4 projection;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureBuffer;\r\n\r\n    in vec4 position;\r\n    in vec4 diffuseTextureSlice;\r\n\r\n    out vec2 diffuseTextureCoord;\r\n\r\n    void main() {\r\n        vec2 screenPosition = (position.zw * vertexBuffer) + position.xy;\r\n        diffuseTextureCoord = (diffuseTextureSlice.zw * textureBuffer) + diffuseTextureSlice.xy;\r\n\r\n        gl_Position = vec4(screenPosition, 0.0, 1.0) * projection;\r\n    }"),e.compileShader(Kt),Qt=e.getShaderInfoLog(Kt),Ht(Vt("vertexShader: %s"))(Qt),en=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(en,"#version 300 es\r\n    precision highp float;\r\n    \r\n    in vec2 diffuseTextureCoord;\r\n\r\n    uniform sampler2D diffuseTexture;\r\n\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        diffuseColor = texture(diffuseTexture, diffuseTextureCoord);\r\n    }\r\n"),e.compileShader(en),tn=e.getShaderInfoLog(en),Ht(Vt("fragmentShader: %s"))(tn),nn=e.createProgram(),e.attachShader(nn,Kt),e.attachShader(nn,en),e.linkProgram(nn),rn=e.getProgramInfoLog(nn),Ht(Vt("program: %s"))(rn),e.detachShader(nn,Kt),e.deleteShader(Kt),e.detachShader(nn,en),e.deleteShader(en),e.useProgram(nn),on=qi(new Array(6),0,6,null),un=e.getUniformLocation(nn,"projection"),on[0]=un,sn=e.getAttribLocation(nn,"vertexBuffer"),on[1]=sn,cn=e.getAttribLocation(nn,"textureBuffer"),on[2]=cn,fn=e.getAttribLocation(nn,"position"),on[3]=fn,ln=e.getAttribLocation(nn,"diffuseTextureSlice"),on[4]=ln,dn=e.getUniformLocation(nn,"diffuseTexture"),on[5]=dn,[nn,on,e]),$n=xi([],{Equals:Me,GetHashCode:Pe}),Jn=function(t,n,r){const i=pe($n,[t,n,r],null);if(i[0])return i[1];{const i=function(e,t,n){const r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),ic(t)&&ic(n)?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),r}(e,n,r);return Ze($n,[t,n,r],i),i}},Zn=new Ae((function(){var e;return[ss(dc()("Fog1").Frames[0].Layers[0].TextureName,!0),(e=dc()("Fog2"),ss(e.Frames[0].Layers[0].TextureName,!0))]})),Kn=ft(),Qn=[],er=e.createBuffer(),tr=[],nr=e.createBuffer(),rr=[],ir=e.createBuffer(),or=[],ur=e.createBuffer(),cr=[],ar=e.createBuffer(),fr=oc(e),lr=oc(e),dr=oc(e);return function(n){return function(r){return function(i){let o,u=vt(n,Kn);o=u/1e3,$n.size>10&&(vr((function(t){var n,r;n=e,r=t[1],n.deleteTexture(r)}),$n),$n.clear());const s=Jn(-1,Ku(r.Resolution),Qu(r.Resolution)),c=Jn(-2,Ku(r.Resolution),Qu(r.Resolution)),a=Jn(-3,Ku(r.Resolution),Qu(r.Resolution)),f=Jn(-4,Ku(r.Resolution),Qu(r.Resolution)),l=[t(Zn.Value[0]),t(Zn.Value[1])];let d=void 0,h=function(){};const v=function(e,t,n){return function(e,t,n){const r=Math.fround(0),i=Math.fround(1),o=Math.fround(2),u=Math.fround(0),s=t,c=n,a=Math.fround(0),f=Math.fround(-1),l=Math.fround(1);return new Float32Array([o/(s-u),r,r,r,r,o/(a-c),r,r,r,r,o/(f-l),r,(u+s)/(u-s),(c+a)/(c-a),(f+l)/(f-l),i])}(0,e/n,t/n)},w=function(t,n,r,u,s,a,v){var w,g,p,m,A,x,S,b,y,T,E;let R,C,P,F;if(null!=u){P=u.Texture}else P=void 0;var M,B,_,D,O,L,U,I,k,N,z,V,H,j,Y,W,X,G,q,$,J;switch(C=an({HeightTexture:null!=s?(w=s,w.Texture):void 0,NormalTexture:P,Resolution:n[0],Scale:n[1],Shader:r}),R=C,Be(R,d)?F=!1:(h(),d=R,F=!0),1===r.tag?null!=u?(M=1,_=u):M=10:2===r.tag?null!=u?(M=2,D=u):M=10:5===r.tag?null!=u?(M=3,O=r.fields[0],L=u):M=10:6===r.tag?null!=u?(M=4,U=r.fields[3],I=r.fields[2],k=r.fields[1],N=u,z=r.fields[0]):M=10:3===r.tag?null!=u?(M=5,V=r.fields[3],H=r.fields[2],j=r.fields[1],Y=u,W=r.fields[0]):M=10:4===r.tag?(M=6,X=r.fields[0][3],G=r.fields[0][2],q=r.fields[0][1],$=r.fields[0][0]):7===r.tag?M=7:8===r.tag?M=8:9===r.tag?null!=u?(M=9,J=u):M=10:null!=u?(M=0,B=u):M=10,M){case 0:F&&(h=function(){if(h=function(){},Qn.length>0){const n=qn;n[2].useProgram(n[0]),n[2].enable(n[2].BLEND);const r=qn;let i;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE),i=t,qn[2].uniformMatrix4fv(qn[1][0],!0,i);const o=qn[1][1];qn[2].bindBuffer(qn[2].ARRAY_BUFFER,pn),qn[2].enableVertexAttribArray(o),qn[2].vertexAttribDivisor(o,0),qn[2].vertexAttribPointer(o,2,qn[2].FLOAT,!1,0,0);const u=qn[1][2];qn[2].bindBuffer(qn[2].ARRAY_BUFFER,xn),qn[2].enableVertexAttribArray(u),qn[2].vertexAttribDivisor(u,0),qn[2].vertexAttribPointer(u,2,qn[2].FLOAT,!1,0,0),qn[2].activeTexture(qn[2].TEXTURE0),qn[2].bindTexture(qn[2].TEXTURE_2D,B.Texture),qn[2].uniform1i(qn[1][5],0);let s;s=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),Qn.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,er),e.bufferData(e.ARRAY_BUFFER,s,e.STATIC_DRAW);const c=qn[1][3];qn[2].bindBuffer(qn[2].ARRAY_BUFFER,er),qn[2].enableVertexAttribArray(c),qn[2].vertexAttribDivisor(c,1),qn[2].vertexAttribPointer(c,4,qn[2].FLOAT,!1,0,0);let a;a=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),tr.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,nr),e.bufferData(e.ARRAY_BUFFER,a,e.STATIC_DRAW);const f=qn[1][4];qn[2].bindBuffer(qn[2].ARRAY_BUFFER,nr),qn[2].enableVertexAttribArray(f),qn[2].vertexAttribDivisor(f,1),qn[2].vertexAttribPointer(f,4,qn[2].FLOAT,!1,0,0);const l=0|Qn.length,d=qn;d[2].drawArraysInstanced(d[2].TRIANGLES,0,6,l),Ge(Qn),Ge(tr);const h=qn[1][1];qn[2].disableVertexAttribArray(h);const v=qn[1][2];qn[2].disableVertexAttribArray(v);const w=qn[1][3];qn[2].disableVertexAttribArray(w);const g=qn[1][4];qn[2].disableVertexAttribArray(g)}}),Qn.push([0|rs(v[0]),0|is(v[0]),0|Ku(v[1]),0|Qu(v[1])]),tr.push(B.TextureSlice);break;case 1:if(null!=s){const n=s;var Z,K;if(F&&(h=function(){if(h=function(){},Qn.length>0){const r=Hn;r[2].useProgram(r[0]),r[2].enable(r[2].BLEND);const i=Hn;let u;i[2].blendEquation(i[2].FUNC_ADD),i[2].blendFuncSeparate(i[2].SRC_ALPHA,i[2].ONE_MINUS_SRC_ALPHA,i[2].ONE,i[2].ONE),Hn[2].activeTexture(Hn[2].TEXTURE0),Hn[2].bindTexture(Hn[2].TEXTURE_2D,_.Texture),Hn[2].uniform1i(Hn[1][8],0),Hn[2].activeTexture(Hn[2].TEXTURE1),Hn[2].bindTexture(Hn[2].TEXTURE_2D,n.Texture),Hn[2].uniform1i(Hn[1][9],1),u=t,Hn[2].uniformMatrix4fv(Hn[1][0],!0,u);const s=o;Hn[2].uniform1f(Hn[1][7],s);let c;c=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),Qn.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,er),e.bufferData(e.ARRAY_BUFFER,c,e.STATIC_DRAW);const a=Hn[1][3];Hn[2].bindBuffer(Hn[2].ARRAY_BUFFER,er),Hn[2].enableVertexAttribArray(a),Hn[2].vertexAttribDivisor(a,1),Hn[2].vertexAttribPointer(a,4,Hn[2].FLOAT,!1,0,0);let f;f=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),tr.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,nr),e.bufferData(e.ARRAY_BUFFER,f,e.STATIC_DRAW);const l=Hn[1][4];Hn[2].bindBuffer(Hn[2].ARRAY_BUFFER,nr),Hn[2].enableVertexAttribArray(l),Hn[2].vertexAttribDivisor(l,1),Hn[2].vertexAttribPointer(l,4,Hn[2].FLOAT,!1,0,0);let d;d=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),rr.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,ir),e.bufferData(e.ARRAY_BUFFER,d,e.STATIC_DRAW);const h=Hn[1][5];Hn[2].bindBuffer(Hn[2].ARRAY_BUFFER,ir),Hn[2].enableVertexAttribArray(h),Hn[2].vertexAttribDivisor(h,1),Hn[2].vertexAttribPointer(h,4,Hn[2].FLOAT,!1,0,0);let v;v=Ji((function(e){return new Float32Array([e[0],e[1]])}),or.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,ur),e.bufferData(e.ARRAY_BUFFER,v,e.STATIC_DRAW);const w=Hn[1][6];Hn[2].bindBuffer(Hn[2].ARRAY_BUFFER,ur),Hn[2].enableVertexAttribArray(w),Hn[2].vertexAttribDivisor(w,1),Hn[2].vertexAttribPointer(w,2,Hn[2].FLOAT,!1,0,0);const g=Hn[1][1];Hn[2].bindBuffer(Hn[2].ARRAY_BUFFER,pn),Hn[2].enableVertexAttribArray(g),Hn[2].vertexAttribDivisor(g,0),Hn[2].vertexAttribPointer(g,2,Hn[2].FLOAT,!1,0,0);const p=Hn[1][2];Hn[2].bindBuffer(Hn[2].ARRAY_BUFFER,xn),Hn[2].enableVertexAttribArray(p),Hn[2].vertexAttribDivisor(p,0),Hn[2].vertexAttribPointer(p,2,Hn[2].FLOAT,!1,0,0);const m=0|Qn.length,A=Hn;A[2].drawArraysInstanced(A[2].TRIANGLES,0,6,m);const x=Hn[1][1];Hn[2].disableVertexAttribArray(x);const S=Hn[1][2];Hn[2].disableVertexAttribArray(S);const b=Hn[1][3];Hn[2].disableVertexAttribArray(b);const y=Hn[1][4];Hn[2].disableVertexAttribArray(y);const T=Hn[1][5];Hn[2].disableVertexAttribArray(T);const E=Hn[1][6];Hn[2].disableVertexAttribArray(E)}Ge(Qn),Ge(tr),Ge(rr),Ge(or)}),Qn.push([0|rs(v[0]),0|is(v[0]),0|Ku(v[1]),0|Qu(v[1])]),tr.push(_.TextureSlice),rr.push(n.TextureSlice),null!=a){const e=a;0===e.tag?Z=0:1===e.tag?(Z=1,K=e.fields[0]):Z=2}else Z=2;switch(Z){case 0:or.push([1,0]);break;case 1:or.push([2,K]);break;case 2:or.push([0,0])}}break;case 2:if(null!=s){const r=s;F&&(h=function(){if(h=function(){},Qn.length>0){const i=Xn;i[2].useProgram(i[0]),i[2].enable(i[2].BLEND);const o=Xn;let u;o[2].blendEquation(o[2].FUNC_ADD),o[2].blendFuncSeparate(o[2].SRC_ALPHA,o[2].ONE_MINUS_SRC_ALPHA,o[2].ONE,o[2].ONE),Xn[2].activeTexture(Xn[2].TEXTURE0),Xn[2].bindTexture(Xn[2].TEXTURE_2D,D.Texture),Xn[2].uniform1i(Xn[1][7],0),Xn[2].activeTexture(Xn[2].TEXTURE1),Xn[2].bindTexture(Xn[2].TEXTURE_2D,r.Texture),Xn[2].uniform1i(Xn[1][8],1),Xn[2].activeTexture(Xn[2].TEXTURE2),Xn[2].bindTexture(Xn[2].TEXTURE_2D,c),Xn[2].uniform1i(Xn[1][9],2);const s=Zu(~~(Ku(n[0])/n[1]),~~(Qu(n[0])/n[1]));let a;u=[0|Ku(s),0|Qu(s)],Xn[2].uniform2f(Xn[1][1],u[0],u[1]),a=t,Xn[2].uniformMatrix4fv(Xn[1][0],!0,a);let f;f=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),Qn.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,er),e.bufferData(e.ARRAY_BUFFER,f,e.STATIC_DRAW);const l=Xn[1][4];Xn[2].bindBuffer(Xn[2].ARRAY_BUFFER,er),Xn[2].enableVertexAttribArray(l),Xn[2].vertexAttribDivisor(l,1),Xn[2].vertexAttribPointer(l,4,Xn[2].FLOAT,!1,0,0);let d;d=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),tr.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,nr),e.bufferData(e.ARRAY_BUFFER,d,e.STATIC_DRAW);const h=Xn[1][5];Xn[2].bindBuffer(Xn[2].ARRAY_BUFFER,nr),Xn[2].enableVertexAttribArray(h),Xn[2].vertexAttribDivisor(h,1),Xn[2].vertexAttribPointer(h,4,Xn[2].FLOAT,!1,0,0);let v;v=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),rr.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,ir),e.bufferData(e.ARRAY_BUFFER,v,e.STATIC_DRAW);const w=Xn[1][6];Xn[2].bindBuffer(Xn[2].ARRAY_BUFFER,ir),Xn[2].enableVertexAttribArray(w),Xn[2].vertexAttribDivisor(w,1),Xn[2].vertexAttribPointer(w,4,Xn[2].FLOAT,!1,0,0);const g=Xn[1][2];Xn[2].bindBuffer(Xn[2].ARRAY_BUFFER,pn),Xn[2].enableVertexAttribArray(g),Xn[2].vertexAttribDivisor(g,0),Xn[2].vertexAttribPointer(g,2,Xn[2].FLOAT,!1,0,0);const p=Xn[1][3];Xn[2].bindBuffer(Xn[2].ARRAY_BUFFER,xn),Xn[2].enableVertexAttribArray(p),Xn[2].vertexAttribDivisor(p,0),Xn[2].vertexAttribPointer(p,2,Xn[2].FLOAT,!1,0,0);const m=0|Qn.length,A=Xn;A[2].drawArraysInstanced(A[2].TRIANGLES,0,6,m),Ge(Qn),Ge(tr),Ge(rr);const x=Xn[1][2];Xn[2].disableVertexAttribArray(x);const S=Xn[1][3];Xn[2].disableVertexAttribArray(S);const b=Xn[1][4];Xn[2].disableVertexAttribArray(b);const y=Xn[1][5];Xn[2].disableVertexAttribArray(y);const T=Xn[1][6];Xn[2].disableVertexAttribArray(T)}}),Qn.push([0|rs(v[0]),0|is(v[0]),0|Ku(v[1]),0|Qu(v[1])]),tr.push(D.TextureSlice),rr.push(r.TextureSlice)}break;case 3:F&&(h=function(){if(h=function(){},Qn.length>0){const t=zn;t[2].useProgram(t[0]),t[2].enable(t[2].BLEND);const r=zn;let i;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE),zn[2].activeTexture(zn[2].TEXTURE0),zn[2].bindTexture(zn[2].TEXTURE_2D,L.Texture),zn[2].uniform1i(zn[1][5],0);let o;i=[0|Ku(L.TextureSize),0|Qu(L.TextureSize)],zn[2].uniform2f(zn[1][6],i[0],i[1]);o=[0|Ku(n[0]),0|Qu(n[0])],zn[2].uniform2f(zn[1][4],o[0],o[1]);const u=O;zn[2].uniform1f(zn[1][7],u);let s;s=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),Qn.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,er),e.bufferData(e.ARRAY_BUFFER,s,e.STATIC_DRAW);const c=zn[1][2];zn[2].bindBuffer(zn[2].ARRAY_BUFFER,er),zn[2].enableVertexAttribArray(c),zn[2].vertexAttribDivisor(c,1),zn[2].vertexAttribPointer(c,4,zn[2].FLOAT,!1,0,0);let a;a=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),tr.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,nr),e.bufferData(e.ARRAY_BUFFER,a,e.STATIC_DRAW);const f=zn[1][3];zn[2].bindBuffer(zn[2].ARRAY_BUFFER,nr),zn[2].enableVertexAttribArray(f),zn[2].vertexAttribDivisor(f,1),zn[2].vertexAttribPointer(f,4,zn[2].FLOAT,!1,0,0);const l=zn[1][0];zn[2].bindBuffer(zn[2].ARRAY_BUFFER,yn),zn[2].enableVertexAttribArray(l),zn[2].vertexAttribDivisor(l,0),zn[2].vertexAttribPointer(l,2,zn[2].FLOAT,!1,0,0);const d=zn[1][1];zn[2].bindBuffer(zn[2].ARRAY_BUFFER,Mn),zn[2].enableVertexAttribArray(d),zn[2].vertexAttribDivisor(d,0),zn[2].vertexAttribPointer(d,2,zn[2].FLOAT,!1,0,0);const h=0|Qn.length,v=zn;v[2].drawArraysInstanced(v[2].TRIANGLES,0,6,h),Ge(Qn),Ge(tr);const w=zn[1][0];zn[2].disableVertexAttribArray(w);const g=zn[1][1];zn[2].disableVertexAttribArray(g);const p=zn[1][2];zn[2].disableVertexAttribArray(p);const m=zn[1][3];zn[2].disableVertexAttribArray(m)}}),Qn.push((g=ns(rs(v[0])*n[1],is(v[0])*n[1]),p=Zu(Ku(v[1])*n[1],Qu(v[1])*n[1]),[0|rs(g),0|is(g),0|Ku(p),0|Qu(p)])),tr.push([0|rs(L.TextureSlicePosition),0|is(L.TextureSlicePosition),0|Ku(L.TextureSliceSize),0|Qu(L.TextureSliceSize)]);break;case 4:F&&(h=function(){if(h=function(){},Qn.length>0){const t=Vn;t[2].useProgram(t[0]),t[2].enable(t[2].BLEND);const r=Vn;let i;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE),Vn[2].activeTexture(Vn[2].TEXTURE0),Vn[2].bindTexture(Vn[2].TEXTURE_2D,N.Texture),Vn[2].uniform1i(Vn[1][5],0);let o;i=[0|Ku(N.TextureSize),0|Qu(N.TextureSize)],Vn[2].uniform2f(Vn[1][6],i[0],i[1]);o=[0|Ku(n[0]),0|Qu(n[0])],Vn[2].uniform2f(Vn[1][4],o[0],o[1]);const u=[z,k,I,U];Vn[2].uniform4f(Vn[1][7],u[0],u[1],u[2],u[3]);let s;s=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),Qn.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,er),e.bufferData(e.ARRAY_BUFFER,s,e.STATIC_DRAW);const c=Vn[1][2];Vn[2].bindBuffer(Vn[2].ARRAY_BUFFER,er),Vn[2].enableVertexAttribArray(c),Vn[2].vertexAttribDivisor(c,1),Vn[2].vertexAttribPointer(c,4,Vn[2].FLOAT,!1,0,0);let a;a=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),tr.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,nr),e.bufferData(e.ARRAY_BUFFER,a,e.STATIC_DRAW);const f=Vn[1][3];Vn[2].bindBuffer(Vn[2].ARRAY_BUFFER,nr),Vn[2].enableVertexAttribArray(f),Vn[2].vertexAttribDivisor(f,1),Vn[2].vertexAttribPointer(f,4,Vn[2].FLOAT,!1,0,0);const l=Vn[1][0];Vn[2].bindBuffer(Vn[2].ARRAY_BUFFER,yn),Vn[2].enableVertexAttribArray(l),Vn[2].vertexAttribDivisor(l,0),Vn[2].vertexAttribPointer(l,2,Vn[2].FLOAT,!1,0,0);const d=Vn[1][1];Vn[2].bindBuffer(Vn[2].ARRAY_BUFFER,Mn),Vn[2].enableVertexAttribArray(d),Vn[2].vertexAttribDivisor(d,0),Vn[2].vertexAttribPointer(d,2,Vn[2].FLOAT,!1,0,0);const h=0|Qn.length,v=Vn;v[2].drawArraysInstanced(v[2].TRIANGLES,0,6,h),Ge(Qn),Ge(tr);const w=Vn[1][0];Vn[2].disableVertexAttribArray(w);const g=Vn[1][1];Vn[2].disableVertexAttribArray(g);const p=Vn[1][2];Vn[2].disableVertexAttribArray(p);const m=Vn[1][3];Vn[2].disableVertexAttribArray(m)}}),Qn.push((m=ns(rs(v[0])*n[1],is(v[0])*n[1]),A=Zu(Ku(v[1])*n[1],Qu(v[1])*n[1]),[0|rs(m),0|is(m),0|Ku(A),0|Qu(A)])),tr.push([0|rs(N.TextureSlicePosition),0|is(N.TextureSlicePosition),0|Ku(N.TextureSliceSize),0|Qu(N.TextureSliceSize)]);break;case 5:F&&(h=function(){if(h=function(){},Qn.length>0){const t=In;t[2].useProgram(t[0]),t[2].enable(t[2].BLEND);const r=In;let i;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE),In[2].activeTexture(In[2].TEXTURE0),In[2].bindTexture(In[2].TEXTURE_2D,Y.Texture),In[2].uniform1i(In[1][5],0);let o;i=[0|Ku(Y.TextureSize),0|Qu(Y.TextureSize)],In[2].uniform2f(In[1][6],i[0],i[1]);o=[0|Ku(n[0]),0|Qu(n[0])],In[2].uniform2f(In[1][4],o[0],o[1]);const u=[W,j,H,V];In[2].uniform4f(In[1][7],u[0],u[1],u[2],u[3]);let s;s=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),Qn.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,er),e.bufferData(e.ARRAY_BUFFER,s,e.STATIC_DRAW);const c=In[1][2];In[2].bindBuffer(In[2].ARRAY_BUFFER,er),In[2].enableVertexAttribArray(c),In[2].vertexAttribDivisor(c,1),In[2].vertexAttribPointer(c,4,In[2].FLOAT,!1,0,0);let a;a=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),tr.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,nr),e.bufferData(e.ARRAY_BUFFER,a,e.STATIC_DRAW);const f=In[1][3];In[2].bindBuffer(In[2].ARRAY_BUFFER,nr),In[2].enableVertexAttribArray(f),In[2].vertexAttribDivisor(f,1),In[2].vertexAttribPointer(f,4,In[2].FLOAT,!1,0,0);const l=In[1][0];In[2].bindBuffer(In[2].ARRAY_BUFFER,yn),In[2].enableVertexAttribArray(l),In[2].vertexAttribDivisor(l,0),In[2].vertexAttribPointer(l,2,In[2].FLOAT,!1,0,0);const d=In[1][1];In[2].bindBuffer(In[2].ARRAY_BUFFER,Mn),In[2].enableVertexAttribArray(d),In[2].vertexAttribDivisor(d,0),In[2].vertexAttribPointer(d,2,In[2].FLOAT,!1,0,0);const h=0|Qn.length,v=In;v[2].drawArraysInstanced(v[2].TRIANGLES,0,6,h),Ge(Qn),Ge(tr);const w=In[1][0];In[2].disableVertexAttribArray(w);const g=In[1][1];In[2].disableVertexAttribArray(g);const p=In[1][2];In[2].disableVertexAttribArray(p);const m=In[1][3];In[2].disableVertexAttribArray(m)}}),Qn.push((x=ns(rs(v[0])*n[1],is(v[0])*n[1]),S=Zu(Ku(v[1])*n[1],Qu(v[1])*n[1]),[0|rs(x),0|is(x),0|Ku(S),0|Qu(S)])),tr.push([0|rs(Y.TextureSlicePosition),0|is(Y.TextureSlicePosition),0|Ku(Y.TextureSliceSize),0|Qu(Y.TextureSliceSize)]);break;case 6:F&&(h=function(){if(h=function(){},Qn.length>0){const n=Nn;n[2].useProgram(n[0]),n[2].enable(n[2].BLEND);const r=Nn;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE);const i=[$,q,G,X];Nn[2].uniform4f(Nn[1][3],i[0],i[1],i[2],i[3]);const o=Nn;o[2].useProgram(o[0]),o[2].enable(o[2].BLEND);const u=Nn;let s;u[2].blendEquation(u[2].FUNC_ADD),u[2].blendFuncSeparate(u[2].SRC_ALPHA,u[2].ONE_MINUS_SRC_ALPHA,u[2].ONE,u[2].ONE),s=t,Nn[2].uniformMatrix4fv(Nn[1][0],!0,s);const c=Nn[1][1];Nn[2].bindBuffer(Nn[2].ARRAY_BUFFER,pn),Nn[2].enableVertexAttribArray(c),Nn[2].vertexAttribDivisor(c,0),Nn[2].vertexAttribPointer(c,2,Nn[2].FLOAT,!1,0,0);let a;a=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),Qn.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,er),e.bufferData(e.ARRAY_BUFFER,a,e.STATIC_DRAW);const f=Nn[1][2];Nn[2].bindBuffer(Nn[2].ARRAY_BUFFER,er),Nn[2].enableVertexAttribArray(f),Nn[2].vertexAttribDivisor(f,1),Nn[2].vertexAttribPointer(f,4,Nn[2].FLOAT,!1,0,0);const l=0|Qn.length,d=Nn;d[2].drawArraysInstanced(d[2].TRIANGLES,0,6,l),Ge(Qn);const h=Nn[1][1];Nn[2].disableVertexAttribArray(h);const v=Nn[1][2];Nn[2].disableVertexAttribArray(v)}}),Qn.push((b=ns(rs(v[0])*n[1],is(v[0])*n[1]),y=Zu(Ku(v[1])*n[1],Qu(v[1])*n[1]),[0|rs(b),0|is(b),0|Ku(y),0|Qu(y)]));break;case 7:var Q,ee,te;switch(h(),d=void 0,null!=l[0]&&null!=l[1]?(Q=0,l[0][0],ee=l[1][0],te=l[1][1]):Q=1,Q){case 0:{const e=Yn;e[2].useProgram(e[0]),e[2].enable(e[2].BLEND);const r=Yn;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE);const u=Yn[1][1];Yn[2].bindBuffer(Yn[2].ARRAY_BUFFER,pn),Yn[2].enableVertexAttribArray(u),Yn[2].vertexAttribDivisor(u,0),Yn[2].vertexAttribPointer(u,2,Yn[2].FLOAT,!1,0,0);const s=Yn[1][2];let c;Yn[2].bindBuffer(Yn[2].ARRAY_BUFFER,xn),Yn[2].enableVertexAttribArray(s),Yn[2].vertexAttribDivisor(s,0),Yn[2].vertexAttribPointer(s,2,Yn[2].FLOAT,!1,0,0);let a;c=[0|Ku(te),0|Qu(te)],Yn[2].uniform2f(Yn[1][5],c[0],c[1]);const l=Zu(~~(Ku(n[0])/n[1]),~~(Qu(n[0])/n[1]));a=[0|Ku(l),0|Qu(l)],Yn[2].uniform2f(Yn[1][4],a[0],a[1]);const d=o;Yn[2].uniform1f(Yn[1][6],d);const h=[i.Dragger[0],i.Dragger[1]];let v;Yn[2].uniform2f(Yn[1][7],h[0],h[1]),v=t,Yn[2].uniformMatrix4fv(Yn[1][0],!0,v),Yn[2].activeTexture(Yn[2].TEXTURE0),Yn[2].bindTexture(Yn[2].TEXTURE_2D,ee),Yn[2].uniform1i(Yn[1][8],0);const w=Yn[1][3];let g;Yn[2].bindBuffer(Yn[2].ARRAY_BUFFER,hn),Yn[2].enableVertexAttribArray(w),Yn[2].vertexAttribDivisor(w,1),Yn[2].vertexAttribPointer(w,4,Yn[2].FLOAT,!1,0,0),Yn[2].activeTexture(Yn[2].TEXTURE1),Yn[2].bindTexture(Yn[2].TEXTURE_2D,f),Yn[2].uniform1i(Yn[1][9],1);g=Ie(De,1e3,0|~~(~~(Qu(n[0])/n[1])/3));const p=Yn;p[2].drawArraysInstanced(p[2].TRIANGLES,0,6,g);const m=Yn[1][1];Yn[2].disableVertexAttribArray(m);const A=Yn[1][2];Yn[2].disableVertexAttribArray(A);const x=Yn[1][3];Yn[2].disableVertexAttribArray(x);break}}break;case 8:{h(),d=void 0;const e=Wn;e[2].useProgram(e[0]),e[2].enable(e[2].BLEND);const t=Wn;t[2].blendEquation(t[2].FUNC_ADD),t[2].blendFuncSeparate(t[2].SRC_ALPHA,t[2].ONE_MINUS_SRC_ALPHA,t[2].ONE,t[2].ONE);const r=Wn[1][0];let i,u;Wn[2].bindBuffer(Wn[2].ARRAY_BUFFER,yn),Wn[2].enableVertexAttribArray(r),Wn[2].vertexAttribDivisor(r,0),Wn[2].vertexAttribPointer(r,2,Wn[2].FLOAT,!1,0,0);let s;u=2*n[1]|0;let a;s=2*n[1]|0,i=[u,s],Wn[2].uniform2f(Wn[1][3],i[0],i[1]);a=[0|Ku(n[0]),0|Qu(n[0])],Wn[2].uniform2f(Wn[1][2],a[0],a[1]);const f=o;Wn[2].uniform1f(Wn[1][4],f);const l=Wn[1][1];Wn[2].bindBuffer(Wn[2].ARRAY_BUFFER,hn),Wn[2].enableVertexAttribArray(l),Wn[2].vertexAttribDivisor(l,1),Wn[2].vertexAttribPointer(l,4,Wn[2].FLOAT,!1,0,0),Wn[2].activeTexture(Wn[2].TEXTURE0),Wn[2].bindTexture(Wn[2].TEXTURE_2D,c),Wn[2].uniform1i(Wn[1][5],0);const v=Wn;v[2].drawArraysInstanced(v[2].TRIANGLES,0,6,1e3);const w=Wn[1][0];Wn[2].disableVertexAttribArray(w);const g=Wn[1][1];Wn[2].disableVertexAttribArray(g);break}case 9:{F&&(h=function(){if(h=function(){},Qn.length>0){const t=kn;t[2].useProgram(t[0]),t[2].enable(t[2].BLEND);const r=kn;let i;r[2].blendEquationSeparate(r[2].MIN,r[2].MAX),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE),kn[2].activeTexture(kn[2].TEXTURE0),kn[2].bindTexture(kn[2].TEXTURE_2D,J.Texture),kn[2].uniform1i(kn[1][6],0);let o;i=[0|Ku(J.TextureSize),0|Qu(J.TextureSize)],kn[2].uniform2f(kn[1][7],i[0],i[1]);o=[0|Ku(n[0]),0|Qu(n[0])],kn[2].uniform2f(kn[1][5],o[0],o[1]);let u;u=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),Qn.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,er),e.bufferData(e.ARRAY_BUFFER,u,e.STATIC_DRAW);const s=kn[1][3];kn[2].bindBuffer(kn[2].ARRAY_BUFFER,er),kn[2].enableVertexAttribArray(s),kn[2].vertexAttribDivisor(s,1),kn[2].vertexAttribPointer(s,4,kn[2].FLOAT,!1,0,0);let c;c=Ji((function(e){return new Float32Array([e[0],e[1],e[2],e[3]])}),tr.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,nr),e.bufferData(e.ARRAY_BUFFER,c,e.STATIC_DRAW);const a=kn[1][4];kn[2].bindBuffer(kn[2].ARRAY_BUFFER,nr),kn[2].enableVertexAttribArray(a),kn[2].vertexAttribDivisor(a,1),kn[2].vertexAttribPointer(a,4,kn[2].FLOAT,!1,0,0);let f;f=Ji((function(e){return new Float32Array([e[0],e[1]])}),cr.slice(),Float32Array),e.bindBuffer(e.ARRAY_BUFFER,ar),e.bufferData(e.ARRAY_BUFFER,f,e.STATIC_DRAW);const l=kn[1][2];kn[2].bindBuffer(kn[2].ARRAY_BUFFER,ar),kn[2].enableVertexAttribArray(l),kn[2].vertexAttribDivisor(l,1),kn[2].vertexAttribPointer(l,2,kn[2].FLOAT,!1,0,0);const d=kn[1][0];kn[2].bindBuffer(kn[2].ARRAY_BUFFER,yn),kn[2].enableVertexAttribArray(d),kn[2].vertexAttribDivisor(d,0),kn[2].vertexAttribPointer(d,2,kn[2].FLOAT,!1,0,0);const h=kn[1][1];kn[2].bindBuffer(kn[2].ARRAY_BUFFER,Mn),kn[2].enableVertexAttribArray(h),kn[2].vertexAttribDivisor(h,0),kn[2].vertexAttribPointer(h,2,kn[2].FLOAT,!1,0,0);const v=0|Qn.length,w=kn;w[2].drawArraysInstanced(w[2].TRIANGLES,0,6,v),Ge(Qn),Ge(tr),Ge(cr);const g=kn[1][0];kn[2].disableVertexAttribArray(g);const p=kn[1][1];kn[2].disableVertexAttribArray(p);const m=kn[1][2];kn[2].disableVertexAttribArray(m);const A=kn[1][3];kn[2].disableVertexAttribArray(A);const x=kn[1][4];kn[2].disableVertexAttribArray(x)}});const t=null!=a?2===(T=a).tag?[T.fields[0],T.fields[1]]:[0,10]:[0,10];for(let e=t[0];e<=t[1];e++){let t;const r=ns(3*e,3*e);t=ns(rs(v[0])+rs(r),is(v[0])+is(r)),Qn.push((E=Zu(Ku(v[1])*n[1],Qu(v[1])*n[1]),[0|rs(t),0|is(t),0|Ku(E),0|Qu(E)])),tr.push([0|rs(J.TextureSlicePosition),0|is(J.TextureSlicePosition),0|Ku(J.TextureSliceSize),0|Qu(J.TextureSliceSize)]);const i=e/9,o=.2*(1-i);cr.push([o,i])}break}}};cc(e);const g=0|Ku(r.Resolution),p=0|Qu(r.Resolution);e.viewport(0,0,g,p),rc(e,Ku(r.Resolution),Qu(r.Resolution));const m=function(e,n,r){var i,o;const u=t(e);if(null!=u){const e=u[1],t=u[0];return new zc(t,e,n,r,(i=Ku(e),o=Qu(e),[rs(n)/i,is(n)/o,Ku(r)/i,Qu(r)/o]))}};!function t(r,i,o,u,l,g,p){var A,x;e:for(;;){const E=r,R=i,C=o,P=u,F=l,M=g,B=p;var S,b;switch(1===B.tag&&Be(B.fields[0].Mode,new vs(0,"World"))?(S=0,b=B.fields[0]):S=1,S){case 0:{let n;uc(e,fr),sc(e,0,s),sc(e,1,c),n=new Float64Array([e.COLOR_ATTACHMENT0,e.COLOR_ATTACHMENT1]),e.drawBuffers(n);const r=0|Ku(C),i=0|Qu(C);e.viewport(0,0,r,i),rc(e,Ku(C),Qu(C));const o=ns(rs(b.Position)+rs(P),is(b.Position)+is(P));for(let e=0;e<=b.Children.length-1;e++)t(E,R,C,o,F,new ls(0,"Default"),b.Children[e]);h(),d=void 0;const u=jn;u[2].useProgram(u[0]),u[2].enable(u[2].BLEND);const l=jn;l[2].blendEquation(l[2].FUNC_ADD),l[2].blendFuncSeparate(l[2].SRC_ALPHA,l[2].ONE_MINUS_SRC_ALPHA,l[2].ONE,l[2].ONE);const v=jn[1][0];jn[2].bindBuffer(jn[2].ARRAY_BUFFER,yn),jn[2].enableVertexAttribArray(v),jn[2].vertexAttribDivisor(v,0),jn[2].vertexAttribPointer(v,2,jn[2].FLOAT,!1,0,0);const w=jn[1][1];jn[2].bindBuffer(jn[2].ARRAY_BUFFER,Mn),jn[2].enableVertexAttribArray(w),jn[2].vertexAttribDivisor(w,0),jn[2].vertexAttribPointer(w,2,jn[2].FLOAT,!1,0,0),uc(e,lr),sc(e,0,a),rc(e,Ku(C),Qu(C)),jn[2].activeTexture(jn[2].TEXTURE0),jn[2].bindTexture(jn[2].TEXTURE_2D,s),jn[2].uniform1i(jn[1][2],0);const g=jn;g[2].drawArrays(g[2].TRIANGLES,0,6),uc(e,dr),sc(e,0,f),rc(e,Ku(C),Qu(C)),jn[2].activeTexture(jn[2].TEXTURE0),jn[2].bindTexture(jn[2].TEXTURE_2D,c),jn[2].uniform1i(jn[1][2],0);const p=jn;p[2].drawArrays(p[2].TRIANGLES,0,6);const m=jn[1][0];jn[2].disableVertexAttribArray(m);const A=jn[1][1];jn[2].disableVertexAttribArray(A),cc(e);const x=0|Ku(C),S=0|Qu(C);e.viewport(0,0,x,S);break}case 1:var y,T;switch(1===B.tag&&Be(B.fields[0].Mode,new vs(1,"Player"))?(y=0,T=B.fields[0]):y=1,y){case 0:{let n;uc(e,fr),sc(e,0,a),sc(e,1,f),n=new Float64Array([e.COLOR_ATTACHMENT0,e.COLOR_ATTACHMENT1]),e.drawBuffers(n);const r=ns(rs(T.Position)+rs(P),is(T.Position)+is(P));for(let e=0;e<=T.Children.length-1;e++)t(E,R,C,r,F,new ls(0,"Default"),T.Children[e]);h(),d=void 0,cc(e);const i=0|Ku(C),o=0|Qu(C);e.viewport(0,0,i,o);const u=jn;u[2].useProgram(u[0]),u[2].enable(u[2].BLEND);const s=jn;s[2].blendEquation(s[2].FUNC_ADD),s[2].blendFuncSeparate(s[2].SRC_ALPHA,s[2].ONE_MINUS_SRC_ALPHA,s[2].ONE,s[2].ONE);const c=jn[1][0];jn[2].bindBuffer(jn[2].ARRAY_BUFFER,yn),jn[2].enableVertexAttribArray(c),jn[2].vertexAttribDivisor(c,0),jn[2].vertexAttribPointer(c,2,jn[2].FLOAT,!1,0,0);const l=jn[1][1];jn[2].bindBuffer(jn[2].ARRAY_BUFFER,Mn),jn[2].enableVertexAttribArray(l),jn[2].vertexAttribDivisor(l,0),jn[2].vertexAttribPointer(l,2,jn[2].FLOAT,!1,0,0),jn[2].activeTexture(jn[2].TEXTURE0),jn[2].bindTexture(jn[2].TEXTURE_2D,a),jn[2].uniform1i(jn[1][2],0);const v=jn;v[2].drawArrays(v[2].TRIANGLES,0,6);const w=jn[1][0];jn[2].disableVertexAttribArray(w);const g=jn[1][1];jn[2].disableVertexAttribArray(g);break}case 1:switch(B.tag){case 0:w(E,[C,F],M,m(B.fields[0].Texture,B.fields[0].TextureSlicePosition,B.fields[0].TextureSliceSize),null!=B.fields[0].HeightMap?(A=B.fields[0].HeightMap,m(A.Texture,A.TextureSlicePosition,A.TextureSliceSize)):void 0,B.fields[0].Effect,[ns(rs(B.fields[0].Position)+rs(P),is(B.fields[0].Position)+is(P)),B.fields[0].Size]);break;case 3:{h(),d=void 0;const n=Jn(R,Ku(B.fields[0].Size),Qu(B.fields[0].Size));uc(e,dr),sc(e,0,n);const r=0|Ku(B.fields[0].Size),i=0|Qu(B.fields[0].Size);e.viewport(0,0,r,i),rc(e,Ku(B.fields[0].Size),Qu(B.fields[0].Size));const o=v(Ku(B.fields[0].Size),Qu(B.fields[0].Size),1);for(let e=0;e<=B.fields[0].Children.length-1;e++)t(o,R+1,B.fields[0].Size,os(),1,new ls(0,"Default"),B.fields[0].Children[e]);h(),d=void 0,cc(e);const u=0|Ku(C),s=0|Qu(C);e.viewport(0,0,u,s),w(E,[C,F],B.fields[0].Shader,new zc(n,B.fields[0].Size,os(),B.fields[0].Size,[0,0,1,1]),void 0,void 0,[(x=os(),ns(rs(x)+rs(P),is(x)+is(P))),B.fields[0].Size]);break}case 2:B.fields[0].Last=B.fields[0].Render(n),r=E,i=R,o=C,u=P,l=F,g=M,p=B.fields[0].Last;continue e;case 4:case 5:r=E,i=R,o=C,u=P,l=F,g=M,p=B.fields[0].Last;continue e;case 6:break;default:{const e=ns(rs(B.fields[0].Position)+rs(P),is(B.fields[0].Position)+is(P));let n,r;n=Gn(B.fields[0].Shader,M),r=Gn(B.fields[0].Scale,F);const i=r===F?E:v(Ku(C),Qu(C),r);for(let o=0;o<=B.fields[0].Children.length-1;o++)t(i,R,C,e,r,n,B.fields[0].Children[o])}}}}break}}(v(Ku(r.Resolution),Qu(r.Resolution),r.Scale),0,r.Resolution,ns(0,0),r.Scale,new ls(0,"Default"),r.Content),h()}}}}(ta,na);function fa(e){ea.width=Qc.clientWidth,ea.height=Qc.clientHeight;lc(new Ms(3,"Resolution",~~ea.clientWidth,~~ea.clientHeight))}function la(e){const t=ft();if(ra.length>0&&ht(t,ia())>=0){let e,n,r;r=pr((e,t)=>[e,t],ra),n=lr((function(e){return ht(t,e[1][0])>=0}),r),e=Sr(n),vr((function(e){fc(e[1][1]),ra.splice(e[0],1)}),e)}if(oa.length>0){const e=function(e,t){e:for(;;){const n=e,r=t;if(oa.length>0){const i=oa[0];if(oa.splice(0,1),0===i.tag){if(4===i.fields[0].tag){ca(!0),e=n,t=r;continue e}{const o=Nc(r,i.fields[0]);ru(lc,o[1]),e=n,t=o[0];continue e}}if(6===i.fields[0].tag){ra.push([i.fields[0].fields[0],i.fields[0].fields[1]]),ia(mr((function(e){return e[0]}),ra,{Compare:ht})[0]),e=n,t=r;continue e}{const o=vc(ft(),n,i.fields[0]);ru(fc,o[1]),e=o[0],t=r;continue e}}return[n,r]}}(ua(),sa());ua()===e[0]||(ua(e[0]),ca(!0)),sa()===e[1]||sa(e[1])}}function da(e){var t;ca()&&(ca(!1),sa((t=Zc(ua()),new Fs(sa().Scale,sa().Resolution,t,sa().MouseItem,sa().DragItem,sa().ClickItem,sa().HoverItem,sa().BlurItem))),function(e){const t=new Set([]);vr((function(e){let n;n=me(e,t)}),mc.keys()),function e(n){e:for(;;){const r=n;switch(r.tag){case 2:n=r.fields[0].Last;continue e;case 5:r.fields[0].Rendered||(r.fields[0].Last=r.fields[0].Render()),e(r.fields[0].Last),r.fields[0].Rendered=!1;break;case 1:case 3:r.fields[0].Children.forEach(e);break;case 0:case 6:break;default:t.delete(r.fields[0].Key);n=r.fields[0].Last;continue e}break}}(e),vr((function(e){mc.delete(e)}),t),xc.clear()}(sa().Content)),aa(ft())(sa())(ua())}function ha(e){la(),da();window.requestAnimationFrame(ha)}window.isTouch?(ea.ontouchstart=function(e){const t=e.touches[0].clientX,n=e.touches[0].clientY;lc(new Ms(0,"MouseDown",~~t,~~n)),e.preventDefault()},ea.ontouchmove=function(e){const t=e.touches[0].clientX,n=e.touches[0].clientY;lc(new Ms(1,"MouseMove",~~t,~~n,!1)),e.preventDefault()},ea.ontouchend=function(e){lc(new Ms(2,"MouseUp",0,0)),e.preventDefault()}):(ea.onmousemove=function(e){lc(new Ms(1,"MouseMove",~~e.x,~~e.y,!1))},ea.onmousedown=function(e){lc(new Ms(0,"MouseDown",~~e.x,~~e.y))},ea.onmouseup=function(e){lc(new Ms(2,"MouseUp",~~e.x,~~e.y))},ea.onmousewheel=function(e){lc(new Ms(0,"MouseDown",~~e.x,~~e.y));lc(new Ms(1,"MouseMove",~~e.x+~~e.wheelDeltaX,~~e.y+~~e.wheelDeltaY,!0));lc(new Ms(2,"MouseUp",~~e.x,~~e.y));lc(new Ms(1,"MouseMove",~~e.x,~~e.y,!1))}),window.addEventListener("keydown",(function(e){const t=Ic();var n;vr((function(t){const n=e.key;1===n.length?t(n[0]):"Backspace"===n&&t("\b")}),null==(n=t)?[]:[Xn(n)])})),window.onresize=function(e){fa()},fa(),function(){let e;e=Zs.Delay((function(){return Zs.Bind(Kc("Sprites.json"),(function(e){dc((function(t){return hi(t,e)}));ha();return Zs.Zero()}))})),tc(e)}()}]);