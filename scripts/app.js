!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r;function i(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function o(e,t,n){const i=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(null!=i){const[e,o,u,s]=i;if(!function(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}(n=n||function(e,t){if(t&r.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}(u,t)).test(s))return function(e,t){const[n,r,i,o]=e;return{sign:r||"",prefix:i||"",digits:o,radix:t}}(i,n)}return null}function u(e,t,n,r){try{return[!0,function(e,t,n,r,u){const s=o(e,t,u);if(null!=s){let e=Number.parseInt(s.sign+s.digits,s.radix);if(!Number.isNaN(e)){const[t,o]=i(!0,r);!n&&10!==s.radix&&e>=t&&e<=o&&(e=e<<32-r>>32-r);const[u,c]=i(n,r);if(e>=u&&e<=c)return e}}throw new Error("Input string was not in a correct format.")}(e,t,n,r)]}catch(e){}return[!1,0]}function s(e){return-2147483648===e?e:-e}n.r(t),function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"}(r||(r={}));var c=null;try{c=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function l(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function a(e){return!0===(e&&e.__isLong__)}l.prototype.GetHashCode=function(){let e=this.unsigned?1:0;return e=((e=(e<<5)+e^this.high)<<5)+e^this.low},l.prototype.Equals=function(e){return I(this,e)},l.prototype.CompareTo=function(e){return V(this,e)},l.prototype.toString=function(e){return D(this,e)},l.prototype.toJSON=function(){return D(this)},l.prototype.__isLong__,Object.defineProperty(l.prototype,"__isLong__",{value:!0});var f={},d={};function h(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=d[e])?r:(n=p(e,(0|e)<0?-1:0,!0),i&&(d[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=f[e])?r:(n=p(e,e<0?-1:0,!1),i&&(f[e]=n),n)}function w(e,t){if(isNaN(e))return t?E:S;if(t){if(e<0)return E;if(e>=A)return M}else{if(e<=-b)return O;if(e+1>=b)return P}return e<0?H(w(-e,t)):p(e%x|0,e/x|0,t)}function p(e,t,n){return new l(e,t,n)}var g=Math.pow;function v(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return S;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r=e.indexOf("-");if(r>0)throw Error("interior hyphen");if(0===r)return H(v(e.substring(1),t,n));for(var i=w(g(n,8)),o=S,u=0;u<e.length;u+=8){var s=Math.min(8,e.length-u),c=parseInt(e.substring(u,u+s),n);if(s<8)o=j(G(o,w(g(n,s))),w(c));else o=j(o=G(o,i),w(c))}return o.unsigned=t,o}function m(e,t){return"number"==typeof e?w(e,t):"string"==typeof e?v(e,t):p(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}var x=4294967296,A=x*x,b=A/2,y=h(1<<24),S=h(0),E=h(0,!0),T=h(1),C=h(1,!0),R=h(-1),P=p(-1,2147483647,!1),M=p(-1,-1,!0),O=p(0,-2147483648,!1);function L(e){return e.unsigned?e.low>>>0:e.low}function F(e){return e.unsigned?(e.high>>>0)*x+(e.low>>>0):e.high*x+(e.low>>>0)}function D(e,t){if((t=t||10)<2||36<t)throw RangeError("radix");if(B(e))return"0";if(k(e)){if(I(e,O)){var n=w(t),r=X(e,n),i=W(G(r,n),e);return D(r,t)+L(i).toString(t)}return"-"+D(H(e),t)}for(var o=w(g(t,6),e.unsigned),u=e,s="";;){var c=X(u,o),l=(L(W(u,G(c,o)))>>>0).toString(t);if(B(u=c))return l+s;for(;l.length<6;)l="0"+l;s=""+l+s}}function B(e){return 0===e.high&&0===e.low}function k(e){return!e.unsigned&&e.high<0}function _(e){return 1==(1&e.low)}function I(e,t){return a(t)||(t=m(t)),(e.unsigned===t.unsigned||e.high>>>31!=1||t.high>>>31!=1)&&(e.high===t.high&&e.low===t.low)}function N(e,t){return V(e,t)<0}function z(e,t){return V(e,t)>0}function U(e,t){return V(e,t)>=0}function V(e,t){if(a(t)||(t=m(t)),I(e,t))return 0;var n=k(e),r=k(t);return n&&!r?-1:!n&&r?1:e.unsigned?t.high>>>0>e.high>>>0||t.high===e.high&&t.low>>>0>e.low>>>0?-1:1:k(W(e,t))?-1:1}function H(e){return!e.unsigned&&I(e,O)?O:j(Y(e),T)}function j(e,t){a(t)||(t=m(t));var n=e.high>>>16,r=65535&e.high,i=e.low>>>16,o=65535&e.low,u=t.high>>>16,s=65535&t.high,c=t.low>>>16,l=0,f=0,d=0,h=0;return d+=(h+=o+(65535&t.low))>>>16,f+=(d+=i+c)>>>16,l+=(f+=r+s)>>>16,l+=n+u,p((d&=65535)<<16|(h&=65535),(l&=65535)<<16|(f&=65535),e.unsigned)}function W(e,t){return a(t)||(t=m(t)),j(e,H(t))}function G(e,t){if(B(e))return e.unsigned?E:S;if(a(t)||(t=m(t)),c)return p(c.mul(e.low,e.high,t.low,t.high),c.get_high(),e.unsigned);if(B(t))return e.unsigned?E:S;if(I(e,O))return _(t)?O:S;if(I(t,O))return _(e)?O:S;if(k(e))return k(t)?G(H(e),H(t)):H(G(H(e),t));if(k(t))return H(G(e,H(t)));if(N(e,y)&&N(t,y))return w(F(e)*F(t),e.unsigned);var n=e.high>>>16,r=65535&e.high,i=e.low>>>16,o=65535&e.low,u=t.high>>>16,s=65535&t.high,l=t.low>>>16,f=65535&t.low,d=0,h=0,g=0,v=0;return g+=(v+=o*f)>>>16,h+=(g+=i*f)>>>16,g&=65535,h+=(g+=o*l)>>>16,d+=(h+=r*f)>>>16,h&=65535,d+=(h+=i*l)>>>16,h&=65535,d+=(h+=o*s)>>>16,d+=n*f+r*l+i*s+o*u,p((g&=65535)<<16|(v&=65535),(d&=65535)<<16|(h&=65535),e.unsigned)}function X(e,t){if(a(t)||(t=m(t)),B(t))throw Error("division by zero");var n,r,i;if(c)return e.unsigned||-2147483648!==e.high||-1!==t.low||-1!==t.high?p((e.unsigned?c.div_u:c.div_s)(e.low,e.high,t.low,t.high),c.get_high(),e.unsigned):e;if(B(e))return e.unsigned?E:S;if(e.unsigned){if(t.unsigned||(t=function(e){return e.unsigned?e:p(e.low,e.high,!0)}(t)),z(t,e))return E;if(z(t,J(e,1)))return C;i=E}else{if(I(e,O))return I(t,T)||I(t,R)?O:I(t,O)?T:I(n=q(X($(e,1),t),1),S)?k(t)?T:R:i=j(n,X(r=W(e,G(t,n)),t));if(I(t,O))return e.unsigned?E:S;if(k(e))return k(t)?X(H(e),H(t)):H(X(H(e),t));if(k(t))return H(X(e,H(t)));i=S}for(r=e;U(r,t);){n=Math.max(1,Math.floor(F(r)/F(t)));for(var o=Math.ceil(Math.log(n)/Math.LN2),u=o<=48?1:g(2,o-48),s=w(n),l=G(s,t);k(l)||z(l,r);)l=G(s=w(n-=u,e.unsigned),t);B(s)&&(s=T),i=j(i,s),r=W(r,l)}return i}function Y(e){return p(~e.low,~e.high,e.unsigned)}function q(e,t){return a(t)&&(t=L(t)),0==(t&=63)?e:t<32?p(e.low<<t,e.high<<t|e.low>>>32-t,e.unsigned):p(0,e.low<<t-32,e.unsigned)}function $(e,t){return a(t)&&(t=L(t)),0==(t&=63)?e:t<32?p(e.low>>>t|e.high<<32-t,e.high>>t,e.unsigned):p(e.high>>t-32,e.high>=0?0:-1,e.unsigned)}function J(e,t){if(a(t)&&(t=L(t)),0===(t&=63))return e;var n=e.high;return t<32?p(e.low>>>t|n<<32-t,n>>>t,e.unsigned):p(32===t?n:n>>>t-32,0,e.unsigned)}var Z=l;const K=j,Q=G,ee=X,te=function(e,t){return a(t)||(t=m(t)),c?p((e.unsigned?c.rem_u:c.rem_s)(e.low,e.high,t.low,t.high),c.get_high(),e.unsigned):W(e,G(X(e,t),t))},ne=H,re=function(e,t){return a(t)||(t=m(t)),p(e.low&t.low,e.high&t.high,e.unsigned)},ie=V,oe=p,ue=function(e,t,n){return n?function(e,t){return new l(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)}(e,t):function(e,t){return new l(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}(e,t)},se=w,ce=L,le=function(e,t){return t?function(e){var t=e.high,n=e.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]}(e):function(e){var t=e.high,n=e.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]}(e)},ae=F,fe=D;function de(e,t,n){let r=e,i=0;switch(n){case 0:i=r=e<<24>>24;break;case 4:r=e<<24>>>24;break;case 1:i=r=e<<16>>16;break;case 5:r=e<<16>>>16;break;case 2:i=r=e>>0;break;case 6:r=e>>>0}return p(r,i>>31,t)}function he(e,t,n,r,i){const u=o(e,t,i);if(null!=u){const t=(e,t)=>{const n=Math.max(e.length,t.length);return e.padStart(n,"0")<=t.padStart(n,"0")},r="-"===u.sign,i=function(e,t,n){switch(t){case 2:return e?"1111111111111111111111111111111111111111111111111111111111111111":n?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return e?"1777777777777777777777":n?"1000000000000000000000":"777777777777777777777";case 10:return e?"18446744073709551615":n?"9223372036854775808":"9223372036854775807";case 16:return e?"FFFFFFFFFFFFFFFF":n?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}(n||10!==u.radix,u.radix,r);if(t(u.digits.toUpperCase(),i))return v(e=r?u.sign+u.digits:u.digits,n,u.radix)}throw new Error("Input string was not in a correct format.")}function we(e,t,n,r){try{return[!0,he(e,t,n)]}catch(e){}return[!1,S]}function pe(e){return null!=e&&"function"==typeof e.Dispose}function ge(e,t,n){return e.has(t)?[!0,e.get(t)]:[!1,n]}function ve(e,t){return!t.has(e)&&(t.add(e),!0)}class me{constructor(e){this.factory=e,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function xe(e){const t=e;return"number"==typeof t.offset?t.offset:1===e.kind?0:-6e4*e.getTimezoneOffset()}function Ae(e,t){return(e=e<0&&null!=t&&10!==t?4294967295+e+1:e).toString(t)}class be{static id(e){return be.idMap.has(e)||be.idMap.set(e,++be.count),be.idMap.get(e)}}function ye(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=33*n^e.charCodeAt(t++);return n}function Se(e){return 2654435761*e|0}function Ee(e){return 0===e.length?0:e.reduce((e,t)=>(e<<5)+e^t)}function Te(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return Se(e);case"string":return ye(e);default:return Se(be.id(e))}}function Ce(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return Se(e);case"string":return ye(e);default:if("function"==typeof e.GetHashCode)return e.GetHashCode();if(Re(e)){const t=e,n=t.length,r=new Array(n);for(let e=0;e<n;e++)r[e]=Ce(t[e]);return Ee(r)}return ye(String(e))}}function Re(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Pe(e,t,n){if(null==e)return null==t;if(null==t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function Me(e,t){return Pe(e,t,Oe)}function Oe(e,t){return e===t||(null==e?null==t:null!=t&&("object"==typeof e&&("function"==typeof e.Equals?e.Equals(t):Re(e)?Re(t)&&Me(e,t):e instanceof Date&&(t instanceof Date&&0===Le(e,t)))))}function Le(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+xe(e),r=t.getTime()+xe(t)),n===r?0:n<r?-1:1}function Fe(e,t){return e===t?0:e<t?-1:1}function De(e,t,n){if(null==e)return null==t?0:1;if(null==t)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,i=0;r<e.length;r++)if(0!==(i=n(e[r],t[r])))return i;return 0}function Be(e,t){return De(e,t,ke)}function ke(e,t){return e===t?0:null==e?null==t?0:-1:null==t?1:"object"!=typeof e?e<t?-1:1:"function"==typeof e.CompareTo?e.CompareTo(t):Re(e)?Re(t)&&Be(e,t):e instanceof Date?t instanceof Date&&Le(e,t):1}function _e(e,t,n){return e(t,n)<0?t:n}function Ie(e,t,n){return e(t,n)>0?t:n}function Ne(e){let t=e;return e=>void 0===e?t:void(t=e)}be.idMap=new WeakMap,be.count=0;const ze={None:0,LowerFirst:1,SnakeCase:2,SnakeCaseAllCaps:3,KebabCase:4};function Ue(e,t){return e.replace(/[a-z]?[A-Z]/g,e=>1===e.length?e.toLowerCase():e.charAt(0)+t+e.charAt(1).toLowerCase())}function Ve(e,t){switch(t){case ze.LowerFirst:return e.charAt(0).toLowerCase()+e.slice(1);case ze.SnakeCase:return Ue(e,"_");case ze.SnakeCaseAllCaps:return Ue(e,"_").toUpperCase();case ze.KebabCase:return Ue(e,"-");case ze.None:default:return e}}function He(e){Re(e)?e.splice(0):e.clear()}const je="__CURRIED__";function We(e,t){if(null==t)return null;if(t.length>1)return t;let n;switch(e){case 2:n=(e,n)=>t(e)(n);break;case 3:n=(e,n,r)=>t(e)(n)(r);break;case 4:n=(e,n,r,i)=>t(e)(n)(r)(i);break;case 5:n=(e,n,r,i,o)=>t(e)(n)(r)(i)(o);break;case 6:n=(e,n,r,i,o,u)=>t(e)(n)(r)(i)(o)(u);break;case 7:n=(e,n,r,i,o,u,s)=>t(e)(n)(r)(i)(o)(u)(s);break;case 8:n=(e,n,r,i,o,u,s,c)=>t(e)(n)(r)(i)(o)(u)(s)(c);break;default:throw new Error("Uncurrying to more than 8-arity is not supported: "+e)}return n[je]=t,n}function Ge(e,t,n){if(null==t)return null;if(je in t){t=t[je];for(let e=0;e<n.length;e++)t=t(n[e]);return t}switch(e){case 1:return e=>t.apply(null,n.concat([e]));case 2:return e=>r=>t.apply(null,n.concat([e,r]));case 3:return e=>r=>i=>t.apply(null,n.concat([e,r,i]));case 4:return e=>r=>i=>o=>t.apply(null,n.concat([e,r,i,o]));case 5:return e=>r=>i=>o=>u=>t.apply(null,n.concat([e,r,i,o,u]));case 6:return e=>r=>i=>o=>u=>s=>t.apply(null,n.concat([e,r,i,o,u,s]));case 7:return e=>r=>i=>o=>u=>s=>c=>t.apply(null,n.concat([e,r,i,o,u,s,c]));case 8:return e=>r=>i=>o=>u=>s=>c=>l=>t.apply(null,n.concat([e,r,i,o,u,s,c,l]));default:throw new Error("Partially applying to more than 8-arity is not supported: "+e)}}function Xe(e,t){function n(e,t,r,i){const o=r[i];if(0!==o){const e=o[0],n=o[1];e>1&&(t=function(e,t){if(null==t)return null;if(je in t)return t[je];switch(e){case 2:return e=>n=>t(e,n);case 3:return e=>n=>r=>t(e,n,r);case 4:return e=>n=>r=>i=>t(e,n,r,i);case 5:return e=>n=>r=>i=>o=>t(e,n,r,i,o);case 6:return e=>n=>r=>i=>o=>u=>t(e,n,r,i,o,u);case 7:return e=>n=>r=>i=>o=>u=>s=>t(e,n,r,i,o,u,s);case 8:return e=>n=>r=>i=>o=>u=>s=>c=>t(e,n,r,i,o,u,s,c);default:throw new Error("Currying to more than 8-arity is not supported: "+e)}}(e,t)),n>1&&(t=We(n,t))}const u=e(t);return i+1===r.length?u:e=>n(u,e,r,i+1)}return r=>n(e,r,t,0)}function Ye(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}function qe(e,t){if(e.has(t))return e.get(t);throw new Error(`The given key '${t}' was not present in the dictionary.`)}const $e=/(?:Z|[+-](\d+):?([0-5]?\d)?)\s*$/;function Je(e,t){const n=new Date(e);return n.kind=0|(null==t?0:t),n}function Ze(){return Je(-621355968e5,0)}function Ke(e){let t=new Date(e);if(isNaN(t.getTime())){const n=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*([+-]\d+(?::\d+)?)?\s*$/.exec(e);if(null==n)throw new Error("The string is not a valid Date.");{let e=null,r=0;if(null!=n[2]){const e=n[2].split(":");r=3600*parseInt(e[0],10)+60*parseInt(e[1]||"0",10)+parseFloat(e[2]||"0"),null!=n[3]&&"PM"===n[3].toUpperCase()&&(r+=720)}if(null!=n[4]){if(null!=n[1])e=new Date(n[1]+" UTC");else{const t=new Date;e=new Date(t.getUTCFullYear()+"/"+(t.getUTCMonth()+1)+"/"+t.getUTCDate())}const t=n[4].substr(1).split(":");let i=60*parseInt(t[0],10)+parseInt(t[1]||"0",10);"+"===n[4][0]&&(i*=-1),r+=60*i}else if(null!=n[1])e=new Date(n[1]);else{const t=new Date;e=new Date(t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate())}t=new Date(e.getTime()+1e3*r),t=new Date(t.getTime()+6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))}}return t}function Qe(e,t=!1){const n=Ke(e),r=$e.exec(e),i=null!=r?t&&"Z"===r[0]?1:2:0;return Je(n.getTime(),i)}function et(){return Je(Date.now(),2)}function tt(e,t){const n=Je(e.getTime()+t,e.kind);if(2===e.kind){const t=e.getTimezoneOffset(),r=n.getTimezoneOffset();return t!==r?Je(n.getTime()+6e4*(r-t),e.kind):n}return n}function nt(e,t){return e.getTime()===t.getTime()}const rt=Le;function it(e,t){return n=e,"number"==typeof(r=t)?tt(n,-r):n.getTime()-r.getTime();var n,r}var ot={GetHashCode(){return Ee([this.s,this.e].concat(this.c))},Equals(e){return!this.cmp(e)},CompareTo(e){return this.cmp(e)}},ut=28,st=1,ct=1e6,lt=-29,at=29,ft="[big.js] ",dt=ft+"Invalid ",ht=dt+"decimal places",wt=dt+"rounding mode",pt=void 0,gt=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function vt(e,t){var n,r,i;if(0===t&&1/t<0)t="-0";else if(!gt.test(t+=""))throw Error(dt+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),i=t.length,r=0;r<n&&r<i&&"0"==t.charAt(r);)++r;if(r==i)e.c=[e.e=0];else for(e.e=n-r-1,e.c=[],n=0;r<i;)e.c[n++]=+t.charAt(r++);return e=mt(e,At.DP,At.RM)}function mt(e,t,n,r){var i=e.c,o=e.e+t+1;if(o<i.length){if(1===n)r=i[o]>=5;else if(2===n)r=i[o]>5||5==i[o]&&(r||o<0||i[o+1]!==pt||1&i[o-1]);else if(3===n)r=r||!!i[0];else if(r=!1,0!==n)throw Error(wt);if(o<1)i.length=1,r?(e.e=-t,i[0]=1):i[0]=e.e=0;else{if(i.length=o--,r)for(;++i[o]>9;)i[o]=0,o--||(++e.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(n<0||n>3||n!==~~n)throw Error(wt);return e}function xt(e,t,n,r){var i,o,u=e.constructor,s=!e.c[0];if(n!==pt){if(n!==~~n||n<(3==t)||n>ct)throw Error(3==t?dt+"precision":ht);for(n=r-(e=new u(e)).e,e.c.length>++r&&mt(e,n,u.RM),2==t&&(r=e.e+n+1);e.c.length<r;)e.c.push(0)}if(i=e.e,n=(o=e.c.join("")).length,2!=t&&(1==t||3==t&&r<=i||i<=u.NE||i>=u.PE))o=o.charAt(0)+(n>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>n)for(i-=n;i--;)o+="0";else i<n&&(o=o.slice(0,i)+"."+o.slice(i));else n>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&(!s||4==t)?"-"+o:o}ot.abs=function(){var e=new this.constructor(this);return e.s=1,e},ot.cmp=function(e){var t,n=this.constructor,r=new n(this),i=(e=new n(e),r.c),o=e.c,u=r.s,s=e.s,c=r.e,l=e.e;if(!i[0]||!o[0])return i[0]?u:o[0]?-s:0;if(u!=s)return u;if(t=u<0,c!=l)return c>l^t?1:-1;for(s=Math.max(i.length,o.length),u=0;u<s;u++)if((c=u<i.length?i[u]:0)!=(l=u<o.length?o[u]:0))return c>l^t?1:-1;return 0},ot.div=function(e){var t=this.constructor,n=new t(this),r=(e=new t(e),n.c),i=e.c,o=n.s==e.s?1:-1,u=t.DP;if(u!==~~u||u<0||u>ct)throw Error(ht);if(!i[0])throw Error("[big.js] Division by zero");if(!r[0])return new t(0*o);var s,c,l,a,f,d=i.slice(),h=s=i.length,w=r.length,p=r.slice(0,s),g=p.length,v=e,m=v.c=[],x=0,A=u+(v.e=n.e-e.e)+1;for(v.s=o,o=A<0?0:A,d.unshift(0);g++<s;)p.push(0);do{for(l=0;l<10;l++){if(s!=(g=p.length))a=s>g?1:-1;else for(f=-1,a=0;++f<s;)if(i[f]!=p[f]){a=i[f]>p[f]?1:-1;break}if(!(a<0))break;for(c=g==s?i:d;g;){if(p[--g]<c[g]){for(f=g;f&&!p[--f];)p[f]=9;--p[f],p[g]+=10}p[g]-=c[g]}for(;!p[0];)p.shift()}m[x++]=a?l:++l,p[0]&&a?p[g]=r[h]||0:p=[r[h]]}while((h++<w||p[0]!==pt)&&o--);return m[0]||1==x||(m.shift(),v.e--),x>A&&mt(v,u,t.RM,p[0]!==pt),v},ot.eq=function(e){return!this.cmp(e)},ot.gt=function(e){return this.cmp(e)>0},ot.gte=function(e){return this.cmp(e)>-1},ot.lt=function(e){return this.cmp(e)<0},ot.lte=function(e){return this.cmp(e)<1},ot.minus=ot.sub=function(e){var t,n,r,i,o=this.constructor,u=new o(this),s=(e=new o(e),u.s),c=e.s;if(s!=c)return e.s=-c,u.plus(e);var l=u.c.slice(),a=u.e,f=e.c,d=e.e;if(!l[0]||!f[0])return f[0]?(e.s=-c,e):new o(l[0]?u:0);if(s=a-d){for((i=s<0)?(s=-s,r=l):(d=a,r=f),r.reverse(),c=s;c--;)r.push(0);r.reverse()}else for(n=((i=l.length<f.length)?l:f).length,s=c=0;c<n;c++)if(l[c]!=f[c]){i=l[c]<f[c];break}if(i&&(r=l,l=f,f=r,e.s=-e.s),(c=(n=f.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;n>s;){if(l[--n]<f[n]){for(t=n;t&&!l[--t];)l[t]=9;--l[t],l[n]+=10}l[n]-=f[n]}for(;0===l[--c];)l.pop();for(;0===l[0];)l.shift(),--d;return l[0]||(e.s=1,l=[d=0]),e.c=l,e.e=d,e},ot.mod=function(e){var t,n=this.constructor,r=new n(this),i=(e=new n(e),r.s),o=e.s;if(!e.c[0])throw Error("[big.js] Division by zero");return r.s=e.s=1,t=1==e.cmp(r),r.s=i,e.s=o,t?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=i,n.RM=o,this.minus(r.times(e)))},ot.plus=ot.add=function(e){var t,n=this.constructor,r=new n(this),i=(e=new n(e),r.s),o=e.s;if(i!=o)return e.s=-o,r.minus(e);var u=r.e,s=r.c,c=e.e,l=e.c;if(!s[0]||!l[0])return l[0]?e:new n(s[0]?r:0*i);if(s=s.slice(),i=u-c){for(i>0?(c=u,t=l):(i=-i,t=s),t.reverse();i--;)t.push(0);t.reverse()}for(s.length-l.length<0&&(t=l,l=s,s=t),i=l.length,o=0;i;s[i]%=10)o=(s[--i]=s[i]+l[i]+o)/10|0;for(o&&(s.unshift(o),++c),i=s.length;0===s[--i];)s.pop();return e.c=s,e.e=c,e},ot.pow=function(e){var t=this.constructor,n=new t(this),r=new t(1),i=new t(1),o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(dt+"exponent");for(o&&(e=-e);1&e&&(r=r.times(n)),e>>=1;)n=n.times(n);return o?i.div(r):r},ot.round=function(e,t){var n=this.constructor;if(e===pt)e=0;else if(e!==~~e||e<-ct||e>ct)throw Error(ht);return mt(new n(this),e,t===pt?n.RM:t)},ot.sqrt=function(){var e,t,n,r=this.constructor,i=new r(this),o=i.s,u=i.e,s=new r(.5);if(!i.c[0])return new r(i);if(o<0)throw Error(ft+"No square root");0===(o=Math.sqrt(i+""))||o===1/0?((t=i.c.join("")).length+u&1||(t+="0"),u=((u+1)/2|0)-(u<0||1&u),e=new r(((o=Math.sqrt(t))==1/0?"1e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+u)):e=new r(o),u=e.e+(r.DP+=4);do{n=e,e=s.times(n.plus(i.div(n)))}while(n.c.slice(0,u).join("")!==e.c.slice(0,u).join(""));return mt(e,r.DP-=4,r.RM)},ot.times=ot.mul=function(e){var t,n=this.constructor,r=new n(this),i=(e=new n(e),r.c),o=e.c,u=i.length,s=o.length,c=r.e,l=e.e;if(e.s=r.s==e.s?1:-1,!i[0]||!o[0])return new n(0*e.s);for(e.e=c+l,u<s&&(t=i,i=o,o=t,l=u,u=s,s=l),t=new Array(l=u+s);l--;)t[l]=0;for(c=s;c--;){for(s=0,l=u+c;l>c;)s=t[l]+o[c]*i[l-c-1]+s,t[l--]=s%10,s=s/10|0;t[l]=(t[l]+s)%10}for(s?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},ot.toExponential=function(e){return xt(this,1,e,e)},ot.toFixed=function(e){return xt(this,2,e,this.e+e)},ot.toPrecision=function(e){return xt(this,3,e,e-1)},ot.toString=function(){return xt(this)},ot.valueOf=ot.toJSON=function(){return xt(this,4)};var At=function e(){function t(n){var r=this;if(!(r instanceof t))return n===pt?e():new t(n);n instanceof t?(r.s=n.s,r.e=n.e,r.c=n.c.slice(),function(e){if((e=mt(e,ut,0)).c.length>1&&!e.c[0]){let t=e.c.findIndex(e=>e);e.c=e.c.slice(t),e.e=e.e-t}}(r)):vt(r,n),r.constructor=t}return t.prototype=ot,t.DP=ut,t.RM=st,t.NE=lt,t.PE=at,t.version="5.2.2",t}(),bt=At,yt=bt;const St=new bt(0);new bt(1),new bt(-1),new bt("79228162514264337593543950335"),new bt("-79228162514264337593543950335");function Et(e){try{return[!0,new bt(e.trim())]}catch(e){return[!1,St]}}function Tt(e,t){if(0!=(-276&t))throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Singleline and ECMAScript");let n="g";return n+=1&t?"i":"",n+=2&t?"m":"",n+=16&t?"s":"",new RegExp(e,n)}function Ct(e){return e.replace(/[\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function Rt(e,t,n=0){let r;if(!(r=e instanceof RegExp?(r=e,e=t,r.lastIndex=n,r):r=Tt(t,n)).global)throw new Error("Non-global RegExp");let i=r.exec(e);const o=[];for(;null!==i;)o.push(i),i=r.exec(e);return o}const Pt=/(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w)/,Mt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ot(e){return"number"==typeof e||e instanceof Z||e instanceof yt}function Lt(e,t){return e instanceof Z?ie(e,t)<0:e instanceof yt?e.cmp(t)<0:e<t}function Ft(e,t){return e instanceof Z?Q(e,t):e instanceof yt?e.mul(t):e*t}function Dt(e,t){return e instanceof Z?String(e)+(0).toFixed(t).substr(1):e.toFixed(t)}function Bt(e,t){return e instanceof Z?String(e)+(0).toPrecision(t).substr(1):e.toPrecision(t)}function kt(e,t){return e instanceof Z?String(e)+(0).toExponential(t).substr(1):e.toExponential(t)}function _t(e){return e instanceof Z?fe(e.unsigned?e:ue(le(e),!0),16):(Number(e)>>>0).toString(16)}function It(e){return{input:e,cont:(t=e,e=>Pt.test(t)?function e(t,n){return(...r)=>{let i=t;for(const e of r)i=Vt(i,e);return Pt.test(i)?e(i,n):n(i.replace(/%%/g,"%"))}}(t,e):e(t))};var t}function Nt(e){return e.cont(e=>{console.log(e)})}function zt(e){return e.cont(e=>e)}function Ut(e){return e.cont(e=>{throw new Error(e)})}function Vt(e,t){return e.replace(Pt,(e,n,r,i,o,u)=>{let s="";if(Ot(t))switch("x"!==u.toLowerCase()&&(Lt(t,0)?(t=Ft(t,-1),s="-"):r.indexOf(" ")>=0?s=" ":r.indexOf("+")>=0&&(s="+")),o=null==o?null:parseInt(o,10),u){case"f":case"F":t=Dt(t,o=null!=o?o:6);break;case"g":case"G":t=null!=o?Bt(t,o):Bt(t);break;case"e":case"E":t=null!=o?kt(t,o):kt(t);break;case"x":t=_t(t);break;case"X":t=_t(t).toUpperCase();break;default:t=String(t)}if(i=parseInt(i,10),isNaN(i))t=s+t;else{const e=r.indexOf("0")>=0,n=r.indexOf("-")>=0,o=n||!e?" ":"0";t="0"===o?s+(t=Gt(t,i-s.length,o,n)):Gt(s+t,i,o,n)}return(n+t).replace(/%/g,"%%")})}function Ht(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function jt(e,t){const n=function(e,...t){if(0===t.length)return e.trim();const n="["+Ct(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}(e,"{","}").toLowerCase();if(Mt.test(n))return t?[!0,n]:n;if(t)return[!1,"00000000-0000-0000-0000-000000000000"];throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function Wt(){let e="";for(let t=0;t++<36;)e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-";return e}function Gt(e,t,n,r){n=n||" ",t-=e.length;for(let i=0;i<t;i++)e=r?e+n:n+e;return e}function Xt(e,t,n,r){if(r="number"==typeof r?r:null,(n="number"==typeof n?n:null)<0)throw new Error("Count cannot be less than zero");if(0===n)return[];if(!Array.isArray(t)){if(0===r)return e.split(t,n);const i=arguments.length;t=Array(i-1);for(let e=1;e<i;e++)t[e-1]=arguments[e]}t=(t=t.map(e=>Ct(e))).length>0?t:[" "];let i=0;const o=[],u=new RegExp(t.join("|"),"g");for(;null==n||n>1;){const t=u.exec(e);if(null===t)break;(!r||t.index-i>0)&&(n=null!=n?n-1:n,o.push(e.substring(i,t.index))),i=u.lastIndex}return(!r||e.length-i>0)&&o.push(e.substring(i)),o}function Yt(e,t){return null!=t&&Object.getPrototypeOf(e).constructor===Object.getPrototypeOf(t).constructor}function qt(e,t){return function(e,t){e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}(e,t||$t),e}function $t(){}function Jt(e,t){if(e===t)return 0;if(null==t)return-1;for(;null!=e.tail;){if(null==t.tail)return 1;const n=ke(e.head,t.head);if(0!==n)return n;e=e.tail,t=t.tail}return null==t.tail?0:-1}function Zt(e,t){this.head=e,this.tail=t}function Kt(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}function Qt(e,t){const n={},r=null==t?Object.keys(e):t(e);for(let t=0;t<r.length;t++)n[r[t]]=e[r[t]];return n}function en(e,t,n){if(e===t)return!0;if(Yt(e,t)){const r=null==n?Object.keys(e):n(e);for(let n=0;n<r.length;n++)if(!Oe(e[r[n]],t[r[n]]))return!1;return!0}return!1}function tn(e,t,n){if(e===t)return 0;if(Yt(e,t)){const r=null==n?Object.keys(e):n(e);for(let n=0;n<r.length;n++){const i=ke(e[r[n]],t[r[n]]);if(0!==i)return i}return 0}return-1}function nn(){}function rn(e){return Object.assign(Object.create(nn.prototype),e)}$t.prototype.toString=function(){return"{"+Object.keys(this).map(e=>e+" = "+String(this[e])).join(";\n ")+"}"},$t.prototype.GetHashCode=function(){return Te(this)},$t.prototype.Equals=function(e){return this===e},Zt.prototype.toString=function(){return"["+Array.from(this).map(e=>String(e)).join("; ")+"]"},Zt.prototype.toJSON=function(){return Array.from(this)},Zt.prototype[Symbol.iterator]=function(){let e=this;return{next:()=>{const t=e;return e=e.tail,{done:null==t.tail,value:t.head}}}},Zt.prototype.GetHashCode=function(){return Ee(Array.from(this).map(Ce))},Zt.prototype.Equals=function(e){return 0===Jt(this,e)},Zt.prototype.CompareTo=function(e){return Jt(this,e)},Kt.prototype.toString=function(){const e=this.fields.length;return 0===e?this.name:1===e?this.name+" "+String(this.fields[0]):this.name+" ("+this.fields.map(e=>String(e)).join(",")+")"},Kt.prototype.toJSON=function(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)},Kt.prototype.GetHashCode=function(){const e=this.fields.map(e=>Ce(e));return e.splice(0,0,Se(this.tag)),Ee(e)},Kt.prototype.Equals=function(e){return this===e||Yt(this,e)&&this.tag===e.tag&&Me(this.fields,e.fields)},Kt.prototype.CompareTo=function(e){return this===e?0:Yt(this,e)?this.tag===e.tag?Be(this.fields,e.fields):this.tag<e.tag?-1:1:-1},nn.prototype.toString=function(){return"{"+Object.keys(this).map(e=>e+" = "+String(this[e])).join(";\n ")+"}"},nn.prototype.toJSON=function(){return Qt(this)},nn.prototype.GetHashCode=function(){return Ee(Object.keys(this).map(e=>Ce(this[e])))},nn.prototype.Equals=function(e){return en(this,e)},nn.prototype.CompareTo=function(e){return tn(this,e)};const on=qt((function(e){this.contents=e}),nn),un=qt((function(e){this.stack=Error().stack,this.message=e}));function sn(e){return Object.keys(e).filter(e=>"message"!==e&&"stack"!==e)}const cn=qt((function(){un.call(this)}),un);cn.prototype.toString=function(){const e=sn(this),t=e.length;return 0===t?this.message:1===t?this.message+" "+String(this[e[0]]):this.message+" ("+e.map(e=>String(this[e])).join(",")+")"},cn.prototype.toJSON=function(){return Qt(this,sn)},cn.prototype.GetHashCode=function(){return Ee(sn(this).map(e=>Ce(this[e])))},cn.prototype.Equals=function(e){return en(this,e,sn)},cn.prototype.CompareTo=function(e){return tn(this,e,sn)};qt((function(e,t,n){this.arg1=e,this.arg2=0|t,this.arg3=0|n,this.message="The match cases were incomplete"}),cn),qt((function(){}));class ln{constructor(e,t,n,r){this.declaringType=e,this.tag=t,this.name=n,this.fields=r}}class an{constructor(e,t,n,r,i,o){this.fullname=e,this.generics=t,this.constructor=n,this.fields=r,this.cases=i,this.enumCases=o}toString(){return En(this)}Equals(e){return dn(this,e)}CompareTo(e){return hn(this,e)}}function fn(e){return null!=e.generics?e.generics:[]}function dn(e,t){return""===e.fullname?""===t.fullname&&Pe(kn(e),kn(t),([e,t],[n,r])=>e===n&&dn(t,r)):e.fullname===t.fullname&&Pe(fn(e),fn(t),dn)}function hn(e,t){return e.fullname!==t.fullname?e.fullname<t.fullname?-1:1:De(fn(e),fn(t),hn)}function wn(e,t){return new an(e,t)}function pn(e,t,n,r){return new an(e,t,n,r)}function gn(e,t,n,r){const i=new an(e,t,n,null,()=>r().map((e,t)=>"string"==typeof e?new ln(i,t,e):new ln(i,t,e[0],e[1])));return i}function vn(e){return new an("Microsoft.FSharp.Core.FSharpOption`1",[e])}function mn(e){return new an("Microsoft.FSharp.Collections.FSharpList`1",[e])}function xn(e){return new an(e.fullname+"[]",[e])}const An=new an("System.Object"),bn=(new an("Microsoft.FSharp.Core.Unit"),new an("System.Char"),new an("System.String")),yn=(new an("System.Boolean"),new an("System.SByte"),new an("System.Byte"),new an("System.Int16"),new an("System.UInt16"),new an("System.Int32"));new an("System.UInt32"),new an("System.Single"),new an("System.Double"),new an("System.Decimal");function Sn(e){if(Array.isArray(e))return e[0];if(e instanceof ln)return e.name;{const t=e.fullname.lastIndexOf(".");return-1===t?e.fullname:e.fullname.substr(t+1)}}function En(e){const t=null==e.generics||Tn(e)?[]:e.generics;return t.length>0?e.fullname+"["+t.map(e=>En(e)).join(",")+"]":e.fullname}function Tn(e){return e.fullname.endsWith("[]")}function Cn(e){return Tn(e)?e.generics[0]:null}function Rn(e){return null!=e.generics&&e.generics.length>0}function Pn(e){return null!=e.enumCases&&e.enumCases.length>0}function Mn(e){return null==e.generics?e:new an(e.fullname,e.generics.map(()=>An))}function On(e){return e.generics[0]}function Ln(e){if(Pn(e))return e.enumCases.map(e=>e[1]);throw new Error(`${e.fullname} is not an enum type`)}function Fn(e,t){if(null!=e.enumCases){if("string"==typeof t){for(const n of e.enumCases)if(n[0]===t)return n;throw new Error(`'${t}' was not found in ${e.fullname}`)}for(const n of e.enumCases)if(n[1]===t)return n;return[null,t]}throw new Error(`${e.fullname} is not an enum type`)}function Dn(e,t){const n=parseInt(t,10);return Fn(e,isNaN(n)?t:n)[1]}function Bn(e){if(null!=e.cases)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}function kn(e){if(null!=e.fields)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function _n(e){if(zn(e))return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}function In(e){return e instanceof an?null!=e.cases:e instanceof Kt}function Nn(e){return e instanceof an?null!=e.fields:e instanceof nn}function zn(e){return e.fullname.startsWith("System.Tuple")}function Un(e){return null==e.fields?[]:e.fields.map((e,t)=>["Data"+t,e])}function Vn(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);return new e.declaringType.constructor(e.tag,e.name,...t)}class Hn{constructor(e){this.value=e}toString(){return String(this.value)}toJSON(){return this.value}GetHashCode(){return Ce(this.value)}Equals(e){return null!=e&&Oe(this.value,e instanceof Hn?e.value:e)}CompareTo(e){return null==e?1:ke(this.value,e instanceof Hn?e.value:e)}}function jn(e){return null==(e=void 0===e?null:e)||e instanceof Hn?new Hn(e):e}function Wn(e,t){if(null==e){if(!t)throw new Error("Option has no value");return null}return e instanceof Hn?e.value:e}function Gn(e,t,n){return null==e?t:null!=n?n(Wn(e)):Wn(e)}function Xn(e,t){return null==e?t():Wn(e)}function Yn(e,t){return null==t?t:jn(e(Wn(t)))}const qn=qt((function(e,t,n){Kt.call(this,e,t,n)}),Kt);const $n=qt((function(e,t,n){Kt.call(this,e,t,n)}),Kt);function Jn(e,t){return 0===t.tag?(n=e(t.fields[0]),new $n(0,"Ok",n)):t;var n}class Zn{constructor(e){this.iter=e}MoveNext(){const e=this.iter.next();return this.current=e.value,!e.done}get Current(){return this.current}Reset(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function Kn(e){return new Zn(e[Symbol.iterator]())}function Qn(e){return{next:()=>e.MoveNext()?{done:!1,value:e.Current}:{done:!0,value:null}}}function er(e){return ir(()=>br(t=>t<e.length?[e[t],t+1]:null,0))}function tr(e,t){return ir(()=>{let n=!1;let r=[e[Symbol.iterator](),null];return br(()=>{let e;if(!n){if(!(e=r[0].next()).done)return[e.value,r];n=!0,r=[null,t[Symbol.iterator]()]}return(e=r[1].next()).done?null:[e.value,r]},r)})}function nr(e){return ir(()=>{const t=e[Symbol.iterator]();let n={value:null};return br(e=>{let r=!1;for(;!r;)if(null==e){const n=t.next();n.done?r=!0:e=n.value[Symbol.iterator]()}else{const t=e.next();t.done?e=null:(n={value:t.value},r=!0)}return null!=e&&null!=n?[n.value,e]:null},null)})}function rr(e,t){return nr(hr(e,t))}function ir(e){return{[Symbol.iterator]:()=>e()[Symbol.iterator]()}}function or(){return br(()=>void 0)}function ur(e,t){let n;for(const r=t[Symbol.iterator]();!(n=r.next()).done;)if(e(n.value))return!0;return!1}function sr(e,t){return ur(t=>Oe(t,e),t)}function cr(e,t){return ir(()=>br(t=>{let n=t.next();for(;!n.done;){if(e(n.value))return[n.value,t];n=t.next()}return null},t[Symbol.iterator]()))}function lr(e,t,n){if(Array.isArray(n)||ArrayBuffer.isView(n))return n.reduce(e,t);{let r;for(let i=0,o=n[Symbol.iterator]();!(r=o.next()).done;i++)t=e(t,r.value,i);return t}}function ar(e){const t=e[Symbol.iterator]().next();return t.done?null:jn(t.value)}function fr(e,t){lr((t,n)=>e(n),null,t)}function dr(e,t){lr((t,n,r)=>e(r,n),null,t)}function hr(e,t){return ir(()=>br(t=>{const n=t.next();return n.done?null:[e(n.value),t]},t[Symbol.iterator]()))}function wr(e,t){return ir(()=>{let n=0;return br(t=>{const r=t.next();return r.done?null:[e(n++,r.value),t]},t[Symbol.iterator]())})}function pr(e,t,n){const r=null!=n?n.Compare:ke;return vr((t,n)=>-1===r(e(t),e(n))?t:n,t)}function gr(e,t,n){if(0===t)throw new Error("Step cannot be 0");return ir(()=>br(e=>t>0&&e<=n||t<0&&e>=n?[e,e+t]:null,e))}function vr(e,t){if(Array.isArray(t)||ArrayBuffer.isView(t))return t.reduce(e);const n=t[Symbol.iterator]();let r=n.next();if(r.done)throw new Error("Seq was empty");let i=r.value;for(;!(r=n.next()).done;)i=e(i,r.value);return i}function mr(e){return er((Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):Array.from(e)).reverse())}function xr(e){return[e]}function Ar(e,t,n){return lr((t,r)=>n.Add(t,e(r)),n.GetZero(),t)}function br(e,t){return{[Symbol.iterator]:()=>{let n=t;return{next:()=>{const t=e(n);return null!=t?(n=t[1],{done:!1,value:t[0]}):{done:!0}}}}}}const yr=qt((function(){}));qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);function Sr(e,t){return fetch(e,function(e,t=ze.None){function n(e){throw new Error("Cannot infer key and value of "+String(e))}const r={},i=t;for(let t of e){let e=ze.None;if(null==t&&n(t),"function"==typeof t.toJSON&&(t=t.toJSON(),e=i),Array.isArray(t))switch(t.length){case 0:n(t);break;case 1:r[Ve(t[0],e)]=!0;break;case 2:const i=t[1];r[Ve(t[0],e)]=i;break;default:r[Ve(t[0],e)]=t.slice(1)}else"string"==typeof t?r[Ve(t,e)]=!0:n(t)}return r}(t,1)).then((function(e){if(e.ok)return e;{const n=Ae((t=e).status)+" "+t.statusText+" for URL "+t.url;throw new Error(n)}var t}))}const Er=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Tr=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Cr=qt((function(e,t){this.Hash=e,this.Coders=t}),nn);const Rr=qt((function(){this.cache=new Map([])}));function Pr(){return this instanceof Rr?Rr.call(this):new Rr}function Mr(e,t,n){const r=ge(e.cache,t,null);if(r[0])return r[1];{const r=n();return Ye(e.cache,t,r),r}}Pr();const Or=Pr();function Lr(e){return e.slice(null,1).toLowerCase()+e.slice(1,e.length)}function Fr(e,t){switch(e.tag){case 2:return function(e,t,n,r,i=0){if("string"==typeof e){const n=e;e=Tt(t,r),t=n,r=void 0}if("function"==typeof n)return r=null==r?-1:r,t.substring(0,i)+t.substring(i).replace(e,(function(){let e=arguments[0];if(0!==r){r--;const t=[],i=arguments.length;for(let e=0;e<i-2;e++)t.push(arguments[e]);t.index=arguments[i-2],t.input=arguments[i-1],e=n(t)}return e}));if(n=n.replace(/\$0/g,e=>"$&"),null!=r){let o;const u=t.substring(i),s=Rt(e,u),c=Rt.length>r?(o=s[r-1],u.substring(0,o.index+o[0].length)):u;return t.substring(0,i)+c.replace(e,n)+t.substring(i+c.length)}return t.replace(e,n)}(Lr(t),"[A-Z]","_$0").toLowerCase();case 0:return t;default:return Lr(t)}}const Dr=qt((function(e,t){const n=new on(null);this.comparer=t,n.contents=this,this["entries@23"]=new Map([]),this["init@20-1"]=1,fr((function(e){Nr(n.contents,e[0],e[1])}),e)}));function Br(e,t){const n=0|e.comparer.GetHashCode(t),r=ge(e["entries@23"],n,null);return r[0]?[!0,n,r[1].findIndex((function(n){return e.comparer.Equals(t,n[0])}))]:[!1,n,-1]}function kr(e,t){const n=Br(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return qe(e["entries@23"],n[1])[n[2]];case 1:return null}}function _r(e){e["entries@23"].clear()}function Ir(e){return 0|Ar((function(e){return e.length}),e["entries@23"].values(),{GetZero:()=>0,Add:(e,t)=>e+t})}function Nr(e,t,n){const r=Br(e,t);switch(r[0]&&r[2]>-1?0:1){case 0:{let e;throw e=zt(It("An item with the same key has already been added. Key: %A"))(t),new Error(e)}case 1:if(r[0]){qe(e["entries@23"],r[1]).push([t,n])}else e["entries@23"].set(r[1],[[t,n]])}}function zr(e,t){const n=Br(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return qe(e["entries@23"],n[1]).splice(n[2],1),!0;case 1:return!1}}Dr.prototype[Symbol.iterator]=function(){const e=this;return Qn(Kn(ir((function(){return rr((function(e){return hr((function(e){return e}),e)}),e["entries@23"].values())}))))},Dr.prototype.Add=function(e){Nr(this,e[0],e[1])},Dr.prototype.Clear=function(){_r(this)},Dr.prototype.Contains=function(e){const t=kr(this,e[0]);switch(null!=t&&Oe(t[1],e[1])?0:1){case 0:return!0;case 1:return!1}},Dr.prototype.CopyTo=function(e,t){dr((function(n,r){e[t+n]=r}),this)},Object.defineProperty(Dr.prototype,"Count",{get:function(){return 0|Ir(this)}}),Object.defineProperty(Dr.prototype,"IsReadOnly",{get:function(){return!1}}),Dr.prototype.Remove=function(e){const t=this,n=kr(t,e[0]);if(null!=n){if(Oe(n[1],e[1])){zr(t,e[0])}return!0}return!1},Object.defineProperty(Dr.prototype,"size",{get:function(){return 0|Ir(this)}}),Dr.prototype.clear=function(){_r(this)},Dr.prototype.delete=function(e){return zr(this,e)},Dr.prototype.entries=function(){return hr((function(e){return e}),this)},Dr.prototype.get=function(e){return function(e,t){const n=kr(e,t);if(null!=n){return n[1]}throw new Error("The item was not found in collection")}(this,e)},Dr.prototype.has=function(e){return function(e,t){const n=Br(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return!0;case 1:return!1}}(this,e)},Dr.prototype.keys=function(){return hr((function(e){return e[0]}),this)},Dr.prototype.set=function(e,t){return function(e,t,n){const r=Br(e,t);switch(r[0]&&r[2]>-1?0:1){case 0:qe(e["entries@23"],r[1])[r[2]]=[t,n];break;case 1:if(r[0]){qe(e["entries@23"],r[1]).push([t,n])}else e["entries@23"].set(r[1],[[t,n]])}}(this,e,t),this},Dr.prototype.values=function(){return hr((function(e){return e[1]}),this)};const Ur=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);function Vr(e){return function e(t,n){e:for(;;){const r=t,i=n;switch(i.tag){case 1:return r+1|0;case 2:t=e(r+1,i.fields[2]),n=i.fields[3];continue e;default:return 0|r}break}}(0,e)}function Hr(){return new Ur(0,"MapEmpty")}function jr(e){switch(e.tag){case 1:return 1;case 2:return 0|e.fields[4];default:return 0}}function Wr(e,t,n,r){switch(0===e.tag&&0===r.tag?0:1){case 0:return new Ur(1,"MapOne",t,n);case 1:{const i=0|jr(e),o=0|jr(r);return new Ur(2,"MapNode",t,n,e,r,(0|(i<o?o:i))+1)}}}function Gr(e,t,n,r){const i=0|jr(e),o=0|jr(r);if(o>i+2){if(2===r.tag){if(jr(r.fields[2])>i+1){if(2===r.fields[2].tag)return Wr(Wr(e,t,n,r.fields[2].fields[2]),r.fields[2].fields[0],r.fields[2].fields[1],Wr(r.fields[2].fields[3],r.fields[0],r.fields[1],r.fields[3]));throw new Error("rebalance")}return Wr(Wr(e,t,n,r.fields[2]),r.fields[0],r.fields[1],r.fields[3])}throw new Error("rebalance")}if(i>o+2){if(2===e.tag){if(jr(e.fields[3])>o+1){if(2===e.fields[3].tag)return Wr(Wr(e.fields[2],e.fields[0],e.fields[1],e.fields[3].fields[2]),e.fields[3].fields[0],e.fields[3].fields[1],Wr(e.fields[3].fields[3],t,n,r));throw new Error("re  balance")}return Wr(e.fields[2],e.fields[0],e.fields[1],Wr(e.fields[3],t,n,r))}throw new Error("rebalance")}return Wr(e,t,n,r)}function Xr(e,t,n,r){switch(r.tag){case 1:{const i=0|e.Compare(t,r.fields[0]);return i<0?new Ur(2,"MapNode",t,n,new Ur(0,"MapEmpty"),r,2):0===i?new Ur(1,"MapOne",t,n):new Ur(2,"MapNode",t,n,r,new Ur(0,"MapEmpty"),2)}case 2:{const i=0|e.Compare(t,r.fields[0]);return i<0?Gr(Xr(e,t,n,r.fields[2]),r.fields[0],r.fields[1],r.fields[3]):0===i?new Ur(2,"MapNode",t,n,r.fields[2],r.fields[3],r.fields[4]):Gr(r.fields[2],r.fields[0],r.fields[1],Xr(e,t,n,r.fields[3]))}default:return new Ur(1,"MapOne",t,n)}}function Yr(e,t,n){e:for(;;){const r=e,i=t,o=n;switch(o.tag){case 1:if(0===(0|r.Compare(i,o.fields[0])))return o.fields[1];throw new Error("key not found");case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){e=r,t=i,n=o.fields[2];continue e}if(0===u)return o.fields[1];e=r,t=i,n=o.fields[3];continue e}default:throw new Error("key not found")}break}}function qr(e,t,n){e:for(;;){const r=e,i=t,o=n;switch(o.tag){case 1:return 0===(0|r.Compare(i,o.fields[0]))?jn(o.fields[1]):null;case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){e=r,t=i,n=o.fields[2];continue e}if(0===u)return jn(o.fields[1]);e=r,t=i,n=o.fields[3];continue e}default:return null}break}}function $r(e,t,n){e:for(;;){const r=e,i=t,o=n;switch(o.tag){case 1:return 0===r.Compare(i,o.fields[0]);case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){e=r,t=i,n=o.fields[2];continue e}if(0===u)return!0;e=r,t=i,n=o.fields[3];continue e}default:return!1}break}}function Jr(e,t){e:for(;;){const n=e,r=t;switch(r.tag){case 1:n(r.fields[0],r.fields[1]);break;case 2:Jr(n,r.fields[2]),n(r.fields[0],r.fields[1]),e=n,t=r.fields[3];continue e}break}}function Zr(e,t){const n=Kn(t);try{return function(e,t,n){for(;;){const r=e,i=t,o=n;if(!o.MoveNext())return i;{const u=o.Current;e=r,t=Xr(r,u[0],u[1],i),n=o}}}(e,Hr(),n)}finally{pe(n)&&n.Dispose()}}const Kr=qt((function(e,t){this.stack=e,this.started=t}),nn);function Qr(e){for(;;){const t=e;if(null==t.tail)return new Zt;if(1===t.head.tag)return t;2!==t.head.tag?e=t.tail:e=new Zt(t.head.fields[2],new Zt(new Ur(1,"MapOne",t.head.fields[0],t.head.fields[1]),new Zt(t.head.fields[3],t.tail)))}}function ei(e){return new Kr(Qr(new Zt(e,new Zt)),!1)}function ti(e){if(e.started){const t=e.stack;if(null==t.tail)return function(){throw new Error("enumeration already finished")}();if(1===t.head.tag)return[t.head.fields[0],t.head.fields[1]];throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration not started")}()}const ni=qt((function(e){this.s=e,this.i=ei(this.s)}));function ri(e){return function(e){return this instanceof ni?ni.call(this,e):new ni(e)}(e)}function ii(e){return br((function(e){return e.MoveNext()?[e.Current,e]:null}),ri(e))}Object.defineProperty(ni.prototype,"Current",{get:function(){return ti(this.i)}}),ni.prototype.MoveNext=function(){return function(e){if(e.started){const t=e.stack;if(null==t.tail)return!1;if(1===t.head.tag)return e.stack=Qr(t.tail),!(null==e.stack.tail);throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return e.started=!0,!(null==e.stack.tail)}(this.i)},ni.prototype.Reset=function(){this.i=ei(this.s)},ni.prototype.Dispose=function(){};const oi=qt((function(e,t){this.comparer=e,this.tree=t}));function ui(e,t){return this instanceof oi?oi.call(this,e,t):new oi(e,t)}function si(e){return e.tree}function ci(e,t){return Yr(e.comparer,t,e.tree)}function li(e,t){return ui(e.comparer,function e(t,n){switch(n.tag){case 1:return new Ur(1,"MapOne",n.fields[0],t(n.fields[0],n.fields[1]));case 2:{const r=e(t,n.fields[2]),i=t(n.fields[0],n.fields[1]),o=e(t,n.fields[3]);return new Ur(2,"MapNode",n.fields[0],i,r,o,n.fields[4])}default:return Hr()}}(t,e.tree))}function ai(e){return Vr(e.tree)}function fi(e,t){return $r(e.comparer,t,e.tree)}function di(e,t,n){return i=e,o=t,ui((r=n).comparer,Xr(r.comparer,i,o,r.tree));var r,i,o}function hi(e,t){return ci(t,e)}function wi(e,t){return r=e,qr((n=t).comparer,r,n.tree);var n,r}function pi(e,t){Jr(e,t.tree)}function gi(e,t){return li(t,e)}function vi(e,t){return ui(t,(n=t,r=e,lr((function(e,t){return Xr(n,t[0],t[1],e)}),Hr(),r)));var n,r}function mi(e,t){return ui(t,function(e,t){let n=Hr();for(let r=0;r<=t.length-1;r++){const i=t[r];n=Xr(e,i[0],i[1],n)}return n}(t,e))}function xi(e){return ui(e,new Ur(0,"MapEmpty"))}function Ai(e,t){return function(e,t){return this instanceof Dr?Dr.call(this,e,t):new Dr(e,t)}(e,t)}oi.prototype.toString=function(){return"map ["+Ht("; ",hr((function(e){return zt(It("(%A, %A)"))(e[0])(e[1])}),this))+"]"},oi.prototype.GetHashCode=function(){const e=function(e,t){return(e<<1)+t+631};let t=0;const n=ri(si(this));for(;n.MoveNext();){const r=n.Current;t=e(t,Ce(r[0])),t=e(t,Ce(r[1]))}return 0|Math.abs(t)},oi.prototype.Equals=function(e){return 0===this.CompareTo(e)},oi.prototype[Symbol.iterator]=function(){return Qn(ri(this.tree))},oi.prototype.CompareTo=function(e){const t=this;let n=0,r=!1;const i=ri(si(t));try{const o=ri(si(e));try{for(;!r&&0===n;){const e=[i.MoveNext(),o.MoveNext()];if(e[0])if(e[1]){const e=i.Current,r=o.Current,u=0|t.comparer.Compare(e[0],r[0]);n=0!==u?u:ke(e[1],r[1])}else n=1;else e[1]?n=-1:r=!0}return 0|n}finally{pe(o)&&o.Dispose()}}finally{pe(i)&&i.Dispose()}},Object.defineProperty(oi.prototype,"size",{get:function(){return 0|ai(this)}}),oi.prototype.clear=function(){throw new Error("Map cannot be mutated")},oi.prototype.delete=function(e){throw new Error("Map cannot be mutated")},oi.prototype.entries=function(){return ii(si(this))},oi.prototype.get=function(e){return ci(this,e)},oi.prototype.has=function(e){return fi(this,e)},oi.prototype.keys=function(){return hr((function(e){return e[0]}),ii(si(this)))},oi.prototype.set=function(e,t){throw new Error("Map cannot be mutated")},oi.prototype.values=function(){return hr((function(e){return e[1]}),ii(si(this)))};const bi=qt((function(e,t){const n=new on(null);this.comparer=t,n.contents=this,this["entries@24"]=new Map([]),this["init@21-2"]=1,fr((function(e){Ti(n.contents,e)}),e)}));function yi(e,t){const n=0|e.comparer.GetHashCode(t),r=ge(e["entries@24"],n,null);return r[0]?[!0,n,r[1].findIndex((function(n){return e.comparer.Equals(t,n)}))]:[!1,n,-1]}function Si(e){e["entries@24"].clear()}function Ei(e){return 0|Ar((function(e){return e.length}),e["entries@24"].values(),{GetZero:()=>0,Add:(e,t)=>e+t})}function Ti(e,t){const n=yi(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return!1;case 1:if(n[0]){qe(e["entries@24"],n[1]).push(t);return!0}return e["entries@24"].set(n[1],[t]),!0}}function Ci(e,t){const n=yi(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return!0;case 1:return!1}}function Ri(e,t){const n=yi(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return qe(e["entries@24"],n[1]).splice(n[2],1),!0;case 1:return!1}}bi.prototype[Symbol.iterator]=function(){const e=this;return Qn(Kn(ir((function(){return rr((function(e){return hr((function(e){return e}),e)}),e["entries@24"].values())}))))},bi.prototype.Add=function(e){Ti(this,e)},bi.prototype.Clear=function(){Si(this)},bi.prototype.Contains=function(e){return Ci(this,e)},bi.prototype.CopyTo=function(e,t){dr((function(n,r){e[t+n]=r}),this)},Object.defineProperty(bi.prototype,"Count",{get:function(){return 0|Ei(this)}}),Object.defineProperty(bi.prototype,"IsReadOnly",{get:function(){return!1}}),bi.prototype.Remove=function(e){return Ri(this,e)},Object.defineProperty(bi.prototype,"size",{get:function(){return 0|Ei(this)}}),bi.prototype.add=function(e){Ti(this,e);return this},bi.prototype.add_=function(e){return Ti(this,e)},bi.prototype.clear=function(){Si(this)},bi.prototype.delete=function(e){return Ri(this,e)},bi.prototype.has=function(e){return Ci(this,e)},bi.prototype.keys=function(){return hr((function(e){return e}),this)},bi.prototype.values=function(){return hr((function(e){return e}),this)},bi.prototype.entries=function(){return hr((function(e){return[e,e]}),this)};const Pi=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);function Mi(e){return new Pi(2,"SetOne",e)}function Oi(e,t,n,r){return new Pi(1,"SetNode",e,t,n,r)}function Li(e){switch(e.tag){case 2:return 1;case 1:return 0|e.fields[3];default:return 0}}const Fi=2;function Di(e,t,n){switch(0===e.tag&&0===n.tag?0:1){case 0:return Mi(t);case 1:{const r=0|Li(e),i=0|Li(n);return Oi(t,e,n,(0|(r<i?i:r))+1)}}}function Bi(e,t,n){const r=0|Li(e),i=0|Li(n);if(i>r+Fi){if(1===n.tag){if(Li(n.fields[1])>r+1){if(1===n.fields[1].tag)return Di(Di(e,t,n.fields[1].fields[1]),n.fields[1].fields[0],Di(n.fields[1].fields[2],n.fields[0],n.fields[2]));throw new Error("rebalance")}return Di(Di(e,t,n.fields[1]),n.fields[0],n.fields[2])}throw new Error("rebalance")}if(r>i+Fi){if(1===e.tag){if(Li(e.fields[2])>i+1){if(1===e.fields[2].tag)return Di(Di(e.fields[1],e.fields[0],e.fields[2].fields[1]),e.fields[2].fields[0],Di(e.fields[2].fields[2],t,n));throw new Error("rebalance")}return Di(e.fields[1],e.fields[0],Di(e.fields[2],t,n))}throw new Error("rebalance")}return Di(e,t,n)}function ki(e,t,n){switch(n.tag){case 2:{const r=0|e.Compare(t,n.fields[0]);return r<0?Oi(t,new Pi(0,"SetEmpty"),n,2):0===r?n:Oi(t,n,new Pi(0,"SetEmpty"),2)}case 0:return Mi(t);default:{const r=0|e.Compare(t,n.fields[0]);return r<0?Bi(ki(e,t,n.fields[1]),n.fields[0],n.fields[2]):0===r?n:Bi(n.fields[1],n.fields[0],ki(e,t,n.fields[2]))}}}const _i=qt((function(e,t){this.stack=e,this.started=t}),nn);function Ii(e){for(;;){const t=e;if(null==t.tail)return new Zt;if(2===t.head.tag)return t;1!==t.head.tag?e=t.tail:e=new Zt(t.head.fields[1],new Zt(Mi(t.head.fields[0]),new Zt(t.head.fields[2],t.tail)))}}function Ni(e){return new _i(Ii(new Zt(e,new Zt)),!1)}function zi(e){if(e.started){const t=e.stack;if(null==t.tail)return function(){throw new Error("Enumeration already started")}();if(2===t.head.tag)return t.head.fields[0];throw new Error("Please report error: Set iterator, unexpected stack for current")}return function(){throw new Error("Enumeration not started")}()}const Ui=qt((function(e){this.s=e,this.i=Ni(this.s)}));function Vi(e){return function(e){return this instanceof Ui?Ui.call(this,e):new Ui(e)}(e)}function Hi(e,t,n){return 0===t.tag?0===n.tag?0:-1:0===n.tag?1:0|function(e,t,n){e:for(;;){const z=e,U=t,V=n;var r,i,o,u,s,c,l,a,f,d,h,w,p,g,v,m,x,A,b,y,S,E,T,C,R,P,M,O,L,F,D,B,k,_,I,N;switch(null!=U.tail?null!=V.tail?2===V.head.tag?2===U.head.tag?(r=4,u=U.head.fields[0],s=V.head.fields[0],c=U.tail,l=V.tail):1===U.head.tag?0===U.head.fields[1].tag?(r=6,p=U.head.fields[1],g=U.head.fields[0],v=U.head.fields[2],m=V.head.fields[0],x=U.tail,A=V.tail):(r=9,M=U.head.fields[0],O=U.head.fields[1],L=U.head.fields[2],F=U.tail):(r=10,D=V.head.fields[0],B=V.tail):1===V.head.tag?0===V.head.fields[1].tag?2===U.head.tag?(r=5,a=U.head.fields[0],f=V.head.fields[0],d=V.head.fields[2],h=U.tail,w=V.tail):1===U.head.tag?0===U.head.fields[1].tag?(r=7,b=U.head.fields[0],y=U.head.fields[2],S=V.head.fields[0],E=V.head.fields[2],T=U.tail,C=V.tail):(r=9,M=U.head.fields[0],O=U.head.fields[1],L=U.head.fields[2],F=U.tail):(r=11,k=V.head.fields[0],_=V.head.fields[1],I=V.head.fields[2],N=V.tail):2===U.head.tag?(r=8,R=U.head.fields[0],P=U.tail):1===U.head.tag?(r=9,M=U.head.fields[0],O=U.head.fields[1],L=U.head.fields[2],F=U.tail):(r=11,k=V.head.fields[0],_=V.head.fields[1],I=V.head.fields[2],N=V.tail):2===U.head.tag?(r=8,R=U.head.fields[0],P=U.tail):1===U.head.tag?(r=9,M=U.head.fields[0],O=U.head.fields[1],L=U.head.fields[2],F=U.tail):(r=3,i=U.tail,o=V.tail):r=2:r=null!=V.tail?1:0,r){case 0:return 0;case 1:return-1;case 2:return 1;case 3:e=z,t=i,n=o;continue e;case 4:{const r=0|z.Compare(u,s);if(0!==r)return 0|r;e=z,t=c,n=l;continue e}case 5:{const r=0|z.Compare(a,f);if(0!==r)return 0|r;e=z,t=new Zt(new Pi(0,"SetEmpty"),h),n=new Zt(d,w);continue e}case 6:{const r=0|z.Compare(g,m);if(0!==r)return 0|r;e=z,t=new Zt(v,x),n=new Zt(p,A);continue e}case 7:{const r=0|z.Compare(b,S);if(0!==r)return 0|r;e=z,t=new Zt(y,T),n=new Zt(E,C);continue e}case 8:e=z,t=new Zt(new Pi(0,"SetEmpty"),new Zt(Mi(R),P)),n=V;continue e;case 9:e=z,t=new Zt(O,new Zt(Oi(M,new Pi(0,"SetEmpty"),L,0),F)),n=V;continue e;case 10:e=z,t=U,n=new Zt(new Pi(0,"SetEmpty"),new Zt(Mi(D),B));continue e;case 11:e=z,t=U,n=new Zt(_,new Zt(Oi(k,new Pi(0,"SetEmpty"),I,0),N));continue e}break}}(e,new Zt(t,new Zt),new Zt(n,new Zt))}function ji(e,t){const n=Kn(t);try{return function(e,t,n){for(;;){const r=e,i=t,o=n;if(!o.MoveNext())return i;e=r,t=ki(r,o.Current,i),n=o}}(e,new Pi(0,"SetEmpty"),n)}finally{pe(n)&&n.Dispose()}}Object.defineProperty(Ui.prototype,"Current",{get:function(){return zi(this.i)}}),Ui.prototype.MoveNext=function(){return function(e){if(e.started){const t=e.stack;if(null==t.tail)return!1;if(2===t.head.tag)return e.stack=Ii(t.tail),!(null==e.stack.tail);throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return e.started=!0,!(null==e.stack.tail)}(this.i)},Ui.prototype.Reset=function(){this.i=Ni(this.s)},Ui.prototype.Dispose=function(){};const Wi=qt((function(e,t){this.comparer=e,this.tree=t}));function Gi(e,t){return this instanceof Wi?Wi.call(this,e,t):new Wi(e,t)}function Xi(e){return e.comparer}function Yi(e){return e.tree}function qi(e,t){return Gi(t,ji(t,e))}function $i(e,t,n,r){return e.fill(r,t,t+n),e}function Ji(e,t,n){if(ArrayBuffer.isView(t)){const r=0|t.length,i=new n(r);for(let n=0;n<=r-1;n++)i[n]=e(t[n]);return i}return t.map((function(t){return e(t)}))}function Zi(e,t,n){return function(e,t){var n;const r=Array.from(e);switch(0|r.length){case 0:return new t(0);case 1:return r[0];default:if(n=r[0],ArrayBuffer.isView(n)){let e=0,n=0;for(let e=0;e<=r.length-1;e++){n+=r[e].length}const i=new t(n);for(let t=0;t<=r.length-1;t++){const n=r[t];for(let t=0;t<=n.length-1;t++)i[e]=n[t],e+=1}return i}return r[0].concat(...r.slice(1))}}(Ji(e,t,Array),n)}function Ki(e,t,n){return function(r){for(;;){const i=r;if(i>=t.length)return!1;if(n.Equals(e,t[i]))return!0;r=i+1}}(0)}function Qi(e,t,n){if(e<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=new n(e);for(let n=0;n<=e-1;n++)r[n]=t(n);return r}function eo(e,t,n){return n.reduce((function(t,n){return e(t,n)}),t)}function to(e,t,n,r){return function(e,t,n,r){let i=r;if(t.length!==n.length)throw new Error("Arrays had different lengths");const o=0|t.length;for(let r=1;r<=o;r++)i=e(r-1,t[o-r],n[o-r],i);return i}((function(t,n,r,i){return e(n,r,i)}),t,n,r)}function no(e,t,n){let r=n.GetZero();for(let i=0;i<=t.length-1;i++)r=n.Add(r,e(t[i]));return r}function ro(e,t){return t.from(e)}Wi.prototype.toString=function(){return"set ["+Ht("; ",hr((function(e){return String(e)}),this))+"]"},Wi.prototype.GetHashCode=function(){let e=0;const t=Vi(Yi(this));for(;t.MoveNext();){e=((0|e)<<1)+(0|Ce(t.Current))+631}return 0|Math.abs(e)},Wi.prototype.Equals=function(e){return 0===Hi(Xi(this),Yi(this),Yi(e))},Wi.prototype.CompareTo=function(e){return 0|Hi(Xi(this),Yi(this),Yi(e))},Wi.prototype[Symbol.iterator]=function(){return Qn(Vi(Yi(this)))};const io=qt((function(e,t){this.bound=0|e,this.digits=t}),nn);function oo(e,t){for(;;){const n=e,r=t;if(0===r)return 1;if(r%2!=0)return n*oo(n*n,~~(r/2))|0;e=n*n,t=~~(r/2)}}oe(2013265921,0,!1),oe(2013265921,0,!0);Qi(28,(function(e){return oo(2,e)}),Int32Array);function uo(e){return e.bound}function so(e,t){return e.digits[t]}function co(e,t){return de(so(e,t),!1,2)}function lo(e,t,n){e.digits[t]=n}function ao(e,t){for(;;){const n=e,r=t;if(0===r)return oe(1,0,!1);if(r%2!=0)return Q(n,ao(Q(n,n),~~(r/2)));e=Q(n,n),t=~~(r/2)}}function fo(e,t){for(;;){const n=e,r=t;if(0===r)return 1;if(r%2!=0)return n*fo(n*n,~~(r/2))|0;e=n*n,t=~~(r/2)}}const ho=24,wo=16777216,po=oe(16777216,0,!1),go=oe(16777215,0,!1);oe(16777215,0,!0);function vo(e){return new io(e,new Int32Array(e))}function mo(e){const t=0|function(e,t){for(;;){const n=e,r=t;if(-1===r||0!==n[r])return r+1|0;e=n,t=r-1}}(e.digits,e.bound-1);return e.bound=t,e}const xo=2,Ao=3;function bo(e){const t=0|(e<0?0:e);if(t<wo){const e=vo(1);return e.digits[0]=t,mo(e)}{const e=vo(xo);for(let n=0;n<=xo-1;n++)e.digits[n]=~~(t/fo(wo,n))%wo;return mo(e)}}const yo=bo(1),So=bo(0);function Eo(e){return e.bound-1}function To(e){return 0===e.bound}function Co(e,t){if(e.bound===t.bound){return function(e,t,n){for(;;){const r=e,i=t,o=n;if(-1===o)return!0;if(r[o]!==i[o])return!1;e=r,t=i,n=o-1}}(e.digits,t.digits,e.bound-1)}return!1}function Ro(e,t){if(e.bound<t.bound)return-1;if(e.bound>t.bound)return 1;return 0|function(e,t,n){for(;;){const r=e,i=t,o=n;if(-1===o)return 0;if(r[o]!==i[o])return r[o]<i[o]?-1:1;e=r,t=i,n=o-1}}(e.digits,t.digits,e.bound-1)}function Po(e,t){return-1===Ro(e,t)}function Mo(e,t,n){for(var r;;){const i=e,o=t,u=n;if(!(ie(o,oe(0,0,!1))>0))break;{const s=K(co(i,u),o);lo(i,u,(r=re(s,go),~~ce(r))),e=i,t=ee(s,po),n=u+1}}}function Oo(e,t){var n;const r=0|uo(e),i=vo(r+1|0),o=de(t,!1,2);let u=oe(0,0,!1);for(let t=0;t<=r-1;t++){const r=K(K(u,co(i,t)),Q(co(e,t),o));lo(i,t,(n=re(r,go),~~ce(n))),u=ee(r,po)}return Mo(i,u,r),mo(i)}function Lo(e,t){const n=1===uo(e),r=1===uo(t);return n&&r?function(e,t){var n;const r=vo(2),i=Q(de(e,!1,2),de(t,!1,2));return lo(r,0,(n=re(i,go),~~ce(n))),lo(r,1,~~ce(ee(i,po))),mo(r)}(so(e,0),so(t,0)):n?Oo(t,so(e,0)):r?Oo(e,so(t,0)):function(e,t){var n;const r=vo(e.bound+t.bound|0);for(let i=0;i<=e.bound-1;i++){const o=de(e.digits[i],!1,2);let u=oe(0,0,!1),s=0|i;for(let e=0;e<=t.bound-1;e++){const i=de(t.digits[e],!1,2),c=K(K(de(r.digits[s],!1,2),u),Q(o,i));r.digits[s]=(n=re(c,go),~~ce(n)),u=ee(c,po),s+=1}Mo(r,u,s)}return mo(r)}(e,t)}const Fo=qt((function(e,t,n,r,i,o,u){this.bigL=0|e,this.twoToBigL=0|t,this.k=0|n,this.bigK=0|r,this.bigN=0|i,this.split=0|o,this.splits=u}),nn);function Do(e,t,n,r){return new Fo(e,fo(2,e),t,n,r,~~(ho/e),Qi(~~(ho/e),(function(t){return fo(2,e*t)}),Int32Array))}const Bo=[Do(1,28,268435456,268435456),Do(2,26,67108864,134217728),Do(3,24,16777216,50331648),Do(4,22,4194304,16777216),Do(5,20,1048576,5242880),Do(6,18,262144,1572864),Do(7,16,65536,458752),Do(8,14,16384,131072),Do(9,12,4096,36864),Do(10,10,1024,10240),Do(11,8,256,2816),Do(12,6,64,768),Do(13,4,16,208)];Qi(ho,(function(e){return fo(2,e)-1}),Int32Array),Qi(ho,(function(e){return fo(2,e)}),Int32Array),Qi(ho,(function(e){return ao(oe(2,0,!1),e)}),Array);Bo[0].bigN;function ko(e,t){return Lo(e,t)}function _o(e,t,n,r){const i=[e.digits,Eo(e)],o=[n.digits,Eo(n)],u=de(t,!1,2);let s=0,c=Q(u,de(o[0][0],!1,2));for(;ie(c,oe(0,0,!1))>0||s<o[1];){if(s>i[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let e,t;const n=re(c,go);let l;e=t=~~ce(n),l=ee(c,po),e<=i[0][s+r]?i[0][s+r]=i[0][s+r]-e:(i[0][s+r]=i[0][s+r]+(wo-e),l=K(l,oe(1,0,!1))),c=s<o[1]?K(l,Q(u,de(o[0][s+1],!1,2))):l,s+=1}mo(e)}function Io(e,t,n,r){const i=[e.digits,Eo(e)],o=[n.digits,Eo(n)],u=de(t,!1,2);let s=0,c=Q(u,de(o[0][0],!1,2));for(;ie(c,oe(0,0,!1))>0||s<o[1];){if(s>i[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let e,t;const n=re(c,go);let l;e=t=~~ce(n),l=ee(c,po),e<wo-i[0][s+r]?i[0][s+r]=i[0][s+r]+e:(i[0][s+r]=e-(wo-i[0][s+r]),l=K(l,oe(1,0,!1))),c=s<o[1]?K(l,Q(u,de(o[0][s+1],!1,2))):l,s+=1}mo(e)}function No(e,t,n){const r=[Eo(t),Eo(e)];if(r[1]<r[0]+n)return 0;{let c;if(0===r[0])if(r[1]===n)c=~~(e.digits[n]/t.digits[0]);else{const n=ee(K(Q(de(e.digits[r[1]],!1,2),po),de(e.digits[r[1]-1],!1,2)),de(t.digits[0],!1,2));c=~~ce(n)}else if(r[1]===r[0]+n)c=~~(e.digits[r[1]]/(t.digits[r[0]]+1));else{const n=ee(K(Q(de(e.digits[r[1]],!1,2),po),de(e.digits[r[1]-1],!1,2)),K(de(t.digits[r[0]],!1,2),oe(1,0,!1)));c=~~ce(n)}if(0===c){return 1!=(o=n,u=e,s=0,(i=t).bound+o<u.bound+s?-1:i.bound+o>u.bound+o?1:0|function(e,t,n){e:for(;;){const r=e,i=t,u=n;if(-1===u)return 0;{const c=0|(u<o?0:r[u-o]),l=0|(u<s?0:i[u-s]);if(c===l){e=r,t=i,n=u-1;continue e}return c<l?-1:1}}}(i.digits,u.digits,i.bound+o-1))?1:0}return 0|c}var i,o,u,s}function zo(e,t){if(To(t))throw new Error;if(Eo(e)<Eo(t))return[So,e];{const i=new io((n=e).bound,(r=n.digits,Int32Array,r.slice())),o=vo(Eo(e)-Eo(t)+1+1);let u=0|Eo(e);const s=0|Eo(t);let c=u-s|0;const l=function(e){};let a=!1;for(;!a;){l([o,i,c,u]);const e=0|No(i,t,c);e>0?(_o(i,e,t,c),Io(o,e,yo,c),l([o,i,c,u])):(a=0===e&&0===c)||(u===s+c?(l([o,i,c-1,u]),c-=1):(l([o,i,c-1,u-1]),c-=1,u-=1))}return[mo(o),mo(i)]}var n,r}bo(2);function Uo(e){return bo(e)}function Vo(e){return function(e){const t=ie(e,oe(0,0,!1))<0?oe(0,0,!1):e,n=vo(Ao);for(let e=0;e<=Ao-1;e++)n.digits[e]=~~ce(te(ee(t,ao(po,e)),po));return mo(n)}(e)}function Ho(e){const t=0|Eo(e),n=function(e,n,r){for(;;){const i=e,o=n,u=r;if(Eo(u)>t)return new Zt([o,u],i);e=new Zt([o,u],i),n=o+1,r=ko(u,u)}}(new Zt,0,bo(10)),r=function e(t,n,r,i){if(null!=i.tail){const o=zo(r,i.head[1]);if(t&&To(o[0])){return e(t,n,o[1],i.tail)}{const r=e(!1,n,o[1],i.tail);return e(t,r,o[0],i.tail)}}{const e=0|function(e){if(1===e.bound)return 0|e.digits[0];{let t=0;for(let n=e.bound-1;n>=0;n--)t=e.digits[n]+wo*t;return 0|t}}(r);return t&&0===e?n:new Zt(Ae(e),n)}}(!0,new Zt,e,n);if(null==r.tail)return"0";{let e;return Ht("",e=ro(r,Array))}}function jo(e){return e.bound<=1}function Wo(e){return 0<e.bound?0|e.digits[0]:0}const Go=qt((function(e,t){this.signInt=e,this.v=t}),nn);function Xo(e,t){return this instanceof Go?Go.call(this,e,t):new Go(e,t)}function Yo(e){return jo(e)&&Wo(e)<Go.smallLim?Go.smallPosTab[Wo(e)]:e}function qo(e){return e.signInt}function $o(e){return e.v}function Jo(e,t){const n=[qo(e),qo(t)];switch(-1===n[0]?-1===n[1]?1:0===n[1]?8:1===n[1]?3:9:0===n[0]?-1===n[1]?6:0===n[1]?4:1===n[1]?5:9:1===n[0]?-1===n[1]?2:0===n[1]?7:1===n[1]?0:9:9){case 0:case 1:return Co($o(e),$o(t));case 2:case 3:return!!To($o(e))&&To($o(t));case 4:return!0;case 5:case 6:return To($o(t));case 7:case 8:return To($o(e));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}function Zo(e,t){const n=[qo(e),qo(t)];switch(-1===n[0]?-1===n[1]?1:0===n[1]?8:1===n[1]?3:9:0===n[0]?-1===n[1]?6:0===n[1]?4:1===n[1]?5:9:1===n[0]?-1===n[1]?2:0===n[1]?7:1===n[1]?0:9:9){case 0:return Po($o(e),$o(t));case 1:return Po($o(t),$o(e));case 2:return!1;case 3:return!To($o(e))||!To($o(t));case 4:return!1;case 5:return!To($o(t));case 6:case 7:return!1;case 8:return!To($o(e));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}function Ko(e){return e>=0?Xo.call(this,1,Yo(Uo(e))):-2147483648===e?Xo.call(this,-1,Yo(Vo(ne(de(e,!1,2))))):Xo.call(this,-1,Yo(Uo(s(e))))}function Qo(){return Go.one}function eu(){return Go.two}function tu(){return Go.zero}function nu(e){for(;;){const t=e;if(null==t.tail)return null;if(null==t.tail.tail)return jn(t.head);e=t.tail}}function ru(e,t,n){for(;;){const r=e,i=t,o=n;if(null==o.tail)return i;e=r,t=r(i,o.head),n=o.tail}}function iu(e){return ru((function(e,t){return new Zt(t,e)}),new Zt,e)}function ou(e){return iu(lr((function(e,t){return new Zt(t,e)}),new Zt,e))}function uu(e){return ru((function(e,t){return e+1}),0,e)}function su(e,t){return ru((function(e,t){return new Zt(t,e)}),t,iu(e))}function cu(e,t){return iu(ru((function(t,n){return new Zt(e(n),t)}),new Zt,t))}function lu(e,t){ru((function(t,n){e(n)}),null,t)}function au(e){let t=new Zt;for(let n=function(e){if(Re(e))return e.length;{let t=0;for(const n of e)t++;return t}}(e)-1;n>=0;n--)t=new Zt(e[n],t);return t}function fu(e,t){return function(e,t,n){e:for(;;){const r=e,i=t,o=n;if(null!=o.tail){const u=r(i,o.head);if(null==u){e=r,t=i+1,n=o.tail;continue e}return u}return null}}(e,0,t)}function du(e,t){return fu((function(t,n){return e(t,n)?jn(n):null}),t)}function hu(e,t){return du((function(t,n){return e===t}),t)}function wu(e,t){return iu(ru((function(t,n){return e(n)?new Zt(n,t):t}),new Zt,t))}function pu(e,t){let n=new Zt;for(let r=1;r<=e;r++)n=new Zt(t(e-r),n);return n}function gu(e,t){if(null!=t.tail)return ru(e,t.head,t.tail);throw new Error("List was empty")}Go.smallLim=4096,Go.smallPosTab=Qi(Go.smallLim,Uo,Array),Go.one=Ko(1),Go.two=Ko(2),Go.zero=Ko(0),Go.prototype.toString=function(){const e=this;switch(0|qo(e)){case-1:return To($o(e))?"0":"-"+Ho($o(e));case 0:return"0";case 1:return Ho($o(e));default:throw new Error("signs should be +/- 1 or 0")}},Go.prototype.Equals=function(e){return e instanceof Go&&Jo(this,e)},Go.prototype.GetHashCode=function(){return 0|(0===qo(e=this)?1:qo(e)+function(e){let t=0;for(let n=0;n<=e.bound-1;n++)t=e.digits[n]+(t<<3);return 0|t}($o(e))|0);var e},Go.prototype.CompareTo=function(e){if(e instanceof Go)return 0|(Zo(t=this,n=e)?-1:Jo(t,n)?0:1);throw new Error("the objects are not comparable\\nParameter name: obj");var t,n};tu(),Qo(),eu();tu(),Qo();function vu(e,t){const n=new Date(e);return n.offset=null!=t?t:-6e4*(new Date).getTimezoneOffset(),n}function mu(){return vu(-621355968e5,0)}function xu(e){const t=Ke(e),n=$e.exec(e),r=null==n?-6e4*t.getTimezoneOffset():"Z"===n[0]?0:36e5*parseInt(n[1],10)+6e4*parseInt(n[2],10);return vu(t.getTime(),r)}function Au(e=0,t=0,n=0,r=0,i=0){switch(arguments.length){case 1:return o=arguments[0],ae(ee(o,1e4));case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],i=0}var o;return 864e5*e+36e5*t+6e4*n+1e3*r+i}function bu(e){const t=e.search("\\."),n=e.search("\\:");if(-1===t&&-1===n){const t=parseInt(e,0);if(isNaN(t))throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`);return Au(t,0,0,0,0)}if(n>0){const t=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(e);if(null!=t&&null!=t[4]&&null!=t[5]){let n=0,r=0,i=0;const o=null!=t[1]&&"-"===t[1]?-1:1,u=+t[4],s=+t[5];if(null!=t[3]&&(n=+t[3]),null!=t[7]&&(i=+t[7]),null!=t[8])switch(t[8].length){case 1:r=100*+t[8];break;case 2:r=10*+t[8];break;case 3:r=+t[8];break;case 4:r=+t[8]/10;break;case 5:r=+t[8]/100;break;case 6:r=+t[8]/1e3;break;case 7:r=+t[8]/1e4;break;default:throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}return o*Au(n,u,s,i,r)}}throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}function yu(e){return void 0===e}function Su(e,t,n){try{return"Expecting "+e+" but instead got:"+(n?"\n":" ")+JSON.stringify(t,null,4)}catch(t){return"Expecting "+e+" but decoder failed. Couldn't report given value due to circular structure."+(n?"\n":" ")}}function Eu(e,t){const n=2===t.tag?Su(t.fields[0],t.fields[1],!0):1===t.tag?Su(t.fields[0],t.fields[1],!1)+"\nReason: "+t.fields[2]:3===t.tag?Su(t.fields[0],t.fields[1],!0):4===t.tag?Su(t.fields[0],t.fields[1],!0)+"\nNode `"+t.fields[2]+"` is unkown.":5===t.tag?"Expecting "+t.fields[0]+".\n"+JSON.stringify(t.fields[1],null,4):7===t.tag?"The following errors were found:\n\n"+Ht("\n\n",t.fields[0]):6===t.tag?"The following `failure` occurred with the decoder: "+t.fields[0]:Su(t.fields[0],t.fields[1],!1);return 7===t.tag?n:"Error at: `"+e+"`\n"+n}function Tu(e,t,n){let r;return 1===(r=Ge(1,t,[e])(n)).tag?new $n(1,"Error",Eu(r.fields[0][0],r.fields[0][1])):new $n(0,"Ok",r.fields[0])}function Cu(e,t){try{return Tu("$",e,JSON.parse(t))}catch(e){if(e instanceof SyntaxError)return new $n(1,"Error","Given an invalid JSON: "+e.message);throw e}}function Ru(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(-128<=n&&n<=127)return new $n(0,"Ok",(n+128&255)-128);{const t=[e,new Er(1,"BadPrimitiveExtra","a sbyte",n,"Value was either too large or too small for a sbyte")];return new $n(1,"Error",t)}}{const t=[e,new Er(1,"BadPrimitiveExtra","a sbyte",n,"Value is not an integral value")];return new $n(1,"Error",t)}}if("string"==typeof t){let n;if((n=u(t,511,!1,8))[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","a sbyte",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","a sbyte",t)];return new $n(1,"Error",n)}}}function Pu(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(0<=n&&n<=255)return new $n(0,"Ok",255&n);{const t=[e,new Er(1,"BadPrimitiveExtra","a byte",n,"Value was either too large or too small for a byte")];return new $n(1,"Error",t)}}{const t=[e,new Er(1,"BadPrimitiveExtra","a byte",n,"Value is not an integral value")];return new $n(1,"Error",t)}}if("string"==typeof t){let n;if((n=u(t,511,!0,8))[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","a byte",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","a byte",t)];return new $n(1,"Error",n)}}}function Mu(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(-32768<=n&&n<=32767)return new $n(0,"Ok",(n+32768&65535)-32768);{const t=[e,new Er(1,"BadPrimitiveExtra","an int16",n,"Value was either too large or too small for an int16")];return new $n(1,"Error",t)}}{const t=[e,new Er(1,"BadPrimitiveExtra","an int16",n,"Value is not an integral value")];return new $n(1,"Error",t)}}if("string"==typeof t){let n;if((n=u(t,511,!1,16))[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","an int16",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","an int16",t)];return new $n(1,"Error",n)}}}function Ou(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(0<=n&&n<=65535)return new $n(0,"Ok",65535&n);{const t=[e,new Er(1,"BadPrimitiveExtra","an uint16",n,"Value was either too large or too small for an uint16")];return new $n(1,"Error",t)}}{const t=[e,new Er(1,"BadPrimitiveExtra","an uint16",n,"Value is not an integral value")];return new $n(1,"Error",t)}}if("string"==typeof t){let n;if((n=u(t,511,!0,16))[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","an uint16",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","an uint16",t)];return new $n(1,"Error",n)}}}function Lu(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(-2147483648<=n&&n<=2147483647)return new $n(0,"Ok",~~n);{const t=[e,new Er(1,"BadPrimitiveExtra","an int",n,"Value was either too large or too small for an int")];return new $n(1,"Error",t)}}{const t=[e,new Er(1,"BadPrimitiveExtra","an int",n,"Value is not an integral value")];return new $n(1,"Error",t)}}if("string"==typeof t){let n;if((n=u(t,511,!1,32))[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","an int",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","an int",t)];return new $n(1,"Error",n)}}}function Fu(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(0<=n&&n<=4294967295)return new $n(0,"Ok",n>>>0);{const t=[e,new Er(1,"BadPrimitiveExtra","an uint32",n,"Value was either too large or too small for an uint32")];return new $n(1,"Error",t)}}{const t=[e,new Er(1,"BadPrimitiveExtra","an uint32",n,"Value is not an integral value")];return new $n(1,"Error",t)}}if("string"==typeof t){let n;if((n=u(t,511,!0,32))[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","an uint32",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","an uint32",t)];return new $n(1,"Error",n)}}}const Du=(()=>{const e=oe(0,2147483648,!1),t=oe(4294967295,2147483647,!1);return function(n){return function(r){if("number"==typeof r){const i=r;if(isFinite(i)&&Math.floor(i)===i){if(ae(e)<=i&&i<=ae(t))return new $n(0,"Ok",se(i,!1));{const e=[n,new Er(1,"BadPrimitiveExtra","an int64",i,"Value was either too large or too small for an int64")];return new $n(1,"Error",e)}}{const e=[n,new Er(1,"BadPrimitiveExtra","an int64",i,"Value is not an integral value")];return new $n(1,"Error",e)}}if("string"==typeof r){let e;if((e=we(r,511,!1))[0])return new $n(0,"Ok",e[1]);{const e=[n,new Er(0,"BadPrimitive","an int64",r)];return new $n(1,"Error",e)}}{const e=[n,new Er(0,"BadPrimitive","an int64",r)];return new $n(1,"Error",e)}}}})();(()=>{const e=oe(0,0,!0),t=oe(4294967295,4294967295,!0)})();function Bu(e,t){if("string"==typeof t){const r=function(e){try{return null==e||""===e.trim()?[!1,Ze()]:[!0,Qe(e)]}catch(e){return[!1,Ze()]}}(t,Ze());if(r[0]){const e=1===(n=r[1]).kind?n:Je(n.getTime(),1);return new $n(0,"Ok",e)}{const n=[e,new Er(0,"BadPrimitive","a datetime",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","a datetime",t)];return new $n(1,"Error",n)}var n}function ku(e,t){if("string"==typeof t){const n=function(e){try{return[!0,xu(e)]}catch(e){return[!1,mu()]}}(t,mu());if(n[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","a datetimeoffset",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","a datetime",t)];return new $n(1,"Error",n)}}function _u(e,t){if("string"==typeof t){const n=function(e){try{return[!0,bu(e)]}catch(e){return[!1,0]}}(t);if(n[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","a timespan",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","a timespan",t)];return new $n(1,"Error",n)}}function Iu(e,t,n){let r;if(1===(r=Ge(1,t,[e])(n)).tag){if(null==n)return new $n(0,"Ok",null);if(1===r.tag)return new $n(1,"Error",r.fields[0]);throw new Error("The match cases were incomplete")}return new $n(0,"Ok",jn(r.fields[0]))}function Nu(e,t,n){var r;const i=Gn(t,Ht(".",new Zt("$",e))),o="an object with path `"+Ht(".",e)+"`";return new $n(1,"Error",[i,new Er(4,"BadPath",o,n,(r=nu(e),Gn(r,"")))])}function zu(e,t,n,r){const i=n+".["+Ae(e)+"]";if(Array.isArray(r)){const n=r;if(e<n.length)return t(i,n[e]);{const t="a longer array. Need index `"+Ae(e)+"` but there are only `"+Ae(0|n.length)+"` entries",o=[i,new Er(5,"TooSmallArray",t,r)];return new $n(1,"Error",o)}}{const e=[i,new Er(0,"BadPrimitive","an array",r)];return new $n(1,"Error",e)}}function Uu(e,t,n){if(Array.isArray(n)){let r=-1;const i=n;let o;return Jn(iu,o=eo((function(n,i){if(r+=1,0===n.tag){const o=e(t+".["+Ae(r)+"]",i);return 0===o.tag?new $n(0,"Ok",new Zt(o.fields[0],n.fields[0])):new $n(1,"Error",o.fields[0])}return n}),new $n(0,"Ok",new Zt),i))}{const e=[t,new Er(0,"BadPrimitive","a list",n)];return new $n(1,"Error",e)}}function Vu(e,t,n){if(Array.isArray(n)){let r=-1;const i=n,o=$i(new Array(i.length),0,i.length,null);return eo((function(n,i){if(r+=1,0===n.tag){const o=e(t+".["+Ae(r)+"]",i);return 0===o.tag?(n.fields[0][r]=o.fields[0],new $n(0,"Ok",n.fields[0])):new $n(1,"Error",o.fields[0])}return n}),new $n(0,"Ok",o),i)}{const e=[t,new Er(0,"BadPrimitive","an array",n)];return new $n(1,"Error",e)}}function Hu(e,t,n){return new $n(0,"Ok",e)}function ju(e,t,n,r){const i=t(n,r);return 0===i.tag?e(i.fields[0],n,r):new $n(1,"Error",i.fields[0])}function Wu(e,t,n,r){const i=t(n,r);return 1===i.tag?new $n(1,"Error",i.fields[0]):new $n(0,"Ok",e(i.fields[0]))}function Gu(e,t,n,r){let i;return 1===(i=Ge(1,n,[t])(r)).tag?(e.push(i.fields[0]),null):i.fields[0]}const Xu=qt((function(e,t){const n=this;n.errors=[],n.required={Field:(r,i)=>Gu(n.errors,e,(function(e,t){return function(e,t,n,r){if(null!==r&&Object.getPrototypeOf(r||!1)===Object.prototype){const i=r[e];return yu(i)?new $n(1,"Error",[n,new Er(3,"BadField","an object with a field named `"+e+"`",r)]):t(n+"."+e,i)}return new $n(1,"Error",[n,new Er(2,"BadType","an object",r)])}(r,i,e,t)}),t),At:(r,i)=>Gu(n.errors,e,(function(e,t){return function(e,t,n,r){let i;return null==(i=ru((function(t,n){if(null==t[2]){if(null==t[1]){const n=Nu(e,t[0],r);return[t[0],t[1],n]}if(null!==t[1]&&Object.getPrototypeOf(t[1]||!1)===Object.prototype){const i=t[1][n];if(yu(i)){const n=Nu(e,null,r);return[t[0],i,n]}return[t[0]+"."+n,i,null]}{const e=new $n(1,"Error",[t[0],new Er(2,"BadType","an object",t[1])]);return[t[0],t[1],e]}}return[t[0],t[1],t[2]]}),[n,r,null],e))[2]?t(i[0],i[1]):i[2]}(r,i,e,t)}),t),Raw:r=>Gu(n.errors,e,r,t)},n.optional={Field:(r,i)=>Gu(n.errors,e,(function(e,t){return function(e,t,n,r){if(null!==r&&Object.getPrototypeOf(r||!1)===Object.prototype){const i=r[e];return yu(i)?new $n(0,"Ok",null):Iu(n+"."+e,t,i)}return new $n(1,"Error",[n,new Er(2,"BadType","an object",r)])}(r,i,e,t)}),t),At:(r,i)=>Gu(n.errors,e,(function(e,t){return function(e,t,n,r){let i;return null==(i=ru((function(t,n){if(null==t[2]){if(null==t[1]){const n=Nu(e,t[0],r);return[t[0],t[1],n]}if(null!==t[1]&&Object.getPrototypeOf(t[1]||!1)===Object.prototype){const e=t[1][n];return[t[0]+"."+n,e,null]}{const e=new $n(1,"Error",[t[0],new Er(2,"BadType","an object",t[1])]);return[t[0],t[1],e]}}return[t[0],t[1],t[2]]}),[n,r,null],e))[2]?yu(i[1])?new $n(0,"Ok",null):Iu(i[0],t,i[1]):i[2]}(r,i,e,t)}),t),Raw(r){let i;if(1!==(i=Ge(1,r,[e])(t)).tag)return jn(i.fields[0]);var o,u;switch(1===i.fields[0][1].tag?(o=0,u=i.fields[0][1].fields[1]):2===i.fields[0][1].tag?(o=0,u=i.fields[0][1].fields[1]):3===i.fields[0][1].tag?o=1:4===i.fields[0][1].tag?o=1:5===i.fields[0][1].tag?o=2:6===i.fields[0][1].tag?o=2:7===i.fields[0][1].tag?o=2:(o=0,u=i.fields[0][1].fields[1]),o){case 0:return null==u?null:(n.errors.push(i.fields[0]),null);case 1:return null;case 2:return n.errors.push(i.fields[0]),null}}}}));function Yu(e,t,n){const r=function(e,t){return this instanceof Xu?Xu.call(this,e,t):new Xu(e,t)}(t,n);let i;i=e(r);const o=ou(r.errors);if(null!=o.tail){if(uu(o)>1){const e=cu((function(e){return Eu(e[0],e[1])}),o),n=[t,new Er(7,"BadOneOf",e)];return new $n(1,"Error",n)}return new $n(1,"Error",o.head)}return new $n(0,"Ok",i)}function qu(e){return ui(t={Compare:ke},Zr(t,e));var t}function $u(e,t,n,r){var i,o,u,s,c,l;if(t.length!==r.length){const a=[n,(o=0|t.length,u=0|r.length,s=zt(It("Expected %i %s but got %i")),c=s(o),l=c(e),i=l(u),new Er(6,"FailMessage",i))];return new $n(1,"Error",a)}{const e=new $n(0,"Ok",new Zt);return to(We(3,Xe((function(e){return function(t){return function(r){if(0===r.tag){return Jn((function(e){return new Zt(e,r.fields[0])}),t(n,e))}return r}}}),[0,[0,2],0])),r,t,e)}}function Ju(e,t,n,r,i,o){let u;const s=Bn(n);var c;if(c=function(e){return Sn(e)===r},null!=(u=s.find(c))){const n=u;if(0===o.length){const e=Vn(n,[]);return new $n(0,"Ok",e)}{let r;return Jn((function(e){return Vn(n,ro(e,Array))}),$u("union fields",r=Ji((function(n){return Ku(e,t,!1,n[1])}),Un(n),Array),i,o))}}{const e=[i,new Er(6,"FailMessage","Cannot find case "+r+" in "+En(n))];return new $n(1,"Error",e)}}function Zu(e,t,n,r){const i=new on(null);let o;const u=En(r);let s;if(o=di(u,i,e),Nn(r)){let e;const n=kn(r);e=Ji((function(e){return[Fr(t,Sn(e)),Ku(o,t,!1,e[1])]}),n,Array),s=function(t){return function(n){const i=function(e,t,n){if(null===n||Object.getPrototypeOf(n||!1)!==Object.prototype){const e=[t,new Er(0,"BadPrimitive","an object",n)];return new $n(1,"Error",e)}{const o=new $n(0,"Ok",new Zt);return r=function(e,r){return 0===r.tag?Jn((function(e){return new Zt(e,r.fields[0])}),e[1](t+"."+e[0])(n[e[0]])):r},i=o,e.reduceRight((function(e,t){return r(t,e)}),i)}var r,i}(e,t,n);return Jn((function(e){return function(e,t){const n=kn(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return null!=e.constructor?new e.constructor(...t):rn(n.reduce((e,[n,r],i)=>(e[n]=t[i],e),{}))}(r,ro(e,Array))}),i)}}}else if(In(r))s=function(e){return function(n){if("string"==typeof n){return Ju(o,t,r,n,e,[])}if(Array.isArray(n)){const i=n;let u;const s=i[0];return Ju(o,t,r,u=s,e,i.slice(1,i.length))}{const t=[e,new Er(0,"BadPrimitive","a string or array",n)];return new $n(1,"Error",t)}}};else{if(!n){let e;const t=En(r);throw e=zt(It("Cannot generate auto decoder for %s. Please pass an extra decoder."))(t),new Error(e)}s=function(e){return function(t){return new $n(1,"Error",[e,new Er(2,"BadType","an extra coder for "+En(r),t)])}}}return i.contents=s,s}function Ku(e,t,n,r){var i,o;const u=En(r),s=wi(u,e);if(null==s){if(Tn(r)){let n;const i=Cn(r);return n=Ku(e,t,!1,i),function(e){return function(t){return Vu(We(2,n),e,t)}}}if(Pn(r)){const e=En(On(r));return"System.SByte"===e?function(e){return function(t){const n=Ru(e)(t);if(1===n.tag)return new $n(1,"Error",n.fields[0]);{let i,o;if(o=Ln(r),i=sr(n.fields[0],o)){const e=Dn(r,n.fields[0].toString());return new $n(0,"Ok",e)}{const n=[e,new Er(1,"BadPrimitiveExtra",En(r),t,"Unkown value provided for the enum")];return new $n(1,"Error",n)}}}}:"System.Byte"===e?function(e){return function(t){const n=Pu(e)(t);if(1===n.tag)return new $n(1,"Error",n.fields[0]);{let i,o;if(o=Ln(r),i=sr(n.fields[0],o)){const e=Dn(r,n.fields[0].toString());return new $n(0,"Ok",e)}{const n=[e,new Er(1,"BadPrimitiveExtra",En(r),t,"Unkown value provided for the enum")];return new $n(1,"Error",n)}}}}:"System.Int16"===e?function(e){return function(t){const n=Mu(e)(t);if(1===n.tag)return new $n(1,"Error",n.fields[0]);{let u,s;if(s=Ln(r),u=sr(n.fields[0],s)){const e=Dn(r,(i=(i=n.fields[0])<0&&null!=o&&10!==o?65535+i+1:i).toString(o));return new $n(0,"Ok",e)}{const n=[e,new Er(1,"BadPrimitiveExtra",En(r),t,"Unkown value provided for the enum")];return new $n(1,"Error",n)}}var i,o}}:"System.UInt16"===e?function(e){return function(t){const n=Ou(e)(t);if(1===n.tag)return new $n(1,"Error",n.fields[0]);{let i,o;if(o=Ln(r),i=sr(n.fields[0],o)){const e=Dn(r,n.fields[0].toString());return new $n(0,"Ok",e)}{const n=[e,new Er(1,"BadPrimitiveExtra",En(r),t,"Unkown value provided for the enum")];return new $n(1,"Error",n)}}}}:"System.Int32"===e?function(e){return function(t){const n=Lu(e)(t);if(1===n.tag)return new $n(1,"Error",n.fields[0]);{let i,o;if(o=Ln(r),i=sr(n.fields[0],o)){const e=Dn(r,Ae(n.fields[0]));return new $n(0,"Ok",e)}{const n=[e,new Er(1,"BadPrimitiveExtra",En(r),t,"Unkown value provided for the enum")];return new $n(1,"Error",n)}}}}:"System.UInt32"===e?function(e){return function(t){const n=Fu(e)(t);if(1===n.tag)return new $n(1,"Error",n.fields[0]);{let i,o;if(o=Ln(r),i=sr(n.fields[0],o)){const e=Dn(r,n.fields[0].toString());return new $n(0,"Ok",e)}{const n=[e,new Er(1,"BadPrimitiveExtra",En(r),t,"Unkown value provided for the enum")];return new $n(1,"Error",n)}}}}:(i=Ut(It("Cannot generate auto decoder for %s.\nThoth.Json.Net only support the folluwing enum types:\n- sbyte\n- byte\n- int16\n- uint16\n- int\n- uint32\nIf you can't use one of these types, please pass an extra decoder.\n                    ")),function(e){const t=i(e);return function(e){const n=t(e);return function(e){return n(e)}}})(En(r))}if(Rn(r)){if(zn(r)){let n;const i=_n(r);return n=Ji((function(n){return Ku(e,t,!1,n)}),i,Array),function(e){return function(t){if(Array.isArray(t)){return Jn((function(e){return ro(e,Array)}),$u("tuple elements",n,e,t))}{const n=[e,new Er(0,"BadPrimitive","an array",t)];return new $n(1,"Error",n)}}}}{const i=En(Mn(r));if("Microsoft.FSharp.Core.FSharpOption`1[System.Object]"===i){let n,i;const o=fn(r)[0];return i=Ku(e,t,!0,o),n=function(e){return function(t){return n=We(2,i),r=e,null==(o=t)?new $n(0,"Ok",null):Jn((function(e){return jn(e)}),n(r,o));var n,r,o}}}if("Microsoft.FSharp.Collections.FSharpList`1[System.Object]"===i){let n,i;const o=fn(r)[0];return i=Ku(e,t,!1,o),n=function(e){return function(t){return Uu(We(2,i),e,t)}}}if("Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]"===i){let n;const i=fn(r)[0];let u;n=Ku(e,t,!1,i);const s=fn(r)[1];let a;u=Ku(e,t,!1,s);const f=au([function(e){return function(t){return function(e,t,n,r){if(null===r||Object.getPrototypeOf(r||!1)!==Object.prototype){const e=[n,new Er(0,"BadPrimitive","an object",r)];return new $n(1,"Error",e)}return lr((function(i,o){if(0===i.tag){let u;if(0===(u=Ge(1,e,[n])(o)).tag){const e=t(n+"."+o,r[o]);if(0===e.tag){const t=new Zt([u.fields[0],e.fields[0]],i.fields[0]);return new $n(0,"Ok",t)}return new $n(1,"Error",e.fields[0])}return new $n(1,"Error",u.fields[0])}return i}),new $n(0,"Ok",new Zt),Object.keys(r))}(We(2,n),We(2,u),e,t)}},(c=We(2,n),l=We(2,u),o=function(e){return function(t){return ju((function(e,t,n){return ju((function(t,n,r){return Hu([e,t])}),(function(e,t){return zu(1,l,e,t)}),t,n)}),(function(e,t){return zu(0,c,e,t)}),e,t)}},function(e){return function(t){return Uu(We(2,o),e,t)}})]);return a=function(e){return function(t){return n=e,r=t,function(e,t){e:for(;;){const i=e,o=t;if(null==i.tail){const e=[n,new Er(7,"BadOneOf",o)];return new $n(1,"Error",e)}{const u=Tu(n,We(2,i.head),r);if(1===u.tag){e=i.tail,t=su(o,new Zt(u.fields[0],new Zt));continue e}return new $n(0,"Ok",u.fields[0])}}}(f,new Zt);var n,r}},function(e){return function(t){return Wu((function(e){return qu(e)}),We(2,a),e,t)}}}if("Microsoft.FSharp.Collections.FSharpSet`1[System.Object]"===i){let n;const i=fn(r)[0];return n=Ku(e,t,!1,i),function(e){return function(t){const r=Vu(We(2,n),e,t);if(0===r.tag){let e;const t=qi(r.fields[0],{Compare:ke});return new $n(0,"Ok",e=t)}return new $n(1,"Error",r.fields[0])}}}return Zu(e,t,n,r)}}return"System.Boolean"===u?function(e){return function(t){return function(e,t){if("boolean"==typeof t)return new $n(0,"Ok",t);{const n=[e,new Er(0,"BadPrimitive","a boolean",t)];return new $n(1,"Error",n)}}(e,t)}}:"Microsoft.FSharp.Core.Unit"===u?function(e){return function(t){return function(e,t){if(null==t)return new $n(0,"Ok",null);{const n=[e,new Er(0,"BadPrimitive","null",t)];return new $n(1,"Error",n)}}(e,t)}}:"System.String"===u?function(e){return function(t){return function(e,t){if("string"==typeof t)return new $n(0,"Ok",t);{const n=[e,new Er(0,"BadPrimitive","a string",t)];return new $n(1,"Error",n)}}(e,t)}}:"System.SByte"===u?Ru:"System.Byte"===u?Pu:"System.Int16"===u?Mu:"System.UInt16"===u?Ou:"System.Int32"===u?Lu:"System.UInt32"===u?Fu:"System.Double"===u?function(e){return function(t){return function(e,t){if("number"==typeof t)return new $n(0,"Ok",t);{const n=[e,new Er(0,"BadPrimitive","a float",t)];return new $n(1,"Error",n)}}(e,t)}}:"System.Single"===u?function(e){return function(t){return function(e,t){if("number"==typeof t)return new $n(0,"Ok",t);{const n=[e,new Er(0,"BadPrimitive","a float32",t)];return new $n(1,"Error",n)}}(e,t)}}:"System.DateTime"===u?function(e){return function(t){return Bu(e,t)}}:"System.DateTimeOffset"===u?function(e){return function(t){return ku(e,t)}}:"System.TimeSpan"===u?function(e){return function(t){return _u(e,t)}}:"System.Guid"===u?function(e){return function(t){return function(e,t){if("string"==typeof t){const n=jt(t,!0);if(n[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","a guid",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","a guid",t)];return new $n(1,"Error",n)}}(e,t)}}:"System.Object"===u?function(e){return function(e){return new $n(0,"Ok",e)}}:Zu(e,t,n,r)}{const e=s;return function(t){return function(n){return e.contents(t)(n)}}}var c,l}function Qu(e){if(null!=e){return gi((function(e,t){return new on(t[1])}),e.Coders)}return xi({Compare:Fe})}Object.defineProperty(Xu.prototype,"Required",{get:function(){return this.required}}),Object.defineProperty(Xu.prototype,"Optional",{get:function(){return this.optional}});qt((function(){}));const es=qt((function(e,t){this.width=e,this.height=t}),nn);function ts(){return wn("Models.Size")}function ns(e,t){return this instanceof es?es.call(this,e,t):new es(e,t)}function rs(e){return e.width}function is(e){return e.height}es.prototype.toString=function(){return"("+Ae(0|rs(this))+","+Ae(0|is(this))+")"};const os=qt((function(e,t){this.x=e,this.y=t}),nn);function us(){return wn("Models.Position")}function ss(e,t){return this instanceof os?os.call(this,e,t):new os(e,t)}function cs(e){return e.x}function ls(e){return e.y}function as(){return ss(0,0)}os.prototype.toString=function(){return"("+Ae(0|cs(this))+","+Ae(0|ls(this))+")"};const fs=qt((function(e,t){this.name=e,this.smooth=t,this.data=new qn(0,"Choice1Of4",null)}));function ds(e,t){return this instanceof fs?fs.call(this,e,t):new fs(e,t)}function hs(e){return e.name}const ws=qt((function(e,t,n){this.Texture=e,this.TextureSliceSize=t,this.TextureSlicePosition=n}),nn);const ps=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const gs=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const vs=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const ms=qt((function(e,t,n,r,i,o,u){this.Position=e,this.Size=t,this.Texture=n,this.TextureSliceSize=r,this.TextureSlicePosition=i,this.HeightMap=o,this.Effect=u}),nn);const xs=qt((function(e,t,n,r,i,o,u,s,c,l){this.Position=e,this.Children=t,this.Shader=n,this.Scale=0|r,this.ActiveArea=i,this.Enter=o,this.Clicked=u,this.Dragging=s,this.Blur=c,this.Leave=l}),nn);const As=qt((function(e,t,n,r){this.Size=e,this.Children=t,this.Shader=n,this.ActiveArea=r}),nn);const bs=qt((function(e,t){this.Key=e,this.Last=t}),nn);const ys=qt((function(e,t){this.Render=e,this.Last=t}),nn);const Ss=qt((function(e,t,n){this.Render=e,this.Rendered=t,this.Last=n}),nn);qt((function(e,t,n,r,i){this.Count=0|e,this.Texture=t,this.HeightMapTexture=n,this.Size=r,this.Child=i}),nn);const Es=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Ts=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Cs=qt((function(e,t,n,r){this.Point=e,this.Start=t,this.End=n,this.Direction=r}),nn);qt((function(e,t,n,r){this.Point=e,this.Start=t,this.End=n,this.Direction=r}),nn);const Rs=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Ps=qt((function(e,t){this.Id=e,this.Actions=t}),nn);const Ms=qt((function(e,t){this.Position=e,this.Items=t}),nn);const Os=qt((function(e,t,n,r,i){this.Visible=e,this.Items=t,this.Offset=0|n,this.Hover=r,this.Selected=i}),nn);const Ls=qt((function(e,t,n,r,i,o,u,s,c){this.SomeValue=e,this.Dragger=t,this.WorldMapSize=n,this.WorldMap=r,this.ActivePoint=i,this.HoverPoint=o,this.Players=u,this.Menu=s,this.Weather=c}),nn);const Fs=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Ds=qt((function(e,t,n,r,i,o,u,s){this.Scale=0|e,this.Resolution=t,this.Content=n,this.MouseItem=r,this.DragItem=i,this.ClickItem=o,this.HoverItem=u,this.BlurItem=s}),nn);const Bs=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const ks=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const _s=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Is=qt((function(e,t,n,r){this.TextureName=e,this.SlicePosition=t,this.SliceSize=n,this.RenderOffset=r}),nn);const Ns=qt((function(e,t,n,r,i,o){this.Options=e,this.TextureName=t,this.SlicePosition=n,this.SliceSize=r,this.RenderOffset=i,this.HeightMap=o}),nn);const zs=qt((function(e){this.Layers=e}),nn);const Us=qt((function(e,t,n){this.Name=e,this.Frames=t,this.Size=n}),nn);function Vs(){return pn("Models.SpriteResource",[],Us,()=>[["Name",bn],["Frames",xn(pn("Models.Frame",[],zs,()=>[["Layers",xn(pn("Models.Layer",[],Ns,()=>[["Options",xn(gn("Models.LayerOption",[],_s,()=>["NoHighlight",["Shadow",[yn,yn]],"Ground","Leaf",["AutoHeightMap",[yn]]]))],["TextureName",bn],["SlicePosition",us()],["SliceSize",ts()],["RenderOffset",us()],["HeightMap",vn(pn("Models.LayerHeightMap",[],Is,()=>[["TextureName",bn],["SlicePosition",us()],["SliceSize",ts()],["RenderOffset",us()]]))]]))]]))],["Size",ts()]])}function Hs(e){return String(e)}function js(e){const t={};return fr((function(e){t[e[0]]=e[1]}),e),t}function Ws(e){return String(e)}qt((function(){}));const Gs=new Cr("",xi({Compare:Fe}));function Xs(e){var t,n;return js([["x",(t=0|cs(e),t)],["y",(n=0|ls(e),n)]])}function Ys(e){var t,n;return js([["width",(t=0|rs(e),t)],["height",(n=0|is(e),n)]])}const qs=(()=>{let e,t,n;n=new Cr(Wt(),di("System.Int64",[Ws,Du],Gs.Coders)),t=new Cr(Wt(),di("System.Decimal",[Hs,function(e){return function(t){return function(e,t){if("number"==typeof t){let e;return e=new yt(t),new $n(0,"Ok",e)}if("string"==typeof t){const n=Et(t);if(n[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","a decimal",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","a decimal",t)];return new $n(1,"Error",n)}}(e,t)}}],n.Coders));const r=function(e){return function(t){return Yu((function(e){return ss(e.Required.Field("x",We(2,Lu)),e.Required.Field("y",We(2,Lu)))}),e,t)}};e=new Cr(Wt(),di("Models.Position",[Xs,r],t.Coders));const i=function(e){return function(t){return Yu((function(e){return ns(e.Required.Field("width",We(2,Lu)),e.Required.Field("height",We(2,Lu)))}),e,t)}};return new Cr(Wt(),di("Models.Size",[Ys,i],e.Coders))})();!function(){this instanceof yr?yr.call(this):new yr}();class $s{constructor(e=!1){this._id=0,this._cancelled=e,this._listeners=new Map}get isCancelled(){return this._cancelled}cancel(){if(!this._cancelled){this._cancelled=!0;for(const[,e]of this._listeners)e()}}addListener(e){const t=this._id;return this._listeners.set(this._id++,e),t}removeListener(e){return this._listeners.delete(e)}register(e,t){const n=this,r=this.addListener(null==t?e:()=>e(t));return{Dispose(){n.removeListener(r)}}}}class Js extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,Js.prototype)}}class Zs{constructor(){this.callCount=0}static get maxTrampolineCallCount(){return 2e3}incrementAndCheck(){return this.callCount++>Zs.maxTrampolineCallCount}hijack(e){this.callCount=0,setTimeout(e,0)}}function Ks(e){return t=>{if(t.cancelToken.isCancelled)t.onCancel(new Js);else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(()=>{try{e(t)}catch(e){t.onError(e)}});else try{e(t)}catch(e){t.onError(e)}}}function Qs(e,t){return Ks(n=>{e({onSuccess:e=>{try{t(e)(n)}catch(e){n.onError(e)}},onError:n.onError,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline})})}function ec(e){return Ks(t=>t.onSuccess(e))}const tc=new class{Bind(e,t){return Qs(e,t)}Combine(e,t){return this.Bind(e,()=>t)}Delay(e){return Ks(t=>e()(t))}For(e,t){const n=e[Symbol.iterator]();let r=n.next();return this.While(()=>!r.done,this.Delay(()=>{const e=t(r.value);return r=n.next(),e}))}Return(e){return ec(e)}ReturnFrom(e){return e}TryFinally(e,t){return Ks(n=>{e({onSuccess:e=>{t(),n.onSuccess(e)},onError:e=>{t(),n.onError(e)},onCancel:e=>{t(),n.onCancel(e)},cancelToken:n.cancelToken,trampoline:n.trampoline})})}TryWith(e,t){return Ks(n=>{e({onSuccess:n.onSuccess,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline,onError:e=>{try{t(e)(n)}catch(e){n.onError(e)}}})})}Using(e,t){return this.TryFinally(t(e),()=>e.Dispose())}While(e,t){return e()?this.Bind(t,()=>this.While(e,t)):this.Return(void 0)}Zero(){return Ks(e=>e.onSuccess(void 0))}};function nc(e){}function rc(e){return t=t=>e.then(t[0]).catch(e=>(e instanceof Js?t[2]:t[1])(e)),Ks(e=>t([e.onSuccess,e.onError,e.onCancel]));var t}const ic=new $s;function oc(e,t){return function(e,t){return uc(e,t)}(e,t)}function uc(e,t,n,r,i){"function"!=typeof t&&(i=t,t=null);const o=new Zs;e({onSuccess:t||nc,onError:n||nc,onCancel:r||nc,cancelToken:i||ic,trampoline:o})}function sc(e){return e.createBuffer()}function cc(e,t,n){let r;r=Zi((function(e){return[e[0],e[1]]}),n,Array),e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW)}function lc(e,t,n){let r;r=Zi((function(e){return[e[0],e[1],e[2],e[3]]}),n,Array),e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW)}function ac(e,t,n){e.viewport(0,0,t,n)}function fc(e,t,n){e.clearColor(0,0,0,0),e.clear(~~e.COLOR_BUFFER_BIT|~~e.DEPTH_BUFFER_BIT)}function dc(e){return 0!==e&&0==(e&e-1)}function hc(e){return e.createFramebuffer()}function wc(e,t){e.bindFramebuffer(e.FRAMEBUFFER,t)}function pc(e,t,n){let r;switch(t){case 0:r=e.COLOR_ATTACHMENT0;break;case 1:r=e.COLOR_ATTACHMENT1;break;case 2:r=e.COLOR_ATTACHMENT2;break;case 3:r=e.COLOR_ATTACHMENT3;break;case 4:r=e.COLOR_ATTACHMENT4;break;default:throw new Error(">4")}e.framebufferTexture2D(e.FRAMEBUFFER,r,e.TEXTURE_2D,n,0)}function gc(e){e.bindFramebuffer(e.FRAMEBUFFER,null)}const vc=Ne((function(e){throw new Error("Dispatch not set")}));function mc(e){vc()(new ks(1,"Game",e))}function xc(e){vc()(new ks(0,"Host",e))}const Ac=Ne((function(e){throw new Error("getSprite not set")})),bc=2400;function yc(){let e=et();const t=function(t){const n=tt(e,t);return e=n,n};let n;const r=new ps(1,"Snow"),i=new Os(!1,au(["Build Fence","Pick Apple","Chop Down Tree","Collect Rock","Walk"]),-46,null,null);let o,u;var s;return o=vi(u=cu((function(e){return[e.Id,e]}),new Zt(new Ps("Player1",au([new Rs(1,"Idle",new Cs([0,1],Ze(),Ze(),new Ts(2,"East"))),new Rs(1,"Idle",new Cs([0,1],e,t((s=5,Au(0,0,s))),new Ts(2,"East"))),new Rs(0,"Move",new Cs([1,1],e,t(bc),new Ts(2,"East"))),new Rs(0,"Move",new Cs([2,1],e,t(bc),new Ts(2,"East"))),new Rs(0,"Move",new Cs([2,2],e,t(bc),new Ts(1,"South"))),new Rs(0,"Move",new Cs([1,2],e,t(bc),new Ts(3,"West"))),new Rs(0,"Move",new Cs([1,1],e,t(bc),new Ts(0,"North"))),new Rs(1,"Idle",new Cs([1,1],e,Je(0xe677d21fdbff,0),new Ts(2,"East")))])),new Zt)),{Compare:Fe}),[n=new Ls("Hello world",[0,0],[10,10],vi(wu((function(e){return uu(e[1].Items)>0}),function(e){return iu(lr((function(e,t){return ru((function(e,t){return new Zt(t,e)}),e,t)}),new Zt,e))}(pu(10,(function(e){return pu(10,(function(t){const n=au(5===t&&5===e?["Temp Floor","Tree - Main"]:["Grass","Temp Floor"]);return[[t,e],new Ms([t,e],n)]}))})))),{Compare:Be}),null,null,o,i,r),au([new Fs(5,"UpdatePlayer","Player1"),new Fs(5,"UpdatePlayer","Player2")])]}function Sc(e,t,n){var r,i,o,u,s,c,l,a,f,d,h,w,p,g,v,m,x;switch(n.tag){case 1:return[(r=[t.Dragger[0]+n.fields[0],t.Dragger[1]+n.fields[1]],i=new Os(!1,t.Menu.Items,t.Menu.Offset,t.Menu.Hover,t.Menu.Selected),new Ls(t.SomeValue,r,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,i,t.Weather)),new Zt];case 3:return[(null,new Ls(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,null,t.Players,t.Menu,t.Weather)),new Zt];case 2:return[(o=[n.fields[0],n.fields[1]],new Ls(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,o,t.Players,t.Menu,t.Weather)),new Zt];case 4:return[(u=[n.fields[0],n.fields[1]],s=[n.fields[0],n.fields[1]],c=new Os(!0,t.Menu.Items,t.Menu.Offset,t.Menu.Hover,t.Menu.Selected),new Ls(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,s,u,t.Players,c,t.Weather)),new Zt];case 5:{let r;if(null!=(r=wi(n.fields[0],t.Players))){const i=r;let o;if(Oe(o=wu((function(t){return t.tag,rt(e,t.fields[0].End)<=0}),i.Actions),i.Actions))return[t,new Zt];{const e=new Ps(i.Id,o);return[(l=di(n.fields[0],e,t.Players),new Ls(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,l,t.Menu,t.Weather)),ou(ir((function(){let e;var t,r,i;return t=function(e){return e.tag,e.fields[0].End},r=o,null==(e=iu(ru((function(e,n){const r=t(n);return null==r?e:new Zt(Wn(r),e)}),new Zt,r))).tail?or():xr(new Fs(6,"Postponed",(i={Compare:rt},gu((function(e,t){return i.Compare(t,e)>0?e:t}),e)),new Fs(5,"UpdatePlayer",n.fields[0])))})))]}}return[t,new Zt]}case 7:return[(f=t.Menu.Offset+n.fields[0]|0,a=new Os(t.Menu.Visible,t.Menu.Items,f,t.Menu.Hover,t.Menu.Selected),new Ls(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,a,t.Weather)),new Zt];case 8:return Oe(n.fields[0],t.Menu.Selected)?[(d=new Os(!1,t.Menu.Items,t.Menu.Offset,t.Menu.Hover,t.Menu.Selected),new Ls(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,d,t.Weather)),new Zt]:[(p=0|(g=0|Ie(Fe,0,n.fields[0]),v=uu(t.Menu.Items)-1|0,_e(Fe,v,g)),w=p,h=new Os(t.Menu.Visible,t.Menu.Items,t.Menu.Offset,t.Menu.Hover,w),new Ls(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,h,t.Weather)),new Zt];case 9:return[(m=new Os(t.Menu.Visible,t.Menu.Items,t.Menu.Offset,n.fields[0],t.Menu.Selected),new Ls(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,m,t.Weather)),new Zt];case 6:return[t,new Zt];case 10:return[(x=1===t.Weather.tag?new ps(2,"Rain"):2===t.Weather.tag?new ps(3,"Normal"):3===t.Weather.tag?new ps(1,"Snow"):new ps(0,"Fog"),new Ls(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,t.Menu,x)),new Zt];default:return[t,new Zt]}}function Ec(e,t){return{Equals:(e,n)=>t(e,n),GetHashCode:t=>e(t)}}function Tc(){return Ec(Ce,Oe)}const Cc=new Map([]),Rc=new Map([]),Pc=Ai([],Tc()),Mc=Ai([],Tc()),Oc=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Lc=qt((function(e,t,n,r){this.PerRow=0|e,this.DefaultWidth=0|t,this.Height=0|n,this.Widths=r}),nn);new Lc(25,20,22,new Int32Array([6,6,10,14,13,15,15,6,9,9,12,11,6,11,6,11,13,7,12,13,11,12,13,10,12,13,6,6,12,11,12,12,12,12,13,13,13,10,9,13,13,5,11,12,9,17,13,13,13,13,13,13,10,13,12,17,12,12,11,8,11,8,12,11,8,11,11,10,11,10,9,11,12,6,6,10,5,18,12,11,11,11,9,10,6,12,10,18,9,12,9,8,6,8,11])),new Lc(7,65,65,new Int32Array([19,25,31,38,38,62,58,14,25,25,38,42,19,25,19,21,38,38,38,38,38,38,38,38,38,38,21,21,42,42,42,33,69,54,50,50,54,46,42,54,54,25,29,54,46,67,54,54,42,54,50,42,46,54,54,71,54,54,46,25,21,25,35,38,25,33,38,33,38,33,25,38,38,21,21,38,21,58,38,38,38,38,25,29,21,38,38,54,38,38,33,36,15,36,41]));const Fc=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Dc=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);qt((function(){}));function Bc(e,t,n){return function(r){let i;const o=ns(cs((i=Ic(r,0,0))[1])-cs(i[0]),ls(i[1])-ls(i[0]));let u,s;const c=new Fc(0,"Left");switch((s=Gn(t,c)).tag){case 1:u=~~((rs(e)-rs(o))/2);break;case 2:u=rs(e)-rs(o);break;default:u=0}let l,a;const f=new Dc(0,"Top");switch((a=Gn(n,f)).tag){case 1:l=~~((is(e)-is(o))/2);break;case 2:l=is(e)-is(o);break;default:l=0}return Nc(u,l)(r)}}function kc(e){let t;const n=ge(Cc,e,null);if(null!=(t=n[0]?jn(n[1]):null)){return t}{const t=ds(e,!1);return Ye(Cc,e,t),t}}function _c(e,t,n,r,i,o,u,s){var c,l;let a,f;if(a=Gn(e,0),f=Gn(t,0),null!=s){const e=s,t=new ms(ss(a+cs(e.RenderOffset),f+ls(e.RenderOffset)),ns(0|Gn(r,0|rs(e.SliceSize)),0|Gn(i,0|is(e.SliceSize))),kc(e.TextureName),e.SliceSize,e.SlicePosition,null!=e.HeightMap?(c=e.HeightMap,new ws(kc(c.TextureName),c.SliceSize,c.SlicePosition)):null,(d=function(e){switch(e.tag){case 3:return new vs(0,"Leaf");case 1:return new vs(1,"Shadow",e.fields[0],e.fields[1]);default:return null}},h=e.Options,null!=(l=function(e){e:for(;;){const t=e;if(t>=h.length)return null;{const n=d(h[t]);if(null==n){e=t+1;continue e}return n}}}(0))?l:null));return new Es(0,"Sprite",t)}{let e,t,s;e=Gn(r,32),t=Gn(i,32),s=Gn(n,"");const c=new ms(ss(a,f),ns(e,t),kc(s),Xn(o,(function(){return ns(e,t)})),Xn(u,(function(){return ss(0,0)})),null,null);return new Es(0,"Sprite",c)}var d,h}function Ic(e,t,n){let r=ss(0,0),i=ss(0,0);return lu((function(e){var o,u,s,c,l,a,f,d,h,w,p,g;e:for(;;){const v=e;switch(v.tag){case 1:r=ss((o=0|cs(r),_e(Fe,0|cs(v.fields[0].ActiveArea[0])+t,o)),(u=0|ls(r),_e(Fe,0|ls(v.fields[0].ActiveArea[0])+n,u))),i=ss((s=0|cs(i),Ie(Fe,0|cs(v.fields[0].ActiveArea[1])+t,s)),(c=0|ls(i),Ie(Fe,0|ls(v.fields[0].ActiveArea[1])+n,c)));break;case 2:e=v.fields[0].Last;continue e;case 3:r=ss((l=0|cs(r),_e(Fe,0|cs(v.fields[0].ActiveArea[0])+t,l)),(a=0|ls(r),_e(Fe,0|ls(v.fields[0].ActiveArea[0])+n,a))),i=ss((f=0|cs(i),Ie(Fe,0|cs(v.fields[0].ActiveArea[1])+t,f)),(d=0|ls(i),Ie(Fe,0|ls(v.fields[0].ActiveArea[1])+n,d)));break;case 4:case 5:e=v.fields[0].Last;continue e;case 6:break;default:r=ss((h=0|cs(r),_e(Fe,cs(v.fields[0].Position)+t|0,h)),(w=0|ls(r),_e(Fe,ls(v.fields[0].Position)+n|0,w))),i=ss((p=0|cs(i),Ie(Fe,cs(v.fields[0].Position)+rs(v.fields[0].Size)+t|0,p)),(g=0|ls(i),Ie(Fe,ls(v.fields[0].Position)+is(v.fields[0].Size)+n|0,g)))}break}}),e),[r,i]}function Nc(e,t,n,r,i,o,u,s,c){return function(l){let a,f,d,h,w;switch(a=wu((function(e){return 6!==e.tag}),l),f=Gn(e,0),d=Gn(t,0),h=Gn(r,1),w=Ic(a,f,d),null!=a.tail&&1===a.head.tag?(a.tail.tail,1):1){case 0:{let e,t;const r=ss(f,d);let l,a,h;if(t=ss(cs(r)+cs((void 0).Position),ls(r)+ls((void 0).Position)),null!=(void 0).Shader){l=(void 0).Shader}else l=n;if(null!=(void 0).Enter){a=(void 0).Enter}else a=i;if(null!=(void 0).Leave){h=(void 0).Leave}else h=o;return e=new xs(t,(void 0).Children,l,(void 0).Scale,[w[0],w[1]],a,null!=(void 0).Clicked?(void 0).Clicked:u,null!=(void 0).Dragging?(void 0).Dragging:s,null!=(void 0).Blur?(void 0).Blur:c,h),new Es(1,"Relative",e)}case 1:switch(null!=a.tail?6===a.head.tag&&null==a.tail.tail?0:1:0){case 0:return new Es(6,"Empty");case 1:{let e;const t=ss(f,d),r=ro(a,Array);return e=new xs(t,r,n,h,[w[0],w[1]],i,u,s,c,o),new Es(1,"Relative",e)}}}}}function zc(e){return new Es(2,"Dynamic",new ys(e,e(et())))}function Uc(e,t,n){return function(r){let i;const o=new gs(0,"Default");let u,s;return i=Gn(n,o),s=ro(r,Array),u=new As(ns(e,t),s,i,[ss(0,0),ss(e,t)]),new Es(3,"SubRender",u)}}function Vc(e,t){return function(n){return r=function(){let r,i;const o=ge(Rc,e,null);if(null!=(i=o[0]?jn(o[1]):null))r=i;else{let n;n=t(),Rc.set(e,n),r=n}return new Es(4,"Stateful",new bs(e,n(r)))},new Es(5,"NoCache",new Ss(r,!0,r()));var r}}function Hc(e){return function(t){const n=ge(Pc,e,null);if(n[0])return n[1];{const n=t(new Oc(0,"DoNotUseModelInsideDependsOn"),e);return r=e,i=n,Pc.size>5e4&&Pc.clear(),Pc.set(r,i),n}var r,i}}const jc=Ne(ns(0,0)),Wc=Ne(ns(0,0)),Gc=Ne(null);function Xc(e,t,n,r){const i=[];let o;if(function t(r,o,u,s){e:for(;;){const c=r,l=o,a=u,f=s;switch(f.tag){case 1:{let r;const i=ss(cs(f.fields[0].ActiveArea[0])*a,ls(f.fields[0].ActiveArea[0])*a);let o;r=ss(cs(i)+cs(l),ls(i)+ls(l));const u=ss(cs(f.fields[0].ActiveArea[1])*a,ls(f.fields[0].ActiveArea[1])*a);if(o=ss(cs(u)+cs(l),ls(u)+ls(l)),cs(e)>=cs(r)&&ls(e)>=ls(r)&&cs(e)<cs(o)&&ls(e)<ls(o)){let e;const r=ss(cs(f.fields[0].Position)*a,ls(f.fields[0].Position)*a);let i;e=ss(cs(r)+cs(l),ls(r)+ls(l));const o=n(f.fields[0]);if(null!=o){i=su(new Zt([Wn(o),f.fields[0]],new Zt),c)}else i=c;const u=Ge(1,t,[i,e,a]);f.fields[0].Children.forEach(u)}break}case 3:{const n=ns(rs(f.fields[0].Size)*a,is(f.fields[0].Size)*a);if(cs(e)>=cs(l)&&ls(e)>=ls(l)&&cs(e)<cs(l)+rs(n)&&ls(e)<ls(l)+is(n)){const e=Ge(1,t,[c,l,a]);f.fields[0].Children.forEach(e)}break}case 2:case 4:case 5:r=c,o=l,u=a,s=f.fields[0].Last;continue e;case 6:break;default:if(uu(c)>0){let t;const n=ss(cs(f.fields[0].Position)*a,ls(f.fields[0].Position)*a);t=ss(cs(n)+cs(l),ls(n)+ls(l));const r=ns(rs(f.fields[0].Size)*a,is(f.fields[0].Size)*a);cs(e)>=cs(t)&&ls(e)>=ls(t)&&cs(e)<cs(t)+rs(r)&&ls(e)<ls(t)+is(r)&&i.splice(0,0,c)}}break}}(new Zt,ss(0,0),t,r),null!=(o=ar(i))){return ar(o)}return null}function Yc(e,t){var n,r;const i=function(e,t,n,r,i,o){const u=n-i|0,s=r-o|0,c=0|~~(u/e.Scale),l=0|(u>=0?n-u%e.Scale:n+(0-u)%e.Scale),a=0|~~(s/e.Scale),f=0|(s>=0?r-s%e.Scale:r+(0-s)%e.Scale);t([c,a]);const d=new qn(2,"Choice3Of3",[l,f]);return new Ds(e.Scale,e.Resolution,e.Content,d,e.DragItem,e.ClickItem,e.HoverItem,e.BlurItem)},o=function(e,t){var n,r,i;switch(null==e?n=null==t?1:2:null!=t?(n=0,r=Wn(e),i=Wn(t)):n=2,n){case 0:return r===i;case 1:return!0;case 2:return!1}};switch(t.tag){case 1:var u,s,c,l;switch(null!=e.DragItem&&null!=e.DragItem.Dragging&&1===e.MouseItem.tag?(e.DragItem.Dragging,Math.abs(e.MouseItem.fields[0][0]-t.fields[0])>2||Math.abs(e.MouseItem.fields[0][1]-t.fields[1])>2||t.fields[2]?(u=0,s=e.DragItem.Dragging,c=e.MouseItem.fields[0][0],l=e.MouseItem.fields[0][1]):u=1):u=1,u){case 0:return[i(e,s,t.fields[0],t.fields[1],c,l),new Zt];case 1:var a,f,d,h;switch(null!=e.DragItem&&null!=e.DragItem.Dragging&&2===e.MouseItem.tag?(a=0,f=e.DragItem.Dragging,d=e.MouseItem.fields[0][0],h=e.MouseItem.fields[0][1]):a=1,a){case 0:return[i(e,f,t.fields[0],t.fields[1],d,h),new Zt];case 1:{let n,r;if(n=Yn((function(e){return e[1]}),r=Xc(ss(t.fields[0],t.fields[1]),e.Scale,(function(e){return e.Enter}),e.Content)),o(e.HoverItem,n))return[e,new Zt];var w,p,g,v;switch(null!=e.HoverItem&&null!=e.HoverItem.Leave?(w=0,p=e.HoverItem.Leave):w=1,w){case 0:p()}switch(null!=n&&null!=n.Enter?(g=0,v=n.Enter):g=1,g){case 0:v()}return[new Ds(e.Scale,e.Resolution,e.Content,e.MouseItem,e.DragItem,e.ClickItem,n,e.BlurItem),new Zt]}}}case 2:var m,x,A,b;if(!o(e.ClickItem,e.BlurItem))switch(null!=e.ClickItem&&null!=e.ClickItem.Blur?(m=0,x=e.ClickItem.Blur):m=1,m){case 0:x()}switch(null!=e.ClickItem&&null!=e.ClickItem.Clicked&&1===e.MouseItem.tag?(A=0,b=e.ClickItem.Clicked):A=1,A){case 0:b()}return[(null,n=new qn(0,"Choice1Of3",null),new Ds(e.Scale,e.Resolution,e.Content,n,e.DragItem,e.ClickItem,e.HoverItem,null)),new Zt];case 3:{const n=ns(t.fields[0],t.fields[1]);let r;return r=(0|Ie(Fe,t.fields[0],t.fields[1]))>1e3?2:1,jc(n),Wc(ns(~~(rs(n)/r),~~(is(n)/r))),Pc.clear(),[new Ds(r,n,e.Content,e.MouseItem,e.DragItem,e.ClickItem,e.HoverItem,e.BlurItem),new Zt(new Bs(4,"Redraw"),new Zt)]}case 4:case 5:case 6:return[e,new Zt];default:{const n=ss(t.fields[0],t.fields[1]);let i,o,u,s;return i=Yn((function(e){return e[1]}),o=Xc(n,e.Scale,(function(e){return e.Dragging}),e.Content)),u=Yn((function(e){return e[1]}),s=Xc(n,e.Scale,(function(e){return e.Clicked}),e.Content)),[(r=new qn(1,"Choice2Of3",[t.fields[0],t.fields[1]]),new Ds(e.Scale,e.Resolution,e.Content,r,i,u,e.HoverItem,e.ClickItem)),new Zt]}}}const qc=qt((function(e,t,n,r,i){this.Texture=e,this.TextureSize=t,this.TextureSlicePosition=n,this.TextureSliceSize=r,this.TextureSlice=i}),nn);qt((function(e,t,n){this.Size=e,this.GroupTexture=t,this.HeightMapTexture=n}),nn);function $c(e){return Nc()(ou(ir((function(){return hr((function(e){return _c(null,null,null,null,null,null,null,e)}),e.Frames[0].Layers)}))))}const Jc=qt((function(e,t,n,r){this.Start=e,this.Sprite=t,this.Slot=0|n,this.Result=r}),nn);const Zc=new me((function(){let e;return mi(e=Ji((function(e){var t,n;return[e,Ac()((t="'"===e?"Apostrophe":"("===e?"Open Parenthesis":")"===e?"Close Parenthesis":"-"===e?"Minus":e,n=zt(It("Menu Font - %s")),n(t)))]}),"ABCDEFGHIJKLMNOPQRSTUVWXYZ-'()".split(""),Array),{Compare:Fe})}));function Kc(e,t){return Hc([e,t])((function(e,t){const n=function(e){return hi(e,Zc.Value)};let r,i,o=0,u=0;r=Ji((function(e){return Xt(e,[" "],null,0)}),i=Xt(t[1].toUpperCase(),["\r\n"],null,0),Array);const s=[];s.push([]);for(let e=0;e<=r.length-1;e++){const i=r[e];for(let e=0;e<=i.length-1;e++){const r=i[e],c=r.length-1+no((function(e){return 0|rs(n(e).Size)}),r.split(""),{GetZero:()=>0,Add:(e,t)=>e+t})|0;o+c>t[0]&&(u+=10,o=0,s.push([])),fr((function(e){if(" "===e)o+=4;else{const t=n(e),r=0|rs(t.Size),i=0|o;o=o+r+1,s[s.length-1].push(_c(i,null,null,null,null,null,null,t.Frames[0].Layers[0]))}}),(r+" ").split(""))}}let c;return c=wr((function(e,t){return Nc(null,10*e)(ou(t))}),s),ou(c)}))}qt((function(e){this.Start=e}),nn);qt((function(e,t){this.Value=e,this.Active=t}),nn);const Qc=qt((function(e,t,n,r,i,o){this.Point=e,this.Start=t,this.End=n,this.SpriteResource=r,this.Slot=0|i,this.Result=o}),nn);function el(e){return e.filter((function(e){if(0===e.Options.length)return!0;{let t;return!(t=e.Options.some((function(e){return 1===e.tag})))}}))}function tl(e,t,n){var r,i,o;let u,s;var c;if(null!=(s=null!=(c=n.Actions).tail?jn(c.head):null)){const e=s,t=1===e.tag?[e.fields[0].Point,e.fields[0].Start,e.fields[0].End,e.fields[0].Direction,"Idle"]:[e.fields[0].Point,e.fields[0].Start,e.fields[0].End,e.fields[0].Direction,"Walk"];u=[t[0],t[1],t[2],(r=1===t[3].tag?"South":2===t[3].tag?"East":3===t[3].tag?"West":"North",i=zt(It("Player - %s - %s")),o=i(r),o(t[4]))]}else u=null;if(null!=u){const n=u[1],r=u[3],i=u[0],o=u[2];return Vc(e,(function(){return new Qc(i,n,o,Ac()(r),-1,new Es(6,"Empty"))}))((function(e){return zc((function(u){Me(e.Point,i)&&nt(e.Start,n)&&nt(e.End,o)&&e.SpriteResource.Name===r||(e.Point=i,e.Start=n,e.End=o,e.SpriteResource=Ac()(r),e.Slot=-1);const s=0|e.SpriteResource.Frames.length;let c;let l,a,f,d;c=it(e.End,e.Start);const h=it(u,e.Start)/c*s;if(l=Ie(Fe,0,a=_e(Fe,s-1|0,f=~~(d=Math.floor(h)))),e.Slot!==l){let n;if(t){const t=e.SpriteResource.Frames[l].Layers;n=t.filter((function(e){return e.Options.some((function(e){return 1===e.tag}))}))}else{const t=e.SpriteResource.Frames[l].Layers;n=el(t)}e.Result=Nc()(ou(ir((function(){return hr((function(e){return _c(null,null,null,null,null,null,null,e)}),n)}))))}return e.Result}))}))}return new Es(6,"Empty")}function nl(e,t){const n=ou(ir((function(){return hr((function(e){return Ac()(e)}),e.Items)})));return Nc(64*e.Position[0],64*e.Position[1])(new Zt(Nc(-128,-128)(au([Uc(320,256,new gs(4,"Color",1,1,1,.1*t))(new Zt(Nc(128,128)(ou(ir((function(){return rr((function(e){return rr((function(e){return 0!==e.Options.length&&Ki(new _s(0,"NoHighlight"),e.Options,{Equals:Oe,GetHashCode:Ce})?or():xr(_c(null,null,null,null,null,null,null,e))}),e.Frames[0].Layers)}),n)})))),new Zt)),Uc(320,256,new gs(7,"OutlineColor",1,1,1,.4*t))(new Zt(Nc(128,128)(ou(ir((function(){return rr((function(e){return rr((function(e){return 0!==e.Options.length&&Ki(new _s(0,"NoHighlight"),e.Options,{Equals:Oe,GetHashCode:Ce})?or():xr(_c(null,null,null,null,null,null,null,e))}),e.Frames[0].Layers)}),n)})))),new Zt))])),new Zt))}function rl(e){return Nc(e.Dragger[0],e.Dragger[1],null,null,null,null,null,(function(e){let t;mc(t=new Fs(1,"Drag",e[0],e[1]))}))(au([Hc([e.WorldMapSize,e.WorldMap,e.Players,e.Weather])((function(e,t){const n=Qi(t[0][1],(function(e){return Qi(t[0][0],(function(e){return[]}),Array)}),Array);pi((function(e,t){n[e[1]][e[0]].push(new qn(0,"Choice1Of2",t.Items))}),t[1]);const r=[];return pi((function(e,t){const i=null!=t.Actions.tail?(t.Actions.head.tag,t.Actions.head.fields[0].Point):null;if(null!=i){const e=0|i[1],o=0|i[0];n[e][o].push(new qn(1,"Choice2Of2",t)),"Player1"===t.Id&&r.push([[o,e],t])}}),t[2]),Nc()(ou(ir((function(){return tr(xr(Nc(null,null,new gs(2,"World"))(ou(ir((function(){return tr(xr(Hc(n)((function(e,t){return Nc(null,null,new gs(1,"HeightMap"))(ou(ir((function(){return rr((function(e){const n=t[e];return rr((function(t){let r,i;const o=n[t];var u,s;return u=function(e){return 0===e.tag?e.fields[0]:null},s=o,i=ir(()=>br(e=>{let t=e.next();for(;!t.done;){const n=u(t.value);if(null!=n)return[Wn(n),e];t=e.next()}return null},s[Symbol.iterator]())),r=ou(i),xr(Nc(64*t,64*e,null,null,(function(){mc(new Fs(2,"Hover",t,e))}),(function(){mc(new Fs(3,"Leave",t,e))}),(function(){mc(new Fs(4,"Select",t,e))}))(new Zt(Nc()(ou(ir((function(){return rr((function(e){return rr((function(e){let t;return hr((function(e){return _c(null,null,null,null,null,null,null,e)}),t=function(e){let t;return(t=el(e)).filter((function(e){return e.Options.some((function(e){return 2===e.tag}))}))}(Ac()(e).Frames[0].Layers))}),e)}),r)})))),new Zt)))}),gr(0,1,n.length-1))}),gr(0,1,t.length-1))}))))}))),ir((function(){return tr(hr((function(e){return Hc([e,n[e]])((function(e,t){return Nc(null,null,new gs(1,"HeightMap"))(ou(ir((function(){return rr((function(e){return rr((function(n){return 1===n.tag?xr(Nc(64*e,64*t[0])(new Zt(tl(zt(It("%s - Normal"))(n.fields[0].Id),!1,n.fields[0]),new Zt))):xr(Nc(64*e,64*t[0],null,null,(function(){mc(new Fs(2,"Hover",e,t[0]))}),(function(){mc(new Fs(3,"Leave",e,t[0]))}),(function(){mc(new Fs(4,"Select",e,t[0]))}))(ou(ir((function(){return rr((function(e){let t;return hr((function(e){return _c(null,null,null,null,null,null,null,e)}),t=function(e){let t;return(t=el(e)).filter((function(e){if(0===e.Options.length)return!0;{let t;return!(t=e.Options.some((function(e){return 2===e.tag})))}}))}(Ac()(e).Frames[0].Layers))}),n.fields[0])})))))}),t[1][e])}),gr(0,1,t[1].length-1))}))))}))}),gr(0,1,n.length-1)),ir((function(){switch(1===t[3].tag?0:0===t[3].tag?0:1){case 0:return or();case 1:return xr(Uc(rs(Wc()),is(jc()))(ou(ir((function(){return hr((function(e){return Hc([e,n[e],"Shadow"])((function(e,t){return Nc(null,null,new gs(10,"Shadow"))(ou(ir((function(){return rr((function(e){return rr((function(n){return 1===n.tag?xr(Nc(64*e,64*t[0])(new Zt(tl(zt(It("%s - Shadow"))(n.fields[0].Id),!0,n.fields[0]),new Zt))):or()}),t[1][e])}),gr(0,1,t[1].length-1))}))))}))}),gr(0,1,n.length-1))})))))}})))})))}))))),ir((function(){return rr((function(e){return xr(Nc(64*e[0][0],64*e[0][1])(new Zt(Nc(-64,-128)(new Zt(Uc(192,256,new gs(6,"Outline",.25))(new Zt(Nc(64,128)(new Zt(tl(zt(It("%s - Normal"))(e[1].Id),!1,e[1]),new Zt)),new Zt)),new Zt)),new Zt)))}),r)})))}))))})),Hc([e.WorldMap,e.ActivePoint,e.HoverPoint])((function(e,t){return Nc()(ou(ir((function(){var e,n;return tr(null!=t[1]?(e=0|t[1][1],null!=(n=wi([0|t[1][0],e],t[0]))?xr(Hc(n)((function(e,t){return nl(t,1)}))):or()):or(),ir((function(){if(Oe(t[1],t[2]))return or();if(null!=t[2]){const e=0|t[2][1];let n;if(null!=(n=wi([0|t[2][0],e],t[0]))){return xr(Hc(n)((function(e,t){return nl(t,.5)})))}return or()}return or()})))}))))}))]))}const il=[.5,.5,.5,1];function ol(e){return Hc("hud")((function(e,t){return Nc()(new Zt(Nc(null,null,null,null,null,null,(function(){mc(new Fs(10,"ChangeWeather"))}))(ou(ir((function(){const e=Kc(100,"Change Weather");let t,n;var r,i;return n=Ic(e,0,0),r=n[0],t=ns(cs(i=n[1])-cs(r),ls(i)-ls(r)+6),tr(xr(Nc(null,null,new gs(5,"BlockColor",il))(new Zt(_c(null,null,null,rs(t)+10,is(t)+5),new Zt))),ir((function(){return xr(Nc(5,5)(ou(ir((function(){return e})))))})))})))),new Zt))}))}function ul(e){return Nc()(ou(ir((function(){return tr(xr(rl(e)),ir((function(){return tr(1===e.Weather.tag?xr(Nc(null,null,new gs(8,"Snow"))(new Zt(_c(0,0,null,rs(Wc()),is(Wc())),new Zt))):2===e.Weather.tag?xr(Nc(null,null,new gs(9,"Rain"))(new Zt(_c(0,0,null,rs(Wc()),is(Wc())),new Zt))):or(),ir((function(){return tr(xr(Hc([(t=e).Dragger,t.ActivePoint,t.Menu])((function(e,t){return Nc()(ou(ir((function(){switch(t[2].Visible&&null!=t[1]?0:1){case 0:{const e=0|t[1][1],n=0|t[1][0],r=Hc("Menu Sprites")((function(e,t){return[Ac()("Menu - Empty"),Ac()("Menu - Top"),Ac()("Menu - Bottom"),Ac()("Menu - Book")]}));let i,o;o=_e(Fe,5,0|~~(is(Wc())/is(r[0].Size))),i=Ie(Fe,3,o);const u=is(r[0].Size)*(i-1)+is(r[1].Size)+is(r[2].Size)|0,s=ns(rs(r[1].Size)+rs(r[3].Size)+10,u),c=64*n+t[0][0]-rs(s)-10|0,l=c>=0;let a,f,d,h;return f=Ie(Fe,5,0|(l?c:64*n+t[0][0]+64+10)),a=_e(Fe,rs(Wc())-rs(r[0].Size)-5|0,f),h=Ie(Fe,5,64*e+t[0][1]-(~~(u/2)-32)|0),xr(Nc(a,d=_e(Fe,is(Wc())-u-5|0,h))(au([Bc(s,l?new Fc(0,"Left"):new Fc(2,"Right"),new Dc(1,"Middle"))(new Zt(Hc("Menu Extra Icons")((function(e,t){return Nc()(ou(ir((function(){const e=Ac()("Menu - Build"),t=Ac()("Menu - Grow");let n,i;const o=ns(rs(r[3].Size)+rs(e.Size),is(r[3].Size)+is(e.Size));let u;i=ns(rs(o)+rs(t.Size),is(o)+is(t.Size));const s=ns(0,4);return u=ns(2*rs(s),2*is(s)),n=ns(rs(i)+rs(u),is(i)+is(u)),xr(Nc(null,null,null,null,(function(){}),null,(function(){}))(au([Bc(n,new Fc(0,"Left"),new Dc(0,"Top"))(new Zt($c(r[3]),new Zt)),Bc(n,new Fc(0,"Left"),new Dc(1,"Middle"))(new Zt($c(e),new Zt)),Bc(n,new Fc(0,"Left"),new Dc(2,"Bottom"))(new Zt($c(t),new Zt))])))}))))})),new Zt)),Nc(null,null,null,null,null,null,null,(function(e){mc(new Fs(7,"MenuDrag",e[1]))}))(new Zt(Bc(s,l?new Fc(2,"Right"):new Fc(0,"Left"))(ou(ir((function(){const e=ns(rs(r[1].Size),u);return tr(xr(Hc("Menu Background")((function(t,n){return Nc(null,null,null,null,null,null,(function(){}))(au([Bc(e,new Fc(1,"Center"))(new Zt($c(r[1]),new Zt)),Bc(e,new Fc(1,"Center"),new Dc(1,"Middle"))(ou(ir((function(){const e=$c(r[0]);return hr((function(t){return Nc(null,t*is(r[0].Size))(new Zt(e,new Zt))}),gr(0,1,i-2))})))),Bc(e,new Fc(1,"Center"),new Dc(2,"Bottom"))(new Zt($c(r[2]),new Zt))]))}))),ir((function(){const n=Ac()("Menu - Item"),i=$c(n);return xr(Hc(t[2])((function(t,o){return Bc(e,new Fc(1,"Center"),new Dc(1,"Middle"))(new Zt(Uc(rs(n.Size),u-is(r[1].Size)-is(r[2].Size))(new Zt(Nc(null,o.Offset)(new Zt(Hc([o.Items,o.Selected,o.Hover])((function(e,t){return Nc()(ou(ir((function(){return tr(rr((function(e){let r;if(r=hu(e,t[0]),Oe(e,t[1]))return or();if(null!=r){const o=r;return xr(Nc(null,e*is(n.Size),null,null,(function(){mc(new Fs(9,"MenuHover",e))}),(function(){mc(new Fs(9,"MenuHover",null))}),(function(){mc(new Fs(8,"MenuSelectChange",e))}))(ou(ir((function(){return tr(Oe(e,t[2])?xr($c(Ac()("Menu - Hover"))):xr(i),ir((function(){return xr(Bc(n.Size,new Fc(1,"Center"),new Dc(1,"Middle"))(new Zt($c(Ac()(zt(It("Menu Icons - %s - Idle"))(o))),new Zt)))})))})))))}return or()}),gr(0,1,uu(t[0])-1)),ir((function(){var e,r,i,o,u,s;if(null!=t[1]){const c=0|t[1];let l;if(null!=(l=hu(c,t[0]))){const t=l;return xr(Nc(null,c*is(n.Size))(au([Nc(null,null,null,null,(function(){mc(new Fs(9,"MenuHover",c))}),null,(function(){mc(new Fs(8,"MenuSelectChange",c))}))(au([(e=Ac()("Menu - Active"),$c(e)),Bc(n.Size,new Fc(1,"Center"),new Dc(1,"Middle"))(new Zt((r=Ac()((i=zt(It("Menu Icons - %s - Active")),i(t))),u="Menu Icon Active",s=r,Vc(u,(function(){return new Jc(et(),s,-1,null)}))((function(e){return zc((function(t){let n,r,i;if(e.Sprite.Name!==s.Name&&(e.Start=t,e.Sprite=s,e.Slot=-1,e.Result=null),r=Ie(Fe,0,i=~~(it(t,e.Start)/750%e.Sprite.Frames.length)),(n=_e(Fe,e.Sprite.Frames.length-1|0,r))!==e.Slot||null==e.Result){e.Slot=n;const t=Nc()(ou(ir((function(){return hr((function(e){return _c(null,null,null,null,null,null,null,e)}),e.Sprite.Frames[e.Slot].Layers)}))));e.Result=t}return e.Result}))}))),new Zt))])),Nc(0,73)(new Zt((o=t,Hc(o)((function(e,t){return Nc()(ou(ir((function(){const e=Ac()("Menu - Name Top"),n=Ac()("Menu - Name Middle"),r=Ac()("Menu - Name Bottom"),i=Kc(rs(n.Size)-20,t);let o,u;u=Ic(i,0,0),o=ns(cs(u[1])-cs(u[0]),ls(u[1])-ls(u[0])+6);const s=ns(rs(e.Size),is(e.Size)+is(o)+is(r.Size));return tr(xr(Bc(s,null,new Dc(0,"Top"))(new Zt($c(e),new Zt))),ir((function(){return tr(xr(Bc(s,null,new Dc(2,"Bottom"))(new Zt($c(r),new Zt))),ir((function(){return tr(xr(Bc(s,new Fc(1,"Center"),new Dc(1,"Middle"))(ou(ir((function(){return hr((function(e){return _c(null,null,null,null,is(o),null,null,e)}),n.Frames[0].Layers)}))))),ir((function(){return xr(Nc(null,null,new gs(4,"Color",66/255,50/255,34/255,1))(new Zt(Bc(s,new Fc(0,"Left"),new Dc(1,"Middle"))(ou(ir((function(){return hr((function(e){return Bc(s,new Fc(1,"Center"))(new Zt(e,new Zt))}),i)})))),new Zt)))})))})))})))}))))}))),new Zt))])))}return or()}return or()})))}))))})),new Zt)),new Zt)),new Zt))})))})))})))),new Zt))])))}case 1:return or()}}))))}))),ir((function(){return xr(ol())})));var t})))})))}))))}function sl(e){let t;var n,r;return r=function(){var t;return Sr((t=zt(It("data/%s")),t(e)),new Zt).then((function(e){return e.text().then((function(e){const t=function(e,t){const n=Cu(e,t);if(1===n.tag)throw new Error(n.fields[0]);return n.fields[0]}(We(2,function(e,t,n){const r=n.ResolveType(),i=Gn(e,new Tr(0,"PascalCase"));let o,u;const s=En(r);let c,l;return u=String(i)+s,c=Gn(l=Yn((function(e){return e.Hash}),t),""),Mr(Or,o=c+u,(function(){return Ku(Qu(t),i,!1,r)}))}(new Tr(1,"CamelCase"),qs,{ResolveType:()=>mn(Vs())})),e);return Promise.resolve(vi(cu((function(e){return[e.Name,e]}),t),{Compare:Fe}))}))}))},n={then(e,t){try{return r().then(e,t)}catch(e){if(Oe(t,null))return Promise.reject(e);try{return Promise.resolve(t(e))}catch(e){return Promise.reject(e)}}},catch(e){try{return r().catch(e)}catch(t){try{return Promise.resolve(e(t))}catch(e){return Promise.reject(e)}}}},rc(t=new Promise((function(e,t){try{let r;(r=Promise.resolve(n)).then(e,t)}catch(e){t(e)}})))}const cl=document.getElementById("App"),ll=document.createElement("canvas");cl.appendChild(ll);const al=ll.getContext("webgl2",rn({premultipliedAlpha:!1}));function fl(e){const t=e.data;switch(t.tag){case 2:return[t.fields[0][0],t.fields[0][1]];case 0:if(""===hs(e))return e.data=new qn(3,"Choice4Of4",null),null;{e.data=new qn(1,"Choice2Of4",null);const t=document.createElement("img");return t.onload=function(n){const r=ns(0|~~t.width,0|~~t.height),i=function(e,t,n){const r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),r}(e.smooth,al,t);var o,u;o=i,u=r,e.data=new qn(2,"Choice3Of4",[o,u])},t.src="data/"+hs(e),null}default:return null}}const dl=[],hl=Ne(Ze()),wl=[];vc((function(e){wl.push(e)}));const pl=Ne((()=>{const e=yc();return lu(mc,e[1]),e[0]})()),gl=Ne(new Ds(1,ns(0,0),new Es(6,"Empty"),new qn(0,"Choice1Of3",null),null,null,null,null)),vl=Ne(!0),ml=function(e,t){var n,r,i,o,u,s,c,l,a,f,d,h,w,p,g,v,m,x,A,b,y,S,E,T,C,R,P,M,O,L,F,D,B,k,_,I,N,z,U,V,H,j,W,G,X,Y,q,$,J,Z,K,Q,ee,te,ne,re,ie,oe,ue,se,ce,le,ae,fe,de,he,we,pe,ve,xe,Ae,be,ye,Se,Ee,Te,Re,Pe,Le,De,Be,ke,Ie,Ne,ze,Ue,Ve,je,We,Ge,Xe,qe,$e,Je,Ze,Ke,Qe,tt,nt,rt,ot,ut,st,ct,lt,at,ft,dt,ht,wt;let pt;const gt=sc(e);var vt;let mt;lc(e,gt,(vt=ir((function(){const e=function(e,t){return Math.random()*(t-e)+e};return hr((function(t){return[e(0,1),e(0,1),e(0,1),e(0,1)]}),gr(0,1,999))})),Array.from(vt))),pt=gt;const xt=Math.fround(-1),At=Math.fround(1),bt=Math.fround(-1),yt=Math.fround(1),St=sc(e);let Et;cc(e,St,[[xt,bt],[At,bt],[At,yt],[xt,bt],[At,yt],[xt,yt]]),mt=St;const Tt=Math.fround(0),Ct=Math.fround(1),Rt=Math.fround(0),Pt=Math.fround(1),Mt=sc(e);let Ot;cc(e,Mt,[[Tt,Pt],[Ct,Pt],[Ct,Rt],[Tt,Pt],[Ct,Rt],[Tt,Rt]]),Et=Mt;const Lt=Math.fround(0),Ft=Math.fround(1),Dt=Math.fround(0),Bt=Math.fround(1),kt=sc(e);let _t;cc(e,kt,[[Lt,Dt],[Ft,Dt],[Ft,Bt],[Lt,Dt],[Ft,Bt],[Lt,Bt]]),Ot=kt;const zt=Math.fround(0),Ut=Math.fround(1),Vt=Math.fround(0),Ht=Math.fround(1),jt=sc(e);cc(e,jt,[[zt,Vt],[Ut,Vt],[Ut,Ht],[zt,Vt],[Ut,Ht],[zt,Ht]]),_t=jt;const Wt=(n=e.createShader(e.VERTEX_SHADER),e.shaderSource(n,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n\r\n    uniform vec2 iResolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec4 vTextureSlicePosition;\r\n    out vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n    }"),e.compileShader(n),r=e.getShaderInfoLog(n),Nt(It("vertexShader: %s"))(r),i=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(i,"#version 300 es\r\n\r\n    precision mediump float;\r\n\r\n    \r\n    uniform sampler2D colorTexture;\r\n    uniform vec2 colorTextureSize;\r\n\r\n    in vec2 vTextureCoord;\r\n    in vec2 vResolution;\r\n    in vec4 vTextureSlicePosition;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (vTextureSlicePosition.x + offset.x) / colorTextureSize.x;\r\n        float oy = (vTextureSlicePosition.y + offset.y) / colorTextureSize.y;\r\n\r\n        float px = (vTextureSlicePosition.z / colorTextureSize.x) * point.x;\r\n        float py = (vTextureSlicePosition.w / colorTextureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture(colorTexture, vec2(x, y));\r\n    }\r\n\r\n\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        diffuseColor = textureColor(vTextureCoord, vec2(0.0));\r\n    }\r\n"),e.compileShader(i),o=e.getShaderInfoLog(i),Nt(It("fragmentShader: %s"))(o),u=e.createProgram(),e.attachShader(u,n),e.attachShader(u,i),e.linkProgram(u),s=e.getProgramInfoLog(u),Nt(It("program: %s"))(s),c=$i(new Array(7),0,7,null),(l=e.getAttribLocation(u,"vertexBuffer"))>-1&&e.enableVertexAttribArray(l),c[0]=l,(a=e.getAttribLocation(u,"textureCoord"))>-1&&e.enableVertexAttribArray(a),c[1]=a,(f=e.getAttribLocation(u,"position"))>-1&&e.enableVertexAttribArray(f),c[2]=f,(d=e.getAttribLocation(u,"textureSlicePosition"))>-1&&e.enableVertexAttribArray(d),c[3]=d,c[4]=e.getUniformLocation(u,"iResolution"),c[5]=e.getUniformLocation(u,"colorTexture"),c[6]=e.getUniformLocation(u,"colorTextureSize"),[u,c,e]),Gt=(h=e.createShader(e.VERTEX_SHADER),e.shaderSource(h,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n\r\n    uniform vec2 iResolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec4 vTextureSlicePosition;\r\n    out vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n    }"),e.compileShader(h),w=e.getShaderInfoLog(h),Nt(It("vertexShader: %s"))(w),p=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(p,"#version 300 es\r\n    precision mediump float;\r\n\r\n    \r\n    uniform sampler2D colorTexture;\r\n    uniform vec2 colorTextureSize;\r\n\r\n    in vec2 vTextureCoord;\r\n    in vec2 vResolution;\r\n    in vec4 vTextureSlicePosition;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (vTextureSlicePosition.x + offset.x) / colorTextureSize.x;\r\n        float oy = (vTextureSlicePosition.y + offset.y) / colorTextureSize.y;\r\n\r\n        float px = (vTextureSlicePosition.z / colorTextureSize.x) * point.x;\r\n        float py = (vTextureSlicePosition.w / colorTextureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture(colorTexture, vec2(x, y));\r\n    }\r\n\r\n\r\n    uniform vec4 color;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        vec4 foundColor = textureColor(vTextureCoord, vec2(0.0));\r\n        diffuseColor = vec4(color.r, color.g, color.b, color.a * foundColor.a);\r\n    }\r\n"),e.compileShader(p),g=e.getShaderInfoLog(p),Nt(It("fragmentShader: %s"))(g),v=e.createProgram(),e.attachShader(v,h),e.attachShader(v,p),e.linkProgram(v),m=e.getProgramInfoLog(v),Nt(It("program: %s"))(m),x=$i(new Array(8),0,8,null),(A=e.getAttribLocation(v,"vertexBuffer"))>-1&&e.enableVertexAttribArray(A),x[0]=A,(b=e.getAttribLocation(v,"textureCoord"))>-1&&e.enableVertexAttribArray(b),x[1]=b,(y=e.getAttribLocation(v,"position"))>-1&&e.enableVertexAttribArray(y),x[2]=y,(S=e.getAttribLocation(v,"textureSlicePosition"))>-1&&e.enableVertexAttribArray(S),x[3]=S,x[4]=e.getUniformLocation(v,"iResolution"),x[5]=e.getUniformLocation(v,"colorTexture"),x[6]=e.getUniformLocation(v,"colorTextureSize"),x[7]=e.getUniformLocation(v,"color"),[v,x,e]),Xt=(E=e.createShader(e.VERTEX_SHADER),e.shaderSource(E,"#version 300 es\r\n\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n    in vec2 shadowInfo;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n\r\n    uniform vec2 iResolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec2 vResolution;\r\n    out float alpha;\r\n    out float amount;\r\n\r\n    out vec4 vTextureSlicePosition;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n        alpha = shadowInfo.x;\r\n        amount = shadowInfo.y;\r\n    }"),e.compileShader(E),T=e.getShaderInfoLog(E),Nt(It("vertexShader: %s"))(T),C=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(C,"#version 300 es\r\n\r\n    precision mediump float;\r\n\r\n    \r\n    uniform sampler2D colorTexture;\r\n    uniform vec2 colorTextureSize;\r\n\r\n    in vec2 vTextureCoord;\r\n    in vec2 vResolution;\r\n    in vec4 vTextureSlicePosition;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (vTextureSlicePosition.x + offset.x) / colorTextureSize.x;\r\n        float oy = (vTextureSlicePosition.y + offset.y) / colorTextureSize.y;\r\n\r\n        float px = (vTextureSlicePosition.z / colorTextureSize.x) * point.x;\r\n        float py = (vTextureSlicePosition.w / colorTextureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture(colorTexture, vec2(x, y));\r\n    }\r\n\r\n\r\n    in float alpha;\r\n    in float amount;\r\n\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        vec4 found = textureColor(vTextureCoord, vec2(0.0));\r\n\r\n        float a = found.a;\r\n\r\n        float s = clamp(0.5 + (amount / 2.0), 0.0, 1.0);\r\n        float e = clamp(0.5 - (amount / 2.0), 0.0, 1.0);\r\n        float b;\r\n\r\n        if (a < e) { \r\n            b = 0.0;\r\n        } else {\r\n            b = smoothstep(e, s, a);\r\n        }\r\n    \r\n        diffuseColor = vec4(0.0, 0.0, 0.0, alpha * b);\r\n    }\r\n"),e.compileShader(C),R=e.getShaderInfoLog(C),Nt(It("fragmentShader: %s"))(R),P=e.createProgram(),e.attachShader(P,E),e.attachShader(P,C),e.linkProgram(P),M=e.getProgramInfoLog(P),Nt(It("program: %s"))(M),O=$i(new Array(8),0,8,null),(L=e.getAttribLocation(P,"vertexBuffer"))>-1&&e.enableVertexAttribArray(L),O[0]=L,(F=e.getAttribLocation(P,"textureCoord"))>-1&&e.enableVertexAttribArray(F),O[1]=F,(D=e.getAttribLocation(P,"shadowInfo"))>-1&&e.enableVertexAttribArray(D),O[2]=D,(B=e.getAttribLocation(P,"position"))>-1&&e.enableVertexAttribArray(B),O[3]=B,(k=e.getAttribLocation(P,"textureSlicePosition"))>-1&&e.enableVertexAttribArray(k),O[4]=k,O[5]=e.getUniformLocation(P,"iResolution"),O[6]=e.getUniformLocation(P,"colorTexture"),O[7]=e.getUniformLocation(P,"colorTextureSize"),[P,O,e]),Yt=(_=e.createShader(e.VERTEX_SHADER),e.shaderSource(_,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n\r\n    uniform vec2 iResolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec4 vTextureSlicePosition;\r\n    out vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n    }"),e.compileShader(_),I=e.getShaderInfoLog(_),Nt(It("vertexShader: %s"))(I),N=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(N,"#version 300 es\r\n    precision mediump float;\r\n\r\n    uniform vec4 color;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        diffuseColor = color;\r\n    }\r\n"),e.compileShader(N),z=e.getShaderInfoLog(N),Nt(It("fragmentShader: %s"))(z),U=e.createProgram(),e.attachShader(U,_),e.attachShader(U,N),e.linkProgram(U),V=e.getProgramInfoLog(U),Nt(It("program: %s"))(V),H=$i(new Array(6),0,6,null),(j=e.getAttribLocation(U,"vertexBuffer"))>-1&&e.enableVertexAttribArray(j),H[0]=j,(W=e.getAttribLocation(U,"textureCoord"))>-1&&e.enableVertexAttribArray(W),H[1]=W,(G=e.getAttribLocation(U,"position"))>-1&&e.enableVertexAttribArray(G),H[2]=G,(X=e.getAttribLocation(U,"textureSlicePosition"))>-1&&e.enableVertexAttribArray(X),H[3]=X,H[4]=e.getUniformLocation(U,"iResolution"),H[5]=e.getUniformLocation(U,"color"),[U,H,e]),qt=(Y=e.createShader(e.VERTEX_SHADER),e.shaderSource(Y,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n\r\n    uniform vec2 iResolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec4 vTextureSlicePosition;\r\n    out vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n    }"),e.compileShader(Y),q=e.getShaderInfoLog(Y),Nt(It("vertexShader: %s"))(q),$=e.createShader(e.FRAGMENT_SHADER),e.shaderSource($,"#version 300 es\r\n    precision mediump float;\r\n\r\n    \r\n    uniform sampler2D colorTexture;\r\n    uniform vec2 colorTextureSize;\r\n\r\n    in vec2 vTextureCoord;\r\n    in vec2 vResolution;\r\n    in vec4 vTextureSlicePosition;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (vTextureSlicePosition.x + offset.x) / colorTextureSize.x;\r\n        float oy = (vTextureSlicePosition.y + offset.y) / colorTextureSize.y;\r\n\r\n        float px = (vTextureSlicePosition.z / colorTextureSize.x) * point.x;\r\n        float py = (vTextureSlicePosition.w / colorTextureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture(colorTexture, vec2(x, y));\r\n    }\r\n\r\n\r\n    uniform float alpha;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        vec4 foundColor = textureColor(vTextureCoord, vec2(0.0));\r\n\r\n        if (foundColor.a > 0.0 &&\r\n            (textureColor(vTextureCoord, vec2(-1.0, 0.0)).a < 1.0 || textureColor(vTextureCoord, vec2(1.0, 0.0)).a < 1.0 ||\r\n             textureColor(vTextureCoord, vec2(0.0, -1.0)).a < 1.0 || textureColor(vTextureCoord, vec2(0.0, 1.0)).a < 1.0))\r\n        {\r\n            diffuseColor = vec4(foundColor.r, foundColor.b, foundColor.b, foundColor.a * alpha);\r\n        }\r\n        else \r\n        {\r\n            diffuseColor = vec4(0.0);\r\n        }\r\n    }\r\n"),e.compileShader($),J=e.getShaderInfoLog($),Nt(It("fragmentShader: %s"))(J),Z=e.createProgram(),e.attachShader(Z,Y),e.attachShader(Z,$),e.linkProgram(Z),K=e.getProgramInfoLog(Z),Nt(It("program: %s"))(K),Q=$i(new Array(8),0,8,null),(ee=e.getAttribLocation(Z,"vertexBuffer"))>-1&&e.enableVertexAttribArray(ee),Q[0]=ee,(te=e.getAttribLocation(Z,"textureCoord"))>-1&&e.enableVertexAttribArray(te),Q[1]=te,(ne=e.getAttribLocation(Z,"position"))>-1&&e.enableVertexAttribArray(ne),Q[2]=ne,(re=e.getAttribLocation(Z,"textureSlicePosition"))>-1&&e.enableVertexAttribArray(re),Q[3]=re,Q[4]=e.getUniformLocation(Z,"iResolution"),Q[5]=e.getUniformLocation(Z,"colorTexture"),Q[6]=e.getUniformLocation(Z,"colorTextureSize"),Q[7]=e.getUniformLocation(Z,"alpha"),[Z,Q,e]),$t=(ie=e.createShader(e.VERTEX_SHADER),e.shaderSource(ie,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n\r\n    uniform vec2 iResolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec4 vTextureSlicePosition;\r\n    out vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n    }"),e.compileShader(ie),oe=e.getShaderInfoLog(ie),Nt(It("vertexShader: %s"))(oe),ue=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(ue,"#version 300 es\r\n    precision mediump float;\r\n\r\n    \r\n    uniform sampler2D colorTexture;\r\n    uniform vec2 colorTextureSize;\r\n\r\n    in vec2 vTextureCoord;\r\n    in vec2 vResolution;\r\n    in vec4 vTextureSlicePosition;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (vTextureSlicePosition.x + offset.x) / colorTextureSize.x;\r\n        float oy = (vTextureSlicePosition.y + offset.y) / colorTextureSize.y;\r\n\r\n        float px = (vTextureSlicePosition.z / colorTextureSize.x) * point.x;\r\n        float py = (vTextureSlicePosition.w / colorTextureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture(colorTexture, vec2(x, y));\r\n    }\r\n\r\n\r\n    uniform vec4 color;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        vec4 foundColor = textureColor(vTextureCoord, vec2(0.0));\r\n\r\n        if (foundColor.a > 0.0 &&\r\n            (textureColor(vTextureCoord, vec2(-1.0, 0.0)).a < 1.0 || textureColor(vTextureCoord, vec2(1.0, 0.0)).a < 1.0 ||\r\n             textureColor(vTextureCoord, vec2(0.0, -1.0)).a < 1.0 || textureColor(vTextureCoord, vec2(0.0, 1.0)).a < 1.0))\r\n        {\r\n            diffuseColor = color;\r\n        }\r\n        else \r\n        {\r\n            diffuseColor = vec4(0.0);\r\n        }\r\n    }\r\n"),e.compileShader(ue),se=e.getShaderInfoLog(ue),Nt(It("fragmentShader: %s"))(se),ce=e.createProgram(),e.attachShader(ce,ie),e.attachShader(ce,ue),e.linkProgram(ce),le=e.getProgramInfoLog(ce),Nt(It("program: %s"))(le),ae=$i(new Array(8),0,8,null),(fe=e.getAttribLocation(ce,"vertexBuffer"))>-1&&e.enableVertexAttribArray(fe),ae[0]=fe,(de=e.getAttribLocation(ce,"textureCoord"))>-1&&e.enableVertexAttribArray(de),ae[1]=de,(he=e.getAttribLocation(ce,"position"))>-1&&e.enableVertexAttribArray(he),ae[2]=he,(we=e.getAttribLocation(ce,"textureSlicePosition"))>-1&&e.enableVertexAttribArray(we),ae[3]=we,ae[4]=e.getUniformLocation(ce,"iResolution"),ae[5]=e.getUniformLocation(ce,"colorTexture"),ae[6]=e.getUniformLocation(ce,"colorTextureSize"),ae[7]=e.getUniformLocation(ce,"color"),[ce,ae,e]),Jt=(pe=e.createShader(e.VERTEX_SHADER),e.shaderSource(pe,"#version 300 es\r\n    precision mediump float;\r\n\r\n    uniform mat4 projection;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureBuffer;\r\n\r\n    in vec4 position;\r\n    in vec4 diffuseTextureSlice;\r\n    in vec4 heightMapTextureSlice;\r\n\r\n    out vec2 diffuseTextureCoord;\r\n    out vec2 heightMapTextureCoord;\r\n    out vec2 screenPosition;\r\n\r\n    void main() {\r\n        screenPosition = (position.zw * vertexBuffer) + position.xy;\r\n        diffuseTextureCoord = (diffuseTextureSlice.zw * textureBuffer) + diffuseTextureSlice.xy;\r\n        heightMapTextureCoord = (heightMapTextureSlice.zw * textureBuffer) + heightMapTextureSlice.xy;\r\n\r\n        gl_Position = vec4(screenPosition, 0.0, 1.0) * projection;\r\n    }"),e.compileShader(pe),ve=e.getShaderInfoLog(pe),Nt(It("vertexShader: %s"))(ve),xe=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(xe,"#version 300 es\r\n    precision highp float;\r\n    \r\n    in vec2 diffuseTextureCoord;\r\n    in vec2 heightMapTextureCoord;\r\n    in vec2 screenPosition;\r\n\r\n    uniform sampler2D diffuseTexture;\r\n    uniform sampler2D heightMapTexture;\r\n\r\n    const float devide256 = 0.00390625;\r\n\r\n    vec2 pack (float value) {\r\n        float a = value * devide256;\r\n        return vec2(floor(a) * devide256, fract(a));\r\n    }\r\n\r\n    float unpack (vec2 color) {\r\n        return dot(color, vec2(65536.0, 256.0));\r\n    }\r\n\r\n    layout(location = 0) out vec4 diffuseColor;\r\n    layout(location = 1) out vec4 locationColor;\r\n\r\n    void main(void) {\r\n        diffuseColor = texture(diffuseTexture, diffuseTextureCoord);\r\n\r\n        vec4 heightMapColor = texture(heightMapTexture, heightMapTextureCoord);\r\n        \r\n        float a = screenPosition.y;\r\n        float b = heightMapColor.r * 255.0;\r\n        vec2 c = pack(a + b);\r\n\r\n        locationColor = vec4(c.x, c.y, heightMapColor.r, diffuseColor.a);\r\n    }\r\n"),e.compileShader(xe),Ae=e.getShaderInfoLog(xe),Nt(It("fragmentShader: %s"))(Ae),be=e.createProgram(),e.attachShader(be,pe),e.attachShader(be,xe),e.linkProgram(be),ye=e.getProgramInfoLog(be),Nt(It("program: %s"))(ye),(Se=$i(new Array(8),0,8,null))[0]=e.getUniformLocation(be,"projection"),(Ee=e.getAttribLocation(be,"vertexBuffer"))>-1&&e.enableVertexAttribArray(Ee),Se[1]=Ee,(Te=e.getAttribLocation(be,"textureBuffer"))>-1&&e.enableVertexAttribArray(Te),Se[2]=Te,(Re=e.getAttribLocation(be,"position"))>-1&&e.enableVertexAttribArray(Re),Se[3]=Re,(Pe=e.getAttribLocation(be,"diffuseTextureSlice"))>-1&&e.enableVertexAttribArray(Pe),Se[4]=Pe,(Le=e.getAttribLocation(be,"heightMapTextureSlice"))>-1&&e.enableVertexAttribArray(Le),Se[5]=Le,Se[6]=e.getUniformLocation(be,"diffuseTexture"),Se[7]=e.getUniformLocation(be,"heightMapTexture"),[be,Se,e]),Zt=(De=e.createShader(e.VERTEX_SHADER),e.shaderSource(De,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    out vec2 vTextureCoord;\r\n\r\n    void main() {\r\n        gl_Position = vec4(vertexBuffer.x, vertexBuffer.y, 0.0, 1.0);\r\n        vTextureCoord = textureCoord;\r\n    }"),e.compileShader(De),Be=e.getShaderInfoLog(De),Nt(It("vertexShader: %s"))(Be),ke=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(ke,"#version 300 es\r\n    precision mediump float;\r\n    \r\n    in vec2 vTextureCoord;\r\n\r\n    uniform sampler2D colorTexture;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        diffuseColor = texture(colorTexture, vTextureCoord);\r\n    }\r\n"),e.compileShader(ke),Ie=e.getShaderInfoLog(ke),Nt(It("fragmentShader: %s"))(Ie),Ne=e.createProgram(),e.attachShader(Ne,De),e.attachShader(Ne,ke),e.linkProgram(Ne),ze=e.getProgramInfoLog(Ne),Nt(It("program: %s"))(ze),Ue=$i(new Array(3),0,3,null),(Ve=e.getAttribLocation(Ne,"vertexBuffer"))>-1&&e.enableVertexAttribArray(Ve),Ue[0]=Ve,(je=e.getAttribLocation(Ne,"textureCoord"))>-1&&e.enableVertexAttribArray(je),Ue[1]=je,Ue[2]=e.getUniformLocation(Ne,"colorTexture"),[Ne,Ue,e]),Kt=(We=e.createShader(e.VERTEX_SHADER),e.shaderSource(We,"#version 300 es\r\n    precision mediump float;\r\n\r\n    uniform mat4 projection;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureBuffer;\r\n    in vec4 flakes;\r\n\r\n    uniform vec2 resolution;\r\n    uniform vec2 size;\r\n    uniform float time;\r\n    uniform vec2 offset;\r\n\r\n    const vec2 distMin = vec2(0.005);\r\n    const vec2 distMax = vec2(0.01);\r\n\r\n    const vec2 sizeMin = vec2(1.0);\r\n    const vec2 sizeMax = vec2(1.4);\r\n\r\n    out vec2 diffuseTextureCoord;\r\n\r\n    out float height;\r\n    out float wave;\r\n    out vec2 worldTextureCoord;\r\n    out float waveOffset;\r\n\r\n    void main() {\r\n        vec2 timeOffset = vec2(time, time * 0.01);\r\n        vec2 dist = mix(distMin, distMax, flakes.w);\r\n\r\n        vec2 size2 = mix(sizeMin, sizeMax, flakes.w) * size;\r\n        vec2 pos = fract((dist * timeOffset) + flakes.xy + (offset / (resolution + size2)));\r\n\r\n        vec4 position = \r\n            vec4(\r\n                 (pos * (resolution + size2)) - (size2),\r\n                 size2);\r\n\r\n        vec2 screenPosition = (position.zw * vertexBuffer) + position.xy;\r\n\r\n        waveOffset = screenPosition.x - offset.x;\r\n\r\n        worldTextureCoord = \r\n            vec2(screenPosition.x / resolution.x,\r\n                 1.0 - (screenPosition.y / resolution.y));\r\n\r\n        diffuseTextureCoord = textureBuffer;\r\n\r\n        height = mix(0.01, 0.01, flakes.z);\r\n        wave = mix(0.01, 0.1, flakes.w);\r\n\r\n        gl_Position = vec4(screenPosition, 0.0, 1.0) * projection;\r\n    }\r\n\r\n"),e.compileShader(We),Ge=e.getShaderInfoLog(We),Nt(It("vertexShader: %s"))(Ge),Xe=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(Xe,"#version 300 es\r\n    precision highp float;\r\n    \r\n    in vec2 diffuseTextureCoord;\r\n\r\n    in float height;\r\n    in float wave;\r\n    in vec2 vResolution;\r\n    in vec2 worldTextureCoord;\r\n    in float waveOffset;\r\n\r\n    uniform sampler2D diffuseTexture;\r\n    uniform sampler2D depthTexture;\r\n\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        float depth = texture(depthTexture, worldTextureCoord).z;\r\n\r\n        vec2 point = \r\n            vec2(diffuseTextureCoord.x,\r\n                 (sin(waveOffset * wave) * 0.04) + diffuseTextureCoord.y);\r\n\r\n        vec4 mainColor = texture(diffuseTexture, point);\r\n\r\n        float a = (50.0 * min(height - depth, 0.0)) + 1.0;\r\n\r\n        diffuseColor = vec4(1.0, 1.0, 1.0, (mainColor.r * a * 0.3));\r\n    }\r\n\r\n"),e.compileShader(Xe),qe=e.getShaderInfoLog(Xe),Nt(It("fragmentShader: %s"))(qe),$e=e.createProgram(),e.attachShader($e,We),e.attachShader($e,Xe),e.linkProgram($e),Je=e.getProgramInfoLog($e),Nt(It("program: %s"))(Je),(Ze=$i(new Array(11),0,11,null))[0]=e.getUniformLocation($e,"projection"),(Ke=e.getAttribLocation($e,"vertexBuffer"))>-1&&e.enableVertexAttribArray(Ke),Ze[1]=Ke,(Qe=e.getAttribLocation($e,"textureBuffer"))>-1&&e.enableVertexAttribArray(Qe),Ze[2]=Qe,(tt=e.getAttribLocation($e,"flakes"))>-1&&e.enableVertexAttribArray(tt),Ze[3]=tt,Ze[4]=e.getUniformLocation($e,"resolution"),Ze[5]=e.getUniformLocation($e,"size"),Ze[6]=e.getUniformLocation($e,"time"),Ze[7]=e.getUniformLocation($e,"offset"),(nt=e.getAttribLocation($e,"vResolution"))>-1&&e.enableVertexAttribArray(nt),Ze[8]=nt,Ze[9]=e.getUniformLocation($e,"diffuseTexture"),Ze[10]=e.getUniformLocation($e,"depthTexture"),[$e,Ze,e]),Qt=(rt=e.createShader(e.VERTEX_SHADER),e.shaderSource(rt,"#version 300 es\r\n    precision highp float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n    in vec4 flakes;\r\n\r\n    uniform vec2 resolution;\r\n    uniform vec2 size;\r\n    uniform float time;\r\n\r\n    out vec2 vTextureCoord;\r\n    out float vDepth;\r\n\r\n\r\n    vec2 hash(vec2 p) {                       \r\n        p = vec2( dot(p,vec2(127.1,311.7)),\r\n                  dot(p,vec2(269.5,183.3)) );\r\n        return -1. + 2.*fract(sin(p+20.)*53758.5453123);\r\n    }\r\n\r\n    float noise( vec2 p ) {\r\n        vec2 i = floor((p)), f = fract((p));\r\n        vec2 u = f*f*(3.-2.*f);\r\n        return mix( mix( dot( hash( i + vec2(0.,0.) ), f - vec2(0.,0.) ), \r\n                         dot( hash( i + vec2(1.,0.) ), f - vec2(1.,0.) ), u.x),\r\n                    mix( dot( hash( i + vec2(0.,1.) ), f - vec2(0.,1.) ), \r\n                         dot( hash( i + vec2(1.,1.) ), f - vec2(1.,1.) ), u.x), u.y);\r\n    }\r\n\r\n    float between (float value, float minimum, float maximum) {\r\n        return value * (maximum - minimum) + minimum;\r\n    }\r\n\r\n    void main() {\r\n        float min = 0.8;\r\n        float max = 1.0;\r\n\r\n        float x = flakes.x + ((between(flakes.w, min, max) * 0.2) * time);\r\n        float y = flakes.y + (0.4) * time;\r\n        \r\n\r\n        x = fract(x);\r\n        y = fract(y);\r\n\r\n        vec4 position = \r\n            vec4((x * resolution.x) - size.x,\r\n                 (y * resolution.y) - size.y,\r\n                 size.x, \r\n                 size.y);\r\n\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / resolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / resolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = vec2(position.x / resolution.x, 1.0 - (position.y / resolution.y));\r\n        vDepth = flakes.z * resolution.y;\r\n    }"),e.compileShader(rt),ot=e.getShaderInfoLog(rt),Nt(It("vertexShader: %s"))(ot),ut=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(ut,"#version 300 es\r\n    precision highp float;\r\n    \r\n    in vec2 vTextureCoord;\r\n    in float vDepth;\r\n\r\n    uniform sampler2D depthTexture;\r\n    in vec4 vPosition;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    float unpack (vec2 color) {\r\n        return (color.x * 256.0 * 256.0) + (color.y * 256.0);\r\n    }\r\n\r\n    void main(void) {\r\n        vec4 depthColor = texture(depthTexture, vTextureCoord);\r\n        float depthScreen = unpack(depthColor.xy);\r\n\r\n        if (depthScreen > vDepth) {\r\n            diffuseColor = vec4(0.0);\r\n        }\r\n        else {\r\n            diffuseColor = vec4(0.1, 0.3, 1.0, 1.0);\r\n        }\r\n    }\r\n"),e.compileShader(ut),st=e.getShaderInfoLog(ut),Nt(It("fragmentShader: %s"))(st),ct=e.createProgram(),e.attachShader(ct,rt),e.attachShader(ct,ut),e.linkProgram(ct),lt=e.getProgramInfoLog(ct),Nt(It("program: %s"))(lt),at=$i(new Array(8),0,8,null),(ft=e.getAttribLocation(ct,"vertexBuffer"))>-1&&e.enableVertexAttribArray(ft),at[0]=ft,(dt=e.getAttribLocation(ct,"textureCoord"))>-1&&e.enableVertexAttribArray(dt),at[1]=dt,(ht=e.getAttribLocation(ct,"flakes"))>-1&&e.enableVertexAttribArray(ht),at[2]=ht,at[3]=e.getUniformLocation(ct,"resolution"),at[4]=e.getUniformLocation(ct,"size"),at[5]=e.getUniformLocation(ct,"time"),at[6]=e.getUniformLocation(ct,"depthTexture"),(wt=e.getAttribLocation(ct,"vPosition"))>-1&&e.enableVertexAttribArray(wt),at[7]=wt,[ct,at,e]),en=Ai([],{Equals:Me,GetHashCode:Ce}),tn=function(t,n,r){const i=ge(en,[t,n,r],null);if(i[0])return i[1];{const i=function(e,t,n){const r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),dc(t)&&dc(n)?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),r}(e,n,r);return Ye(en,[t,n,r],i),i}},nn=new me((function(){var e;return[ds(Ac()("Fog1").Frames[0].Layers[0].TextureName,!0),(e=Ac()("Fog2"),ds(e.Frames[0].Layers[0].TextureName,!0))]})),on=et(),un=[],sn=sc(e),cn=[],ln=sc(e),an=[],fn=sc(e),dn=[],hn=sc(e),wn=hc(e),pn=hc(e);return function(n){return function(r){return function(i){let o,u=it(n,on);o=u/1e3,en.size>10&&(fr((function(t){var n,r;n=e,r=t[1],n.deleteTexture(r)}),en),en.clear());const s=tn(-1,rs(r.Resolution),is(r.Resolution)),c=tn(-2,rs(r.Resolution),is(r.Resolution)),l=[t(nn.Value[0]),t(nn.Value[1])];let a,f=null,d=function(){};const h=r.Scale;let w;let p;w=0|rs(r.Resolution);const g=0|is(r.Resolution);a=function(e,t,n){const r=Math.fround(0),i=Math.fround(1),o=Math.fround(2),u=Math.fround(0),s=t,c=n,l=Math.fround(0),a=Math.fround(-1),f=Math.fround(1);return new Float32Array([o/(s-u),r,r,r,r,o/(l-c),r,r,r,r,o/(a-f),r,(u+s)/(u-s),(c+l)/(c-l),(a+f)/(a-f),i])}(0,w/h,(p=g)/h);const v=function(t,n,r,u,s,h){var w,p,g,v,m,x,A,b,y,S,E,T;let C,R,P,M,O;if(null!=r){P=r.Texture}else P=null;if(null!=u){M=u.Texture}else M=null;var L,F,D,B,k,_,I,N,z,U,V,H,j,W,G,X,Y,q,$,J;switch(Oe(C=R=rn({Effect:s,HeightTexture:M,NormalTexture:P,Resolution:t[0],Scale:t[1],Shader:n}),f)?O=!1:(d(),f=C,O=!0),0===n.tag?null!=r?(L=0,F=r):L=9:1===n.tag?null!=r?(L=1,D=r):L=9:6===n.tag?null!=r?(L=2,B=n.fields[0],k=r):L=9:7===n.tag?null!=r?(L=3,_=n.fields[3],I=n.fields[2],N=n.fields[1],z=r,U=n.fields[0]):L=9:4===n.tag?null!=r?(L=4,V=n.fields[3],H=n.fields[2],j=n.fields[1],W=r,G=n.fields[0]):L=9:5===n.tag?(L=5,X=n.fields[0][3],Y=n.fields[0][2],q=n.fields[0][1],$=n.fields[0][0]):8===n.tag?L=6:9===n.tag?L=7:10===n.tag&&null!=r?(L=8,J=r):L=9,L){case 0:if(O){const n=Wt;for(let e=0;e<=4;e++)n[2].disableVertexAttribArray(e);n[2].useProgram(n[0]),n[2].enable(n[2].BLEND);const r=Wt;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE);const i=Wt[1][0];i>-1&&(Wt[2].enableVertexAttribArray(i),Wt[2].bindBuffer(Wt[2].ARRAY_BUFFER,mt),Wt[2].vertexAttribPointer(i,2,Wt[2].FLOAT,!1,0,0),Wt[2].vertexAttribDivisor(i,0));const o=Wt[1][1];let u;let s;o>-1&&(Wt[2].enableVertexAttribArray(o),Wt[2].bindBuffer(Wt[2].ARRAY_BUFFER,_t),Wt[2].vertexAttribPointer(o,2,Wt[2].FLOAT,!1,0,0),Wt[2].vertexAttribDivisor(o,0)),Wt[2].activeTexture(Wt[2].TEXTURE0),Wt[2].bindTexture(Wt[2].TEXTURE_2D,F.Texture),Wt[2].uniform1i(Wt[1][5],0),u=[0|rs(F.TextureSize),0|is(F.TextureSize)],Wt[2].uniform2f(Wt[1][6],u[0],u[1]),s=[0|rs(t[0]),0|is(t[0])],Wt[2].uniform2f(Wt[1][4],s[0],s[1]),d=function(){lc(e,sn,un.slice());const t=Wt[1][2];t>-1&&(Wt[2].enableVertexAttribArray(t),Wt[2].bindBuffer(Wt[2].ARRAY_BUFFER,sn),Wt[2].vertexAttribPointer(t,4,Wt[2].FLOAT,!1,0,0),Wt[2].vertexAttribDivisor(t,0));const n=Wt[1][2];Wt[2].vertexAttribDivisor(n,1),lc(e,ln,cn.slice());const r=Wt[1][3];r>-1&&(Wt[2].enableVertexAttribArray(r),Wt[2].bindBuffer(Wt[2].ARRAY_BUFFER,ln),Wt[2].vertexAttribPointer(r,4,Wt[2].FLOAT,!1,0,0),Wt[2].vertexAttribDivisor(r,0));const i=Wt[1][3];Wt[2].vertexAttribDivisor(i,1);const o=0|un.length,u=Wt;u[2].drawArraysInstanced(u[2].TRIANGLES,0,6,o),He(un),He(cn);const s=Wt[1][0];Wt[2].disableVertexAttribArray(s);const c=Wt[1][1];Wt[2].disableVertexAttribArray(c);const l=Wt[1][2];Wt[2].disableVertexAttribArray(l);const a=Wt[1][3];Wt[2].disableVertexAttribArray(a),d=function(){}}}un.push((w=ss(cs(h[0])*t[1],ls(h[0])*t[1]),p=ns(rs(h[1])*t[1],is(h[1])*t[1]),[0|cs(w),0|ls(w),0|rs(p),0|is(p)])),cn.push([0|cs(F.TextureSlicePosition),0|ls(F.TextureSlicePosition),0|rs(F.TextureSliceSize),0|is(F.TextureSliceSize)]);break;case 1:if(null!=u){const t=u;if(O){const n=Jt;for(let e=0;e<=4;e++)n[2].disableVertexAttribArray(e);n[2].useProgram(n[0]),n[2].enable(n[2].BLEND);const r=Jt;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE);const i=Jt[1][1];i>-1&&(Jt[2].enableVertexAttribArray(i),Jt[2].bindBuffer(Jt[2].ARRAY_BUFFER,Et),Jt[2].vertexAttribPointer(i,2,Jt[2].FLOAT,!1,0,0),Jt[2].vertexAttribDivisor(i,0));const o=Jt[1][2];let u;o>-1&&(Jt[2].enableVertexAttribArray(o),Jt[2].bindBuffer(Jt[2].ARRAY_BUFFER,Ot),Jt[2].vertexAttribPointer(o,2,Jt[2].FLOAT,!1,0,0),Jt[2].vertexAttribDivisor(o,0)),Jt[2].activeTexture(Jt[2].TEXTURE0),Jt[2].bindTexture(Jt[2].TEXTURE_2D,D.Texture),Jt[2].uniform1i(Jt[1][6],0),Jt[2].activeTexture(Jt[2].TEXTURE1),Jt[2].bindTexture(Jt[2].TEXTURE_2D,t.Texture),Jt[2].uniform1i(Jt[1][7],1),u=a,Jt[2].uniformMatrix4fv(Jt[1][0],!0,u),d=function(){lc(e,sn,un.slice());const t=Jt[1][3];t>-1&&(Jt[2].enableVertexAttribArray(t),Jt[2].bindBuffer(Jt[2].ARRAY_BUFFER,sn),Jt[2].vertexAttribPointer(t,4,Jt[2].FLOAT,!1,0,0),Jt[2].vertexAttribDivisor(t,0));const n=Jt[1][3];Jt[2].vertexAttribDivisor(n,1),lc(e,ln,cn.slice());const r=Jt[1][4];r>-1&&(Jt[2].enableVertexAttribArray(r),Jt[2].bindBuffer(Jt[2].ARRAY_BUFFER,ln),Jt[2].vertexAttribPointer(r,4,Jt[2].FLOAT,!1,0,0),Jt[2].vertexAttribDivisor(r,0));const i=Jt[1][4];Jt[2].vertexAttribDivisor(i,1),lc(e,fn,an.slice());const o=Jt[1][5];o>-1&&(Jt[2].enableVertexAttribArray(o),Jt[2].bindBuffer(Jt[2].ARRAY_BUFFER,fn),Jt[2].vertexAttribPointer(o,4,Jt[2].FLOAT,!1,0,0),Jt[2].vertexAttribDivisor(o,0));const u=Jt[1][5];Jt[2].vertexAttribDivisor(u,1);const s=0|un.length,c=Jt;c[2].drawArraysInstanced(c[2].TRIANGLES,0,6,s),He(un),He(cn),He(an);const l=Jt[1][1];Jt[2].disableVertexAttribArray(l);const a=Jt[1][2];Jt[2].disableVertexAttribArray(a);const f=Jt[1][3];Jt[2].disableVertexAttribArray(f);const h=Jt[1][4];Jt[2].disableVertexAttribArray(h);const w=Jt[1][5];Jt[2].disableVertexAttribArray(w),d=function(){}}}un.push([0|cs(h[0]),0|ls(h[0]),0|rs(h[1]),0|is(h[1])]),cn.push(D.TextureSlice),an.push(t.TextureSlice)}break;case 2:if(O){const n=qt;for(let e=0;e<=4;e++)n[2].disableVertexAttribArray(e);n[2].useProgram(n[0]),n[2].enable(n[2].BLEND);const r=qt;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE);const i=qt[1][0];i>-1&&(qt[2].enableVertexAttribArray(i),qt[2].bindBuffer(qt[2].ARRAY_BUFFER,mt),qt[2].vertexAttribPointer(i,2,qt[2].FLOAT,!1,0,0),qt[2].vertexAttribDivisor(i,0));const o=qt[1][1];let u;let s;o>-1&&(qt[2].enableVertexAttribArray(o),qt[2].bindBuffer(qt[2].ARRAY_BUFFER,_t),qt[2].vertexAttribPointer(o,2,qt[2].FLOAT,!1,0,0),qt[2].vertexAttribDivisor(o,0)),qt[2].activeTexture(qt[2].TEXTURE0),qt[2].bindTexture(qt[2].TEXTURE_2D,k.Texture),qt[2].uniform1i(qt[1][5],0),u=[0|rs(k.TextureSize),0|is(k.TextureSize)],qt[2].uniform2f(qt[1][6],u[0],u[1]),s=[0|rs(t[0]),0|is(t[0])],qt[2].uniform2f(qt[1][4],s[0],s[1]);const c=B;qt[2].uniform1f(qt[1][7],c),d=function(){lc(e,sn,un.slice());const t=qt[1][2];t>-1&&(qt[2].enableVertexAttribArray(t),qt[2].bindBuffer(qt[2].ARRAY_BUFFER,sn),qt[2].vertexAttribPointer(t,4,qt[2].FLOAT,!1,0,0),qt[2].vertexAttribDivisor(t,0));const n=qt[1][2];qt[2].vertexAttribDivisor(n,1),lc(e,ln,cn.slice());const r=qt[1][3];r>-1&&(qt[2].enableVertexAttribArray(r),qt[2].bindBuffer(qt[2].ARRAY_BUFFER,ln),qt[2].vertexAttribPointer(r,4,qt[2].FLOAT,!1,0,0),qt[2].vertexAttribDivisor(r,0));const i=qt[1][3];qt[2].vertexAttribDivisor(i,1);const o=0|un.length,u=qt;u[2].drawArraysInstanced(u[2].TRIANGLES,0,6,o),He(un),He(cn);const s=qt[1][0];qt[2].disableVertexAttribArray(s);const c=qt[1][1];qt[2].disableVertexAttribArray(c);const l=qt[1][2];qt[2].disableVertexAttribArray(l);const a=qt[1][3];qt[2].disableVertexAttribArray(a),d=function(){}}}un.push((g=ss(cs(h[0])*t[1],ls(h[0])*t[1]),v=ns(rs(h[1])*t[1],is(h[1])*t[1]),[0|cs(g),0|ls(g),0|rs(v),0|is(v)])),cn.push([0|cs(k.TextureSlicePosition),0|ls(k.TextureSlicePosition),0|rs(k.TextureSliceSize),0|is(k.TextureSliceSize)]);break;case 3:if(O){const n=$t;for(let e=0;e<=4;e++)n[2].disableVertexAttribArray(e);n[2].useProgram(n[0]),n[2].enable(n[2].BLEND);const r=$t;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE);const i=$t[1][0];i>-1&&($t[2].enableVertexAttribArray(i),$t[2].bindBuffer($t[2].ARRAY_BUFFER,mt),$t[2].vertexAttribPointer(i,2,$t[2].FLOAT,!1,0,0),$t[2].vertexAttribDivisor(i,0));const o=$t[1][1];let u;let s;o>-1&&($t[2].enableVertexAttribArray(o),$t[2].bindBuffer($t[2].ARRAY_BUFFER,_t),$t[2].vertexAttribPointer(o,2,$t[2].FLOAT,!1,0,0),$t[2].vertexAttribDivisor(o,0)),$t[2].activeTexture($t[2].TEXTURE0),$t[2].bindTexture($t[2].TEXTURE_2D,z.Texture),$t[2].uniform1i($t[1][5],0),u=[0|rs(z.TextureSize),0|is(z.TextureSize)],$t[2].uniform2f($t[1][6],u[0],u[1]),s=[0|rs(t[0]),0|is(t[0])],$t[2].uniform2f($t[1][4],s[0],s[1]);const c=[U,N,I,_];$t[2].uniform4f($t[1][7],c[0],c[1],c[2],c[3]),d=function(){lc(e,sn,un.slice());const t=$t[1][2];t>-1&&($t[2].enableVertexAttribArray(t),$t[2].bindBuffer($t[2].ARRAY_BUFFER,sn),$t[2].vertexAttribPointer(t,4,$t[2].FLOAT,!1,0,0),$t[2].vertexAttribDivisor(t,0));const n=$t[1][2];$t[2].vertexAttribDivisor(n,1),lc(e,ln,cn.slice());const r=$t[1][3];r>-1&&($t[2].enableVertexAttribArray(r),$t[2].bindBuffer($t[2].ARRAY_BUFFER,ln),$t[2].vertexAttribPointer(r,4,$t[2].FLOAT,!1,0,0),$t[2].vertexAttribDivisor(r,0));const i=$t[1][3];$t[2].vertexAttribDivisor(i,1);const o=0|un.length,u=$t;u[2].drawArraysInstanced(u[2].TRIANGLES,0,6,o),He(un),He(cn);const s=$t[1][0];$t[2].disableVertexAttribArray(s);const c=$t[1][1];$t[2].disableVertexAttribArray(c);const l=$t[1][2];$t[2].disableVertexAttribArray(l);const a=$t[1][3];$t[2].disableVertexAttribArray(a),d=function(){}}}un.push((m=ss(cs(h[0])*t[1],ls(h[0])*t[1]),x=ns(rs(h[1])*t[1],is(h[1])*t[1]),[0|cs(m),0|ls(m),0|rs(x),0|is(x)])),cn.push([0|cs(z.TextureSlicePosition),0|ls(z.TextureSlicePosition),0|rs(z.TextureSliceSize),0|is(z.TextureSliceSize)]);break;case 4:if(O){const n=Gt;for(let e=0;e<=4;e++)n[2].disableVertexAttribArray(e);n[2].useProgram(n[0]),n[2].enable(n[2].BLEND);const r=Gt;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE);const i=Gt[1][0];i>-1&&(Gt[2].enableVertexAttribArray(i),Gt[2].bindBuffer(Gt[2].ARRAY_BUFFER,mt),Gt[2].vertexAttribPointer(i,2,Gt[2].FLOAT,!1,0,0),Gt[2].vertexAttribDivisor(i,0));const o=Gt[1][1];let u;let s;o>-1&&(Gt[2].enableVertexAttribArray(o),Gt[2].bindBuffer(Gt[2].ARRAY_BUFFER,_t),Gt[2].vertexAttribPointer(o,2,Gt[2].FLOAT,!1,0,0),Gt[2].vertexAttribDivisor(o,0)),Gt[2].activeTexture(Gt[2].TEXTURE0),Gt[2].bindTexture(Gt[2].TEXTURE_2D,W.Texture),Gt[2].uniform1i(Gt[1][5],0),u=[0|rs(W.TextureSize),0|is(W.TextureSize)],Gt[2].uniform2f(Gt[1][6],u[0],u[1]),s=[0|rs(t[0]),0|is(t[0])],Gt[2].uniform2f(Gt[1][4],s[0],s[1]);const c=[G,j,H,V];Gt[2].uniform4f(Gt[1][7],c[0],c[1],c[2],c[3]),d=function(){lc(e,sn,un.slice());const t=Gt[1][2];t>-1&&(Gt[2].enableVertexAttribArray(t),Gt[2].bindBuffer(Gt[2].ARRAY_BUFFER,sn),Gt[2].vertexAttribPointer(t,4,Gt[2].FLOAT,!1,0,0),Gt[2].vertexAttribDivisor(t,0));const n=Gt[1][2];Gt[2].vertexAttribDivisor(n,1),lc(e,ln,cn.slice());const r=Gt[1][3];r>-1&&(Gt[2].enableVertexAttribArray(r),Gt[2].bindBuffer(Gt[2].ARRAY_BUFFER,ln),Gt[2].vertexAttribPointer(r,4,Gt[2].FLOAT,!1,0,0),Gt[2].vertexAttribDivisor(r,0));const i=Gt[1][3];Gt[2].vertexAttribDivisor(i,1);const o=0|un.length,u=Gt;u[2].drawArraysInstanced(u[2].TRIANGLES,0,6,o),He(un),He(cn);const s=Gt[1][0];Gt[2].disableVertexAttribArray(s);const c=Gt[1][1];Gt[2].disableVertexAttribArray(c);const l=Gt[1][2];Gt[2].disableVertexAttribArray(l);const a=Gt[1][3];Gt[2].disableVertexAttribArray(a),d=function(){}}}un.push((A=ss(cs(h[0])*t[1],ls(h[0])*t[1]),b=ns(rs(h[1])*t[1],is(h[1])*t[1]),[0|cs(A),0|ls(A),0|rs(b),0|is(b)])),cn.push([0|cs(W.TextureSlicePosition),0|ls(W.TextureSlicePosition),0|rs(W.TextureSliceSize),0|is(W.TextureSliceSize)]);break;case 5:if(O){const n=Yt;for(let e=0;e<=4;e++)n[2].disableVertexAttribArray(e);n[2].useProgram(n[0]),n[2].enable(n[2].BLEND);const r=Yt;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE);const i=Yt[1][0];i>-1&&(Yt[2].enableVertexAttribArray(i),Yt[2].bindBuffer(Yt[2].ARRAY_BUFFER,mt),Yt[2].vertexAttribPointer(i,2,Yt[2].FLOAT,!1,0,0),Yt[2].vertexAttribDivisor(i,0));const o=Yt[1][1];let u;o>-1&&(Yt[2].enableVertexAttribArray(o),Yt[2].bindBuffer(Yt[2].ARRAY_BUFFER,_t),Yt[2].vertexAttribPointer(o,2,Yt[2].FLOAT,!1,0,0),Yt[2].vertexAttribDivisor(o,0)),u=[0|rs(t[0]),0|is(t[0])],Yt[2].uniform2f(Yt[1][4],u[0],u[1]);const s=[$,q,Y,X];Yt[2].uniform4f(Yt[1][5],s[0],s[1],s[2],s[3]),d=function(){lc(e,sn,un.slice());const t=Yt[1][2];t>-1&&(Yt[2].enableVertexAttribArray(t),Yt[2].bindBuffer(Yt[2].ARRAY_BUFFER,sn),Yt[2].vertexAttribPointer(t,4,Yt[2].FLOAT,!1,0,0),Yt[2].vertexAttribDivisor(t,0));const n=Yt[1][2];Yt[2].vertexAttribDivisor(n,1);const r=0|un.length,i=Yt;i[2].drawArraysInstanced(i[2].TRIANGLES,0,6,r),He(un),He(cn);const o=Yt[1][0];Yt[2].disableVertexAttribArray(o);const u=Yt[1][1];Yt[2].disableVertexAttribArray(u);const s=Yt[1][2];Yt[2].disableVertexAttribArray(s);const c=Yt[1][3];Yt[2].disableVertexAttribArray(c),d=function(){}}}un.push((y=ss(cs(h[0])*t[1],ls(h[0])*t[1]),S=ns(rs(h[1])*t[1],is(h[1])*t[1]),[0|cs(y),0|ls(y),0|rs(S),0|is(S)]));break;case 6:var Z,K,Q;switch(d(),f=null,null!=l[0]&&null!=l[1]?(Z=0,l[0][0],K=l[1][0],Q=l[1][1]):Z=1,Z){case 0:{const e=Kt;for(let t=0;t<=4;t++)e[2].disableVertexAttribArray(t);e[2].useProgram(e[0]),e[2].enable(e[2].BLEND);const n=Kt;n[2].blendEquation(n[2].FUNC_ADD),n[2].blendFuncSeparate(n[2].SRC_ALPHA,n[2].ONE_MINUS_SRC_ALPHA,n[2].ONE,n[2].ONE);const r=Kt[1][1];r>-1&&(Kt[2].enableVertexAttribArray(r),Kt[2].bindBuffer(Kt[2].ARRAY_BUFFER,Et),Kt[2].vertexAttribPointer(r,2,Kt[2].FLOAT,!1,0,0),Kt[2].vertexAttribDivisor(r,0));const u=Kt[1][2];let s;let l;u>-1&&(Kt[2].enableVertexAttribArray(u),Kt[2].bindBuffer(Kt[2].ARRAY_BUFFER,Ot),Kt[2].vertexAttribPointer(u,2,Kt[2].FLOAT,!1,0,0),Kt[2].vertexAttribDivisor(u,0)),s=[0|rs(Q),0|is(Q)],Kt[2].uniform2f(Kt[1][5],s[0],s[1]);const f=ns(~~(rs(t[0])/t[1]),~~(is(t[0])/t[1]));l=[0|rs(f),0|is(f)],Kt[2].uniform2f(Kt[1][4],l[0],l[1]);const d=o;Kt[2].uniform1f(Kt[1][6],d);const h=[i.Dragger[0],i.Dragger[1]];let w;Kt[2].uniform2f(Kt[1][7],h[0],h[1]),w=a,Kt[2].uniformMatrix4fv(Kt[1][0],!0,w),Kt[2].activeTexture(Kt[2].TEXTURE0),Kt[2].bindTexture(Kt[2].TEXTURE_2D,K),Kt[2].uniform1i(Kt[1][9],0);const p=Kt[1][3];p>-1&&(Kt[2].enableVertexAttribArray(p),Kt[2].bindBuffer(Kt[2].ARRAY_BUFFER,pt),Kt[2].vertexAttribPointer(p,4,Kt[2].FLOAT,!1,0,0),Kt[2].vertexAttribDivisor(p,0));const g=Kt[1][3];let v;Kt[2].vertexAttribDivisor(g,1),Kt[2].activeTexture(Kt[2].TEXTURE1),Kt[2].bindTexture(Kt[2].TEXTURE_2D,c),Kt[2].uniform1i(Kt[1][10],1),v=_e(Fe,1e3,0|~~(~~(is(t[0])/t[1])/3));const m=Kt;m[2].drawArraysInstanced(m[2].TRIANGLES,0,6,v);break}}break;case 7:{d(),f=null;const e=Qt;for(let t=0;t<=4;t++)e[2].disableVertexAttribArray(t);e[2].useProgram(e[0]),e[2].enable(e[2].BLEND);const n=Qt;n[2].blendEquation(n[2].FUNC_ADD),n[2].blendFuncSeparate(n[2].SRC_ALPHA,n[2].ONE_MINUS_SRC_ALPHA,n[2].ONE,n[2].ONE);const r=Qt[1][0];r>-1&&(Qt[2].enableVertexAttribArray(r),Qt[2].bindBuffer(Qt[2].ARRAY_BUFFER,mt),Qt[2].vertexAttribPointer(r,2,Qt[2].FLOAT,!1,0,0),Qt[2].vertexAttribDivisor(r,0));const i=Qt[1][1];let u,s;let l;let a;i>-1&&(Qt[2].enableVertexAttribArray(i),Qt[2].bindBuffer(Qt[2].ARRAY_BUFFER,_t),Qt[2].vertexAttribPointer(i,2,Qt[2].FLOAT,!1,0,0),Qt[2].vertexAttribDivisor(i,0)),u=[s=2*t[1]|0,l=2*t[1]|0],Qt[2].uniform2f(Qt[1][4],u[0],u[1]),a=[0|rs(t[0]),0|is(t[0])],Qt[2].uniform2f(Qt[1][3],a[0],a[1]);const h=o;Qt[2].uniform1f(Qt[1][5],h);const w=Qt[1][2];w>-1&&(Qt[2].enableVertexAttribArray(w),Qt[2].bindBuffer(Qt[2].ARRAY_BUFFER,pt),Qt[2].vertexAttribPointer(w,4,Qt[2].FLOAT,!1,0,0),Qt[2].vertexAttribDivisor(w,0));const p=Qt[1][2];Qt[2].vertexAttribDivisor(p,1),Qt[2].activeTexture(Qt[2].TEXTURE0),Qt[2].bindTexture(Qt[2].TEXTURE_2D,c),Qt[2].uniform1i(Qt[1][6],0);const g=Qt;g[2].drawArraysInstanced(g[2].TRIANGLES,0,6,1e3);const v=Qt[1][0];Qt[2].disableVertexAttribArray(v);const m=Qt[1][1];Qt[2].disableVertexAttribArray(m);const x=Qt[1][2];Qt[2].disableVertexAttribArray(x);const A=Qt[1][7];Qt[2].disableVertexAttribArray(A);break}case 8:{if(O){const n=Xt;for(let e=0;e<=4;e++)n[2].disableVertexAttribArray(e);n[2].useProgram(n[0]),n[2].enable(n[2].BLEND);const r=Xt;r[2].blendEquationSeparate(r[2].MIN,r[2].MAX),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE);const i=Xt[1][0];i>-1&&(Xt[2].enableVertexAttribArray(i),Xt[2].bindBuffer(Xt[2].ARRAY_BUFFER,mt),Xt[2].vertexAttribPointer(i,2,Xt[2].FLOAT,!1,0,0),Xt[2].vertexAttribDivisor(i,0));const o=Xt[1][1];let u;let s;o>-1&&(Xt[2].enableVertexAttribArray(o),Xt[2].bindBuffer(Xt[2].ARRAY_BUFFER,_t),Xt[2].vertexAttribPointer(o,2,Xt[2].FLOAT,!1,0,0),Xt[2].vertexAttribDivisor(o,0)),Xt[2].activeTexture(Xt[2].TEXTURE0),Xt[2].bindTexture(Xt[2].TEXTURE_2D,J.Texture),Xt[2].uniform1i(Xt[1][6],0),u=[0|rs(J.TextureSize),0|is(J.TextureSize)],Xt[2].uniform2f(Xt[1][7],u[0],u[1]),s=[0|rs(t[0]),0|is(t[0])],Xt[2].uniform2f(Xt[1][5],s[0],s[1]),d=function(){const t=Xt[1][3];t>-1&&(Xt[2].enableVertexAttribArray(t),Xt[2].bindBuffer(Xt[2].ARRAY_BUFFER,sn),Xt[2].vertexAttribPointer(t,4,Xt[2].FLOAT,!1,0,0),Xt[2].vertexAttribDivisor(t,0));const n=Xt[1][3];Xt[2].vertexAttribDivisor(n,1),lc(e,sn,un.slice());const r=Xt[1][4];r>-1&&(Xt[2].enableVertexAttribArray(r),Xt[2].bindBuffer(Xt[2].ARRAY_BUFFER,ln),Xt[2].vertexAttribPointer(r,4,Xt[2].FLOAT,!1,0,0),Xt[2].vertexAttribDivisor(r,0));const i=Xt[1][4];Xt[2].vertexAttribDivisor(i,1),lc(e,ln,cn.slice()),cc(e,hn,dn.slice());const o=Xt[1][2];o>-1&&(Xt[2].enableVertexAttribArray(o),Xt[2].bindBuffer(Xt[2].ARRAY_BUFFER,hn),Xt[2].vertexAttribPointer(o,2,Xt[2].FLOAT,!1,0,0),Xt[2].vertexAttribDivisor(o,0));const u=Xt[1][2];Xt[2].vertexAttribDivisor(u,1);const s=0|un.length,c=Xt;c[2].drawArraysInstanced(c[2].TRIANGLES,0,6,s),He(un),He(cn),He(dn);const l=Xt[1][0];Xt[2].disableVertexAttribArray(l);const a=Xt[1][1];Xt[2].disableVertexAttribArray(a);const f=Xt[1][2];Xt[2].disableVertexAttribArray(f);const h=Xt[1][3];Xt[2].disableVertexAttribArray(h);const w=Xt[1][4];Xt[2].disableVertexAttribArray(w),d=function(){}}}const n=null!=s?1===(E=s).tag?[E.fields[0],E.fields[1]]:[0,10]:[0,10];for(let e=n[0];e<=n[1];e++){let n;const r=ss(3*e,3*e);n=ss(cs(h[0])+cs(r),ls(h[0])+ls(r)),un.push((T=ns(rs(h[1])*t[1],is(h[1])*t[1]),[0|cs(n),0|ls(n),0|rs(T),0|is(T)])),cn.push([0|cs(J.TextureSlicePosition),0|ls(J.TextureSlicePosition),0|rs(J.TextureSliceSize),0|is(J.TextureSliceSize)]);const i=e/9,o=.2*(1-i);dn.push([o,i])}break}}};gc(e),ac(e,rs(r.Resolution),is(r.Resolution)),fc(e,rs(r.Resolution),is(r.Resolution));const m=function(e,n,r){var i,o;const u=t(e);if(null!=u){const e=u[1],t=u[0];return new qc(t,e,n,r,(i=rs(e),o=is(e),[cs(n)/i,ls(n)/o,rs(r)/i,is(r)/o]))}return null};!function t(r,i,o,u,l,a){var h,w;e:for(;;){const x=r,A=i,b=o,y=u,S=l,E=a;var p,g;switch(1===E.tag&&Oe(E.fields[0].Shader,new gs(2,"World"))?(p=0,g=E.fields[0]):p=1,p){case 0:{let n;wc(e,wn),pc(e,0,s),pc(e,1,c),n=new Float64Array([e.COLOR_ATTACHMENT0,e.COLOR_ATTACHMENT1]),e.drawBuffers(n),fc(e,rs(A),is(A));const r=ss(cs(g.Position)+cs(b),ls(g.Position)+ls(b));for(let e=0;e<=g.Children.length-1;e++)t(x,A,r,y,new gs(0,"Default"),g.Children[e]);d(),f=null,gc(e),ac(e,rs(A),is(A));const i=Zt;for(let e=0;e<=4;e++)i[2].disableVertexAttribArray(e);i[2].useProgram(i[0]),i[2].enable(i[2].BLEND);const o=Zt;o[2].blendEquation(o[2].FUNC_ADD),o[2].blendFuncSeparate(o[2].SRC_ALPHA,o[2].ONE_MINUS_SRC_ALPHA,o[2].ONE,o[2].ONE);const u=Zt[1][0];u>-1&&(Zt[2].enableVertexAttribArray(u),Zt[2].bindBuffer(Zt[2].ARRAY_BUFFER,mt),Zt[2].vertexAttribPointer(u,2,Zt[2].FLOAT,!1,0,0),Zt[2].vertexAttribDivisor(u,0));const l=Zt[1][1];l>-1&&(Zt[2].enableVertexAttribArray(l),Zt[2].bindBuffer(Zt[2].ARRAY_BUFFER,_t),Zt[2].vertexAttribPointer(l,2,Zt[2].FLOAT,!1,0,0),Zt[2].vertexAttribDivisor(l,0)),Zt[2].activeTexture(Zt[2].TEXTURE0),Zt[2].bindTexture(Zt[2].TEXTURE_2D,s),Zt[2].uniform1i(Zt[1][2],0);const a=Zt;a[2].drawArrays(a[2].TRIANGLES,0,6);const h=Zt[1][0];Zt[2].disableVertexAttribArray(h);const w=Zt[1][1];Zt[2].disableVertexAttribArray(w);break}case 1:switch(E.tag){case 0:v([A,y],S,m(E.fields[0].Texture,E.fields[0].TextureSlicePosition,E.fields[0].TextureSliceSize),null!=E.fields[0].HeightMap?(h=E.fields[0].HeightMap,m(h.Texture,h.TextureSlicePosition,h.TextureSliceSize)):null,E.fields[0].Effect,[ss(cs(E.fields[0].Position)+cs(b),ls(E.fields[0].Position)+ls(b)),E.fields[0].Size]);break;case 3:{d(),f=null;const n=tn(x,rs(E.fields[0].Size),is(E.fields[0].Size));let r;wc(e,pn),pc(e,0,n),ac(e,rs(E.fields[0].Size),is(E.fields[0].Size)),fc(e,rs(E.fields[0].Size),is(E.fields[0].Size)),r=new Float64Array([e.COLOR_ATTACHMENT0]),e.drawBuffers(r);for(let e=0;e<=E.fields[0].Children.length-1;e++)t(x+1,E.fields[0].Size,as(),1,new gs(0,"Default"),E.fields[0].Children[e]);d(),f=null,gc(e),ac(e,rs(A),is(A)),v([A,y],E.fields[0].Shader,new qc(n,E.fields[0].Size,as(),E.fields[0].Size,[0,0,0,0]),null,null,[(w=as(),ss(cs(w)+cs(b),ls(w)+ls(b))),E.fields[0].Size]);break}case 2:E.fields[0].Last=E.fields[0].Render(n),r=x,i=A,o=b,u=y,l=S,a=E.fields[0].Last;continue e;case 4:case 5:r=x,i=A,o=b,u=y,l=S,a=E.fields[0].Last;continue e;case 6:break;default:{const e=ss(cs(E.fields[0].Position)+cs(b),ls(E.fields[0].Position)+ls(b));let n;n=Gn(E.fields[0].Shader,S);for(let r=0;r<=E.fields[0].Children.length-1;r++)t(x,A,e,y,n,E.fields[0].Children[r])}}}break}}(0,r.Resolution,ss(0,0),r.Scale,new gs(0,"Default"),r.Content),d()}}}}(al,fl);function xl(e){ll.width=cl.clientWidth,ll.height=cl.clientHeight,xc(new Bs(3,"Resolution",~~ll.clientWidth,~~ll.clientHeight))}function Al(e){const t=et();if(dl.length>0&&rt(t,hl())>=0){let e,n,r;fr((function(e){mc(e[1][1]),dl.splice(e[0],1)}),e=mr(n=cr((function(e){return rt(t,e[1][0])>=0}),r=wr((e,t)=>[e,t],dl))))}if(wl.length>0){const e=function(e,t){e:for(;;){const n=e,r=t;if(wl.length>0){const i=wl[0];if(wl.splice(0,1),0===i.tag){if(4===i.fields[0].tag){vl(!0),e=n,t=r;continue e}{const o=Yc(r,i.fields[0]);lu(xc,o[1]),e=n,t=o[0];continue e}}if(6===i.fields[0].tag){dl.push([i.fields[0].fields[0],i.fields[0].fields[1]]),hl(pr((function(e){return e[0]}),dl,{Compare:rt})[0]),e=n,t=r;continue e}{const o=Sc(et(),n,i.fields[0]);lu(mc,o[1]),e=o[0],t=r;continue e}}return[n,r]}}(pl(),gl());pl()===e[0]||(pl(e[0]),vl(!0)),gl()===e[1]||gl(e[1])}}function bl(e){var t;vl()&&(vl(!1),gl((t=ul(pl()),new Ds(gl().Scale,gl().Resolution,t,gl().MouseItem,gl().DragItem,gl().ClickItem,gl().HoverItem,gl().BlurItem))),function(e){const t=new Set([]);fr((function(e){let n;n=ve(e,t)}),Rc.keys()),function e(n){e:for(;;){const r=n;switch(r.tag){case 2:n=r.fields[0].Last;continue e;case 5:r.fields[0].Rendered||(r.fields[0].Last=r.fields[0].Render()),e(r.fields[0].Last),r.fields[0].Rendered=!1;break;case 1:case 3:r.fields[0].Children.forEach(e);break;case 0:case 6:break;default:t.delete(r.fields[0].Key);n=r.fields[0].Last;continue e}break}}(e),fr((function(e){Rc.delete(e)}),t),Mc.clear()}(gl().Content)),ml(et())(gl())(pl())}function yl(e){Al(),bl();window.requestAnimationFrame(yl)}window.isTouch?(ll.ontouchstart=function(e){const t=e.touches[0].clientX,n=e.touches[0].clientY;xc(new Bs(0,"MouseDown",~~t,~~n)),e.preventDefault()},ll.ontouchmove=function(e){const t=e.touches[0].clientX,n=e.touches[0].clientY;xc(new Bs(1,"MouseMove",~~t,~~n,!1)),e.preventDefault()},ll.ontouchend=function(e){xc(new Bs(2,"MouseUp",0,0)),e.preventDefault()}):(ll.onmousemove=function(e){xc(new Bs(1,"MouseMove",~~e.x,~~e.y,!1))},ll.onmousedown=function(e){xc(new Bs(0,"MouseDown",~~e.x,~~e.y))},ll.onmouseup=function(e){xc(new Bs(2,"MouseUp",~~e.x,~~e.y))},ll.onmousewheel=function(e){xc(new Bs(0,"MouseDown",~~e.x,~~e.y)),xc(new Bs(1,"MouseMove",~~e.x+~~e.wheelDeltaX,~~e.y+~~e.wheelDeltaY,!0)),xc(new Bs(2,"MouseUp",~~e.x,~~e.y)),xc(new Bs(1,"MouseMove",~~e.x,~~e.y,!1))}),window.addEventListener("keydown",(function(e){fr((function(t){const n=e.key;1===n.length?t(n[0]):"Backspace"===n&&t("\b")}),Gn(Gc(),[],(function(e){return[e]})))})),window.onresize=function(e){xl()},xl(),function(){let e;oc(e=tc.Delay((function(){return tc.Bind(sl("Sprites.json"),(function(e){Ac((function(t){return hi(t,e)}));yl();return tc.Zero()}))})))}(),n.d(t,"getJson",(function(){return sl})),n.d(t,"holder",(function(){return cl})),n.d(t,"canvas",(function(){return ll})),n.d(t,"context",(function(){return al})),n.d(t,"getTexure",(function(){return fl})),n.d(t,"postponedQueue",(function(){return dl})),n.d(t,"postponedQueueMinTime",(function(){return hl})),n.d(t,"messageQueue",(function(){return wl})),n.d(t,"gameState",(function(){return pl})),n.d(t,"hostState",(function(){return gl})),n.d(t,"redraw",(function(){return vl})),n.d(t,"renderer",(function(){return ml})),n.d(t,"resize",(function(){return xl})),n.d(t,"updateFrame",(function(){return Al})),n.d(t,"renderFrame",(function(){return bl})),n.d(t,"mainLoop",(function(){return yl}))}]);