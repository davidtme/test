!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r;function i(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function o(e,t,n){const i=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(null!=i){const[e,o,u,s]=i;if(!function(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}(n=n||function(e,t){if(t&r.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}(u,t)).test(s))return function(e,t){const[n,r,i,o]=e;return{sign:r||"",prefix:i||"",digits:o,radix:t}}(i,n)}return null}function u(e,t,n,r){try{return[!0,function(e,t,n,r,u){const s=o(e,t,u);if(null!=s){let e=Number.parseInt(s.sign+s.digits,s.radix);if(!Number.isNaN(e)){const[t,o]=i(!0,r);!n&&10!==s.radix&&e>=t&&e<=o&&(e=e<<32-r>>32-r);const[u,l]=i(n,r);if(e>=u&&e<=l)return e}}throw new Error("Input string was not in a correct format.")}(e,t,n,r)]}catch(e){}return[!1,0]}function s(e){return-2147483648===e?e:-e}n.r(t),function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"}(r||(r={}));var l=null;try{l=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function c(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function a(e){return!0===(e&&e.__isLong__)}c.prototype.GetHashCode=function(){let e=this.unsigned?1:0;return e=((e=(e<<5)+e^this.high)<<5)+e^this.low},c.prototype.Equals=function(e){return z(this,e)},c.prototype.CompareTo=function(e){return V(this,e)},c.prototype.toString=function(e){return D(this,e)},c.prototype.toJSON=function(){return D(this)},c.prototype.__isLong__,Object.defineProperty(c.prototype,"__isLong__",{value:!0});var f={},d={};function h(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=d[e])?r:(n=p(e,(0|e)<0?-1:0,!0),i&&(d[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=f[e])?r:(n=p(e,e<0?-1:0,!1),i&&(f[e]=n),n)}function w(e,t){if(isNaN(e))return t?T:b;if(t){if(e<0)return T;if(e>=A)return M}else{if(e<=-y)return L;if(e+1>=y)return R}return e<0?H(w(-e,t)):p(e%m|0,e/m|0,t)}function p(e,t,n){return new c(e,t,n)}var g=Math.pow;function v(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return b;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r=e.indexOf("-");if(r>0)throw Error("interior hyphen");if(0===r)return H(v(e.substring(1),t,n));for(var i=w(g(n,8)),o=b,u=0;u<e.length;u+=8){var s=Math.min(8,e.length-u),l=parseInt(e.substring(u,u+s),n);if(s<8)o=j(X(o,w(g(n,s))),w(l));else o=j(o=X(o,i),w(l))}return o.unsigned=t,o}function x(e,t){return"number"==typeof e?w(e,t):"string"==typeof e?v(e,t):p(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}var m=4294967296,A=m*m,y=A/2,S=h(1<<24),b=h(0),T=h(0,!0),E=h(1),C=h(1,!0),P=h(-1),R=p(-1,2147483647,!1),M=p(-1,-1,!0),L=p(0,-2147483648,!1);function O(e){return e.unsigned?e.low>>>0:e.low}function F(e){return e.unsigned?(e.high>>>0)*m+(e.low>>>0):e.high*m+(e.low>>>0)}function D(e,t){if((t=t||10)<2||36<t)throw RangeError("radix");if(B(e))return"0";if(k(e)){if(z(e,L)){var n=w(t),r=G(e,n),i=W(X(r,n),e);return D(r,t)+O(i).toString(t)}return"-"+D(H(e),t)}for(var o=w(g(t,6),e.unsigned),u=e,s="";;){var l=G(u,o),c=(O(W(u,X(l,o)))>>>0).toString(t);if(B(u=l))return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}}function B(e){return 0===e.high&&0===e.low}function k(e){return!e.unsigned&&e.high<0}function _(e){return 1==(1&e.low)}function z(e,t){return a(t)||(t=x(t)),(e.unsigned===t.unsigned||e.high>>>31!=1||t.high>>>31!=1)&&(e.high===t.high&&e.low===t.low)}function I(e,t){return V(e,t)<0}function U(e,t){return V(e,t)>0}function N(e,t){return V(e,t)>=0}function V(e,t){if(a(t)||(t=x(t)),z(e,t))return 0;var n=k(e),r=k(t);return n&&!r?-1:!n&&r?1:e.unsigned?t.high>>>0>e.high>>>0||t.high===e.high&&t.low>>>0>e.low>>>0?-1:1:k(W(e,t))?-1:1}function H(e){return!e.unsigned&&z(e,L)?L:j(Y(e),E)}function j(e,t){a(t)||(t=x(t));var n=e.high>>>16,r=65535&e.high,i=e.low>>>16,o=65535&e.low,u=t.high>>>16,s=65535&t.high,l=t.low>>>16,c=0,f=0,d=0,h=0;return d+=(h+=o+(65535&t.low))>>>16,f+=(d+=i+l)>>>16,c+=(f+=r+s)>>>16,c+=n+u,p((d&=65535)<<16|(h&=65535),(c&=65535)<<16|(f&=65535),e.unsigned)}function W(e,t){return a(t)||(t=x(t)),j(e,H(t))}function X(e,t){if(B(e))return e.unsigned?T:b;if(a(t)||(t=x(t)),l)return p(l.mul(e.low,e.high,t.low,t.high),l.get_high(),e.unsigned);if(B(t))return e.unsigned?T:b;if(z(e,L))return _(t)?L:b;if(z(t,L))return _(e)?L:b;if(k(e))return k(t)?X(H(e),H(t)):H(X(H(e),t));if(k(t))return H(X(e,H(t)));if(I(e,S)&&I(t,S))return w(F(e)*F(t),e.unsigned);var n=e.high>>>16,r=65535&e.high,i=e.low>>>16,o=65535&e.low,u=t.high>>>16,s=65535&t.high,c=t.low>>>16,f=65535&t.low,d=0,h=0,g=0,v=0;return g+=(v+=o*f)>>>16,h+=(g+=i*f)>>>16,g&=65535,h+=(g+=o*c)>>>16,d+=(h+=r*f)>>>16,h&=65535,d+=(h+=i*c)>>>16,h&=65535,d+=(h+=o*s)>>>16,d+=n*f+r*c+i*s+o*u,p((g&=65535)<<16|(v&=65535),(d&=65535)<<16|(h&=65535),e.unsigned)}function G(e,t){if(a(t)||(t=x(t)),B(t))throw Error("division by zero");var n,r,i;if(l)return e.unsigned||-2147483648!==e.high||-1!==t.low||-1!==t.high?p((e.unsigned?l.div_u:l.div_s)(e.low,e.high,t.low,t.high),l.get_high(),e.unsigned):e;if(B(e))return e.unsigned?T:b;if(e.unsigned){if(t.unsigned||(t=function(e){return e.unsigned?e:p(e.low,e.high,!0)}(t)),U(t,e))return T;if(U(t,J(e,1)))return C;i=T}else{if(z(e,L))return z(t,E)||z(t,P)?L:z(t,L)?E:z(n=q(G($(e,1),t),1),b)?k(t)?E:P:i=j(n,G(r=W(e,X(t,n)),t));if(z(t,L))return e.unsigned?T:b;if(k(e))return k(t)?G(H(e),H(t)):H(G(H(e),t));if(k(t))return H(G(e,H(t)));i=b}for(r=e;N(r,t);){n=Math.max(1,Math.floor(F(r)/F(t)));for(var o=Math.ceil(Math.log(n)/Math.LN2),u=o<=48?1:g(2,o-48),s=w(n),c=X(s,t);k(c)||U(c,r);)c=X(s=w(n-=u,e.unsigned),t);B(s)&&(s=E),i=j(i,s),r=W(r,c)}return i}function Y(e){return p(~e.low,~e.high,e.unsigned)}function q(e,t){return a(t)&&(t=O(t)),0==(t&=63)?e:t<32?p(e.low<<t,e.high<<t|e.low>>>32-t,e.unsigned):p(0,e.low<<t-32,e.unsigned)}function $(e,t){return a(t)&&(t=O(t)),0==(t&=63)?e:t<32?p(e.low>>>t|e.high<<32-t,e.high>>t,e.unsigned):p(e.high>>t-32,e.high>=0?0:-1,e.unsigned)}function J(e,t){if(a(t)&&(t=O(t)),0===(t&=63))return e;var n=e.high;return t<32?p(e.low>>>t|n<<32-t,n>>>t,e.unsigned):p(32===t?n:n>>>t-32,0,e.unsigned)}var Z=c;const K=j,Q=X,ee=G,te=function(e,t){return a(t)||(t=x(t)),l?p((e.unsigned?l.rem_u:l.rem_s)(e.low,e.high,t.low,t.high),l.get_high(),e.unsigned):W(e,X(G(e,t),t))},ne=H,re=function(e,t){return a(t)||(t=x(t)),p(e.low&t.low,e.high&t.high,e.unsigned)},ie=V,oe=p,ue=function(e,t,n){return n?function(e,t){return new c(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)}(e,t):function(e,t){return new c(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}(e,t)},se=w,le=O,ce=function(e,t){return t?function(e){var t=e.high,n=e.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]}(e):function(e){var t=e.high,n=e.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]}(e)},ae=F,fe=D;function de(e,t,n){let r=e,i=0;switch(n){case 0:i=r=e<<24>>24;break;case 4:r=e<<24>>>24;break;case 1:i=r=e<<16>>16;break;case 5:r=e<<16>>>16;break;case 2:i=r=e>>0;break;case 6:r=e>>>0}return p(r,i>>31,t)}function he(e,t,n,r,i){const u=o(e,t,i);if(null!=u){const t=(e,t)=>{const n=Math.max(e.length,t.length);return e.padStart(n,"0")<=t.padStart(n,"0")},r="-"===u.sign,i=function(e,t,n){switch(t){case 2:return e?"1111111111111111111111111111111111111111111111111111111111111111":n?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return e?"1777777777777777777777":n?"1000000000000000000000":"777777777777777777777";case 10:return e?"18446744073709551615":n?"9223372036854775808":"9223372036854775807";case 16:return e?"FFFFFFFFFFFFFFFF":n?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}(n||10!==u.radix,u.radix,r);if(t(u.digits.toUpperCase(),i))return v(e=r?u.sign+u.digits:u.digits,n,u.radix)}throw new Error("Input string was not in a correct format.")}function we(e,t,n,r){try{return[!0,he(e,t,n)]}catch(e){}return[!1,b]}function pe(e){return null!=e&&"function"==typeof e.Dispose}function ge(e,t,n){return e.has(t)?[!0,e.get(t)]:[!1,n]}function ve(e,t){return!t.has(e)&&(t.add(e),!0)}class xe{constructor(e){this.factory=e,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function me(e){const t=e;return"number"==typeof t.offset?t.offset:1===e.kind?0:-6e4*e.getTimezoneOffset()}function Ae(e,t){return(e=e<0&&null!=t&&10!==t?4294967295+e+1:e).toString(t)}class ye{static id(e){return ye.idMap.has(e)||ye.idMap.set(e,++ye.count),ye.idMap.get(e)}}function Se(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=33*n^e.charCodeAt(t++);return n}function be(e){return 2654435761*e|0}function Te(e){return 0===e.length?0:e.reduce((e,t)=>(e<<5)+e^t)}function Ee(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return be(e);case"string":return Se(e);default:return be(ye.id(e))}}function Ce(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return be(e);case"string":return Se(e);default:if("function"==typeof e.GetHashCode)return e.GetHashCode();if(Pe(e)){const t=e,n=t.length,r=new Array(n);for(let e=0;e<n;e++)r[e]=Ce(t[e]);return Te(r)}return Se(String(e))}}function Pe(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Re(e,t,n){if(null==e)return null==t;if(null==t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function Me(e,t){return Re(e,t,Le)}function Le(e,t){return e===t||(null==e?null==t:null!=t&&("object"==typeof e&&("function"==typeof e.Equals?e.Equals(t):Pe(e)?Pe(t)&&Me(e,t):e instanceof Date&&(t instanceof Date&&0===Oe(e,t)))))}function Oe(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+me(e),r=t.getTime()+me(t)),n===r?0:n<r?-1:1}function Fe(e,t){return e===t?0:e<t?-1:1}function De(e,t,n){if(null==e)return null==t?0:1;if(null==t)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,i=0;r<e.length;r++)if(0!==(i=n(e[r],t[r])))return i;return 0}function Be(e,t){return De(e,t,ke)}function ke(e,t){return e===t?0:null==e?null==t?0:-1:null==t?1:"object"!=typeof e?e<t?-1:1:"function"==typeof e.CompareTo?e.CompareTo(t):Pe(e)?Pe(t)&&Be(e,t):e instanceof Date?t instanceof Date&&Oe(e,t):1}function _e(e,t,n){return e(t,n)<0?t:n}function ze(e,t,n){return e(t,n)>0?t:n}function Ie(e){let t=e;return e=>void 0===e?t:void(t=e)}ye.idMap=new WeakMap,ye.count=0;const Ue={None:0,LowerFirst:1,SnakeCase:2,SnakeCaseAllCaps:3,KebabCase:4};function Ne(e,t){return e.replace(/[a-z]?[A-Z]/g,e=>1===e.length?e.toLowerCase():e.charAt(0)+t+e.charAt(1).toLowerCase())}function Ve(e,t){switch(t){case Ue.LowerFirst:return e.charAt(0).toLowerCase()+e.slice(1);case Ue.SnakeCase:return Ne(e,"_");case Ue.SnakeCaseAllCaps:return Ne(e,"_").toUpperCase();case Ue.KebabCase:return Ne(e,"-");case Ue.None:default:return e}}function He(e){Pe(e)?e.splice(0):e.clear()}const je="__CURRIED__";function We(e,t){if(null==t)return null;if(t.length>1)return t;let n;switch(e){case 2:n=(e,n)=>t(e)(n);break;case 3:n=(e,n,r)=>t(e)(n)(r);break;case 4:n=(e,n,r,i)=>t(e)(n)(r)(i);break;case 5:n=(e,n,r,i,o)=>t(e)(n)(r)(i)(o);break;case 6:n=(e,n,r,i,o,u)=>t(e)(n)(r)(i)(o)(u);break;case 7:n=(e,n,r,i,o,u,s)=>t(e)(n)(r)(i)(o)(u)(s);break;case 8:n=(e,n,r,i,o,u,s,l)=>t(e)(n)(r)(i)(o)(u)(s)(l);break;default:throw new Error("Uncurrying to more than 8-arity is not supported: "+e)}return n[je]=t,n}function Xe(e,t,n){if(null==t)return null;if(je in t){t=t[je];for(let e=0;e<n.length;e++)t=t(n[e]);return t}switch(e){case 1:return e=>t.apply(null,n.concat([e]));case 2:return e=>r=>t.apply(null,n.concat([e,r]));case 3:return e=>r=>i=>t.apply(null,n.concat([e,r,i]));case 4:return e=>r=>i=>o=>t.apply(null,n.concat([e,r,i,o]));case 5:return e=>r=>i=>o=>u=>t.apply(null,n.concat([e,r,i,o,u]));case 6:return e=>r=>i=>o=>u=>s=>t.apply(null,n.concat([e,r,i,o,u,s]));case 7:return e=>r=>i=>o=>u=>s=>l=>t.apply(null,n.concat([e,r,i,o,u,s,l]));case 8:return e=>r=>i=>o=>u=>s=>l=>c=>t.apply(null,n.concat([e,r,i,o,u,s,l,c]));default:throw new Error("Partially applying to more than 8-arity is not supported: "+e)}}function Ge(e,t){function n(e,t,r,i){const o=r[i];if(0!==o){const e=o[0],n=o[1];e>1&&(t=function(e,t){if(null==t)return null;if(je in t)return t[je];switch(e){case 2:return e=>n=>t(e,n);case 3:return e=>n=>r=>t(e,n,r);case 4:return e=>n=>r=>i=>t(e,n,r,i);case 5:return e=>n=>r=>i=>o=>t(e,n,r,i,o);case 6:return e=>n=>r=>i=>o=>u=>t(e,n,r,i,o,u);case 7:return e=>n=>r=>i=>o=>u=>s=>t(e,n,r,i,o,u,s);case 8:return e=>n=>r=>i=>o=>u=>s=>l=>t(e,n,r,i,o,u,s,l);default:throw new Error("Currying to more than 8-arity is not supported: "+e)}}(e,t)),n>1&&(t=We(n,t))}const u=e(t);return i+1===r.length?u:e=>n(u,e,r,i+1)}return r=>n(e,r,t,0)}function Ye(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}function qe(e,t){if(e.has(t))return e.get(t);throw new Error(`The given key '${t}' was not present in the dictionary.`)}const $e=/(?:Z|[+-](\d+):?([0-5]?\d)?)\s*$/;function Je(e,t){const n=new Date(e);return n.kind=0|(null==t?0:t),n}function Ze(){return Je(-621355968e5,0)}function Ke(e){let t=new Date(e);if(isNaN(t.getTime())){const n=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*([+-]\d+(?::\d+)?)?\s*$/.exec(e);if(null==n)throw new Error("The string is not a valid Date.");{let e=null,r=0;if(null!=n[2]){const e=n[2].split(":");r=3600*parseInt(e[0],10)+60*parseInt(e[1]||"0",10)+parseFloat(e[2]||"0"),null!=n[3]&&"PM"===n[3].toUpperCase()&&(r+=720)}if(null!=n[4]){if(null!=n[1])e=new Date(n[1]+" UTC");else{const t=new Date;e=new Date(t.getUTCFullYear()+"/"+(t.getUTCMonth()+1)+"/"+t.getUTCDate())}const t=n[4].substr(1).split(":");let i=60*parseInt(t[0],10)+parseInt(t[1]||"0",10);"+"===n[4][0]&&(i*=-1),r+=60*i}else if(null!=n[1])e=new Date(n[1]);else{const t=new Date;e=new Date(t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate())}t=new Date(e.getTime()+1e3*r),t=new Date(t.getTime()+6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))}}return t}function Qe(e,t=!1){const n=Ke(e),r=$e.exec(e),i=null!=r?t&&"Z"===r[0]?1:2:0;return Je(n.getTime(),i)}function et(){return Je(Date.now(),2)}function tt(e,t){const n=Je(e.getTime()+t,e.kind);if(2===e.kind){const t=e.getTimezoneOffset(),r=n.getTimezoneOffset();return t!==r?Je(n.getTime()+6e4*(r-t),e.kind):n}return n}function nt(e,t){return e.getTime()===t.getTime()}const rt=Oe;function it(e,t){return n=e,"number"==typeof(r=t)?tt(n,-r):n.getTime()-r.getTime();var n,r}var ot={GetHashCode(){return Te([this.s,this.e].concat(this.c))},Equals(e){return!this.cmp(e)},CompareTo(e){return this.cmp(e)}},ut=28,st=1,lt=1e6,ct=-29,at=29,ft="[big.js] ",dt=ft+"Invalid ",ht=dt+"decimal places",wt=dt+"rounding mode",pt=void 0,gt=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function vt(e,t){var n,r,i;if(0===t&&1/t<0)t="-0";else if(!gt.test(t+=""))throw Error(dt+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),i=t.length,r=0;r<n&&r<i&&"0"==t.charAt(r);)++r;if(r==i)e.c=[e.e=0];else for(e.e=n-r-1,e.c=[],n=0;r<i;)e.c[n++]=+t.charAt(r++);return e=xt(e,At.DP,At.RM)}function xt(e,t,n,r){var i=e.c,o=e.e+t+1;if(o<i.length){if(1===n)r=i[o]>=5;else if(2===n)r=i[o]>5||5==i[o]&&(r||o<0||i[o+1]!==pt||1&i[o-1]);else if(3===n)r=r||!!i[0];else if(r=!1,0!==n)throw Error(wt);if(o<1)i.length=1,r?(e.e=-t,i[0]=1):i[0]=e.e=0;else{if(i.length=o--,r)for(;++i[o]>9;)i[o]=0,o--||(++e.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(n<0||n>3||n!==~~n)throw Error(wt);return e}function mt(e,t,n,r){var i,o,u=e.constructor,s=!e.c[0];if(n!==pt){if(n!==~~n||n<(3==t)||n>lt)throw Error(3==t?dt+"precision":ht);for(n=r-(e=new u(e)).e,e.c.length>++r&&xt(e,n,u.RM),2==t&&(r=e.e+n+1);e.c.length<r;)e.c.push(0)}if(i=e.e,n=(o=e.c.join("")).length,2!=t&&(1==t||3==t&&r<=i||i<=u.NE||i>=u.PE))o=o.charAt(0)+(n>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>n)for(i-=n;i--;)o+="0";else i<n&&(o=o.slice(0,i)+"."+o.slice(i));else n>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&(!s||4==t)?"-"+o:o}ot.abs=function(){var e=new this.constructor(this);return e.s=1,e},ot.cmp=function(e){var t,n=this.constructor,r=new n(this),i=(e=new n(e),r.c),o=e.c,u=r.s,s=e.s,l=r.e,c=e.e;if(!i[0]||!o[0])return i[0]?u:o[0]?-s:0;if(u!=s)return u;if(t=u<0,l!=c)return l>c^t?1:-1;for(s=Math.max(i.length,o.length),u=0;u<s;u++)if((l=u<i.length?i[u]:0)!=(c=u<o.length?o[u]:0))return l>c^t?1:-1;return 0},ot.div=function(e){var t=this.constructor,n=new t(this),r=(e=new t(e),n.c),i=e.c,o=n.s==e.s?1:-1,u=t.DP;if(u!==~~u||u<0||u>lt)throw Error(ht);if(!i[0])throw Error("[big.js] Division by zero");if(!r[0])return new t(0*o);var s,l,c,a,f,d=i.slice(),h=s=i.length,w=r.length,p=r.slice(0,s),g=p.length,v=e,x=v.c=[],m=0,A=u+(v.e=n.e-e.e)+1;for(v.s=o,o=A<0?0:A,d.unshift(0);g++<s;)p.push(0);do{for(c=0;c<10;c++){if(s!=(g=p.length))a=s>g?1:-1;else for(f=-1,a=0;++f<s;)if(i[f]!=p[f]){a=i[f]>p[f]?1:-1;break}if(!(a<0))break;for(l=g==s?i:d;g;){if(p[--g]<l[g]){for(f=g;f&&!p[--f];)p[f]=9;--p[f],p[g]+=10}p[g]-=l[g]}for(;!p[0];)p.shift()}x[m++]=a?c:++c,p[0]&&a?p[g]=r[h]||0:p=[r[h]]}while((h++<w||p[0]!==pt)&&o--);return x[0]||1==m||(x.shift(),v.e--),m>A&&xt(v,u,t.RM,p[0]!==pt),v},ot.eq=function(e){return!this.cmp(e)},ot.gt=function(e){return this.cmp(e)>0},ot.gte=function(e){return this.cmp(e)>-1},ot.lt=function(e){return this.cmp(e)<0},ot.lte=function(e){return this.cmp(e)<1},ot.minus=ot.sub=function(e){var t,n,r,i,o=this.constructor,u=new o(this),s=(e=new o(e),u.s),l=e.s;if(s!=l)return e.s=-l,u.plus(e);var c=u.c.slice(),a=u.e,f=e.c,d=e.e;if(!c[0]||!f[0])return f[0]?(e.s=-l,e):new o(c[0]?u:0);if(s=a-d){for((i=s<0)?(s=-s,r=c):(d=a,r=f),r.reverse(),l=s;l--;)r.push(0);r.reverse()}else for(n=((i=c.length<f.length)?c:f).length,s=l=0;l<n;l++)if(c[l]!=f[l]){i=c[l]<f[l];break}if(i&&(r=c,c=f,f=r,e.s=-e.s),(l=(n=f.length)-(t=c.length))>0)for(;l--;)c[t++]=0;for(l=t;n>s;){if(c[--n]<f[n]){for(t=n;t&&!c[--t];)c[t]=9;--c[t],c[n]+=10}c[n]-=f[n]}for(;0===c[--l];)c.pop();for(;0===c[0];)c.shift(),--d;return c[0]||(e.s=1,c=[d=0]),e.c=c,e.e=d,e},ot.mod=function(e){var t,n=this.constructor,r=new n(this),i=(e=new n(e),r.s),o=e.s;if(!e.c[0])throw Error("[big.js] Division by zero");return r.s=e.s=1,t=1==e.cmp(r),r.s=i,e.s=o,t?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=i,n.RM=o,this.minus(r.times(e)))},ot.plus=ot.add=function(e){var t,n=this.constructor,r=new n(this),i=(e=new n(e),r.s),o=e.s;if(i!=o)return e.s=-o,r.minus(e);var u=r.e,s=r.c,l=e.e,c=e.c;if(!s[0]||!c[0])return c[0]?e:new n(s[0]?r:0*i);if(s=s.slice(),i=u-l){for(i>0?(l=u,t=c):(i=-i,t=s),t.reverse();i--;)t.push(0);t.reverse()}for(s.length-c.length<0&&(t=c,c=s,s=t),i=c.length,o=0;i;s[i]%=10)o=(s[--i]=s[i]+c[i]+o)/10|0;for(o&&(s.unshift(o),++l),i=s.length;0===s[--i];)s.pop();return e.c=s,e.e=l,e},ot.pow=function(e){var t=this.constructor,n=new t(this),r=new t(1),i=new t(1),o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(dt+"exponent");for(o&&(e=-e);1&e&&(r=r.times(n)),e>>=1;)n=n.times(n);return o?i.div(r):r},ot.round=function(e,t){var n=this.constructor;if(e===pt)e=0;else if(e!==~~e||e<-lt||e>lt)throw Error(ht);return xt(new n(this),e,t===pt?n.RM:t)},ot.sqrt=function(){var e,t,n,r=this.constructor,i=new r(this),o=i.s,u=i.e,s=new r(.5);if(!i.c[0])return new r(i);if(o<0)throw Error(ft+"No square root");0===(o=Math.sqrt(i+""))||o===1/0?((t=i.c.join("")).length+u&1||(t+="0"),u=((u+1)/2|0)-(u<0||1&u),e=new r(((o=Math.sqrt(t))==1/0?"1e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+u)):e=new r(o),u=e.e+(r.DP+=4);do{n=e,e=s.times(n.plus(i.div(n)))}while(n.c.slice(0,u).join("")!==e.c.slice(0,u).join(""));return xt(e,r.DP-=4,r.RM)},ot.times=ot.mul=function(e){var t,n=this.constructor,r=new n(this),i=(e=new n(e),r.c),o=e.c,u=i.length,s=o.length,l=r.e,c=e.e;if(e.s=r.s==e.s?1:-1,!i[0]||!o[0])return new n(0*e.s);for(e.e=l+c,u<s&&(t=i,i=o,o=t,c=u,u=s,s=c),t=new Array(c=u+s);c--;)t[c]=0;for(l=s;l--;){for(s=0,c=u+l;c>l;)s=t[c]+o[l]*i[c-l-1]+s,t[c--]=s%10,s=s/10|0;t[c]=(t[c]+s)%10}for(s?++e.e:t.shift(),l=t.length;!t[--l];)t.pop();return e.c=t,e},ot.toExponential=function(e){return mt(this,1,e,e)},ot.toFixed=function(e){return mt(this,2,e,this.e+e)},ot.toPrecision=function(e){return mt(this,3,e,e-1)},ot.toString=function(){return mt(this)},ot.valueOf=ot.toJSON=function(){return mt(this,4)};var At=function e(){function t(n){var r=this;if(!(r instanceof t))return n===pt?e():new t(n);n instanceof t?(r.s=n.s,r.e=n.e,r.c=n.c.slice(),function(e){if((e=xt(e,ut,0)).c.length>1&&!e.c[0]){let t=e.c.findIndex(e=>e);e.c=e.c.slice(t),e.e=e.e-t}}(r)):vt(r,n),r.constructor=t}return t.prototype=ot,t.DP=ut,t.RM=st,t.NE=ct,t.PE=at,t.version="5.2.2",t}(),yt=At,St=yt;const bt=new yt(0);new yt(1),new yt(-1),new yt("79228162514264337593543950335"),new yt("-79228162514264337593543950335");function Tt(e){try{return[!0,new yt(e.trim())]}catch(e){return[!1,bt]}}function Et(e,t){if(0!=(-276&t))throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Singleline and ECMAScript");let n="g";return n+=1&t?"i":"",n+=2&t?"m":"",n+=16&t?"s":"",new RegExp(e,n)}function Ct(e){return e.replace(/[\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function Pt(e,t,n=0){let r;if(!(r=e instanceof RegExp?(r=e,e=t,r.lastIndex=n,r):r=Et(t,n)).global)throw new Error("Non-global RegExp");let i=r.exec(e);const o=[];for(;null!==i;)o.push(i),i=r.exec(e);return o}const Rt=/(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w)/,Mt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lt(e){return"number"==typeof e||e instanceof Z||e instanceof St}function Ot(e,t){return e instanceof Z?ie(e,t)<0:e instanceof St?e.cmp(t)<0:e<t}function Ft(e,t){return e instanceof Z?Q(e,t):e instanceof St?e.mul(t):e*t}function Dt(e,t){return e instanceof Z?String(e)+(0).toFixed(t).substr(1):e.toFixed(t)}function Bt(e,t){return e instanceof Z?String(e)+(0).toPrecision(t).substr(1):e.toPrecision(t)}function kt(e,t){return e instanceof Z?String(e)+(0).toExponential(t).substr(1):e.toExponential(t)}function _t(e){return e instanceof Z?fe(e.unsigned?e:ue(ce(e),!0),16):(Number(e)>>>0).toString(16)}function zt(e){return{input:e,cont:(t=e,e=>Rt.test(t)?function e(t,n){return(...r)=>{let i=t;for(const e of r)i=Vt(i,e);return Rt.test(i)?e(i,n):n(i.replace(/%%/g,"%"))}}(t,e):e(t))};var t}function It(e){return e.cont(e=>{console.log(e)})}function Ut(e){return e.cont(e=>e)}function Nt(e){return e.cont(e=>{throw new Error(e)})}function Vt(e,t){return e.replace(Rt,(e,n,r,i,o,u)=>{let s="";if(Lt(t))switch("x"!==u.toLowerCase()&&(Ot(t,0)?(t=Ft(t,-1),s="-"):r.indexOf(" ")>=0?s=" ":r.indexOf("+")>=0&&(s="+")),o=null==o?null:parseInt(o,10),u){case"f":case"F":t=Dt(t,o=null!=o?o:6);break;case"g":case"G":t=null!=o?Bt(t,o):Bt(t);break;case"e":case"E":t=null!=o?kt(t,o):kt(t);break;case"x":t=_t(t);break;case"X":t=_t(t).toUpperCase();break;default:t=String(t)}if(i=parseInt(i,10),isNaN(i))t=s+t;else{const e=r.indexOf("0")>=0,n=r.indexOf("-")>=0,o=n||!e?" ":"0";t="0"===o?s+(t=Xt(t,i-s.length,o,n)):Xt(s+t,i,o,n)}return(n+t).replace(/%/g,"%%")})}function Ht(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function jt(e,t){const n=function(e,...t){if(0===t.length)return e.trim();const n="["+Ct(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}(e,"{","}").toLowerCase();if(Mt.test(n))return t?[!0,n]:n;if(t)return[!1,"00000000-0000-0000-0000-000000000000"];throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function Wt(){let e="";for(let t=0;t++<36;)e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-";return e}function Xt(e,t,n,r){n=n||" ",t-=e.length;for(let i=0;i<t;i++)e=r?e+n:n+e;return e}function Gt(e,t,n,r){if(r="number"==typeof r?r:null,(n="number"==typeof n?n:null)<0)throw new Error("Count cannot be less than zero");if(0===n)return[];if(!Array.isArray(t)){if(0===r)return e.split(t,n);const i=arguments.length;t=Array(i-1);for(let e=1;e<i;e++)t[e-1]=arguments[e]}t=(t=t.map(e=>Ct(e))).length>0?t:[" "];let i=0;const o=[],u=new RegExp(t.join("|"),"g");for(;null==n||n>1;){const t=u.exec(e);if(null===t)break;(!r||t.index-i>0)&&(n=null!=n?n-1:n,o.push(e.substring(i,t.index))),i=u.lastIndex}return(!r||e.length-i>0)&&o.push(e.substring(i)),o}function Yt(e,t){return null!=t&&Object.getPrototypeOf(e).constructor===Object.getPrototypeOf(t).constructor}function qt(e,t){return function(e,t){e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}(e,t||$t),e}function $t(){}function Jt(e,t){if(e===t)return 0;if(null==t)return-1;for(;null!=e.tail;){if(null==t.tail)return 1;const n=ke(e.head,t.head);if(0!==n)return n;e=e.tail,t=t.tail}return null==t.tail?0:-1}function Zt(e,t){this.head=e,this.tail=t}function Kt(e,t,...n){this.tag=0|e,this.name=t,this.fields=n}function Qt(e,t){const n={},r=null==t?Object.keys(e):t(e);for(let t=0;t<r.length;t++)n[r[t]]=e[r[t]];return n}function en(e,t,n){if(e===t)return!0;if(Yt(e,t)){const r=null==n?Object.keys(e):n(e);for(let n=0;n<r.length;n++)if(!Le(e[r[n]],t[r[n]]))return!1;return!0}return!1}function tn(e,t,n){if(e===t)return 0;if(Yt(e,t)){const r=null==n?Object.keys(e):n(e);for(let n=0;n<r.length;n++){const i=ke(e[r[n]],t[r[n]]);if(0!==i)return i}return 0}return-1}function nn(){}function rn(e){return Object.assign(Object.create(nn.prototype),e)}$t.prototype.toString=function(){return"{"+Object.keys(this).map(e=>e+" = "+String(this[e])).join(";\n ")+"}"},$t.prototype.GetHashCode=function(){return Ee(this)},$t.prototype.Equals=function(e){return this===e},Zt.prototype.toString=function(){return"["+Array.from(this).map(e=>String(e)).join("; ")+"]"},Zt.prototype.toJSON=function(){return Array.from(this)},Zt.prototype[Symbol.iterator]=function(){let e=this;return{next:()=>{const t=e;return e=e.tail,{done:null==t.tail,value:t.head}}}},Zt.prototype.GetHashCode=function(){return Te(Array.from(this).map(Ce))},Zt.prototype.Equals=function(e){return 0===Jt(this,e)},Zt.prototype.CompareTo=function(e){return Jt(this,e)},Kt.prototype.toString=function(){const e=this.fields.length;return 0===e?this.name:1===e?this.name+" "+String(this.fields[0]):this.name+" ("+this.fields.map(e=>String(e)).join(",")+")"},Kt.prototype.toJSON=function(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)},Kt.prototype.GetHashCode=function(){const e=this.fields.map(e=>Ce(e));return e.splice(0,0,be(this.tag)),Te(e)},Kt.prototype.Equals=function(e){return this===e||Yt(this,e)&&this.tag===e.tag&&Me(this.fields,e.fields)},Kt.prototype.CompareTo=function(e){return this===e?0:Yt(this,e)?this.tag===e.tag?Be(this.fields,e.fields):this.tag<e.tag?-1:1:-1},nn.prototype.toString=function(){return"{"+Object.keys(this).map(e=>e+" = "+String(this[e])).join(";\n ")+"}"},nn.prototype.toJSON=function(){return Qt(this)},nn.prototype.GetHashCode=function(){return Te(Object.keys(this).map(e=>Ce(this[e])))},nn.prototype.Equals=function(e){return en(this,e)},nn.prototype.CompareTo=function(e){return tn(this,e)};const on=qt((function(e){this.contents=e}),nn),un=qt((function(e){this.stack=Error().stack,this.message=e}));function sn(e){return Object.keys(e).filter(e=>"message"!==e&&"stack"!==e)}const ln=qt((function(){un.call(this)}),un);ln.prototype.toString=function(){const e=sn(this),t=e.length;return 0===t?this.message:1===t?this.message+" "+String(this[e[0]]):this.message+" ("+e.map(e=>String(this[e])).join(",")+")"},ln.prototype.toJSON=function(){return Qt(this,sn)},ln.prototype.GetHashCode=function(){return Te(sn(this).map(e=>Ce(this[e])))},ln.prototype.Equals=function(e){return en(this,e,sn)},ln.prototype.CompareTo=function(e){return tn(this,e,sn)};qt((function(e,t,n){this.arg1=e,this.arg2=0|t,this.arg3=0|n,this.message="The match cases were incomplete"}),ln),qt((function(){}));class cn{constructor(e,t,n,r){this.declaringType=e,this.tag=t,this.name=n,this.fields=r}}class an{constructor(e,t,n,r,i,o){this.fullname=e,this.generics=t,this.constructor=n,this.fields=r,this.cases=i,this.enumCases=o}toString(){return Tn(this)}Equals(e){return dn(this,e)}CompareTo(e){return hn(this,e)}}function fn(e){return null!=e.generics?e.generics:[]}function dn(e,t){return""===e.fullname?""===t.fullname&&Re(kn(e),kn(t),([e,t],[n,r])=>e===n&&dn(t,r)):e.fullname===t.fullname&&Re(fn(e),fn(t),dn)}function hn(e,t){return e.fullname!==t.fullname?e.fullname<t.fullname?-1:1:De(fn(e),fn(t),hn)}function wn(e,t){return new an(e,t)}function pn(e,t,n,r){return new an(e,t,n,r)}function gn(e,t,n,r){const i=new an(e,t,n,null,()=>r().map((e,t)=>"string"==typeof e?new cn(i,t,e):new cn(i,t,e[0],e[1])));return i}function vn(e){return new an("Microsoft.FSharp.Core.FSharpOption`1",[e])}function xn(e){return new an("Microsoft.FSharp.Collections.FSharpList`1",[e])}function mn(e){return new an(e.fullname+"[]",[e])}const An=new an("System.Object"),yn=(new an("Microsoft.FSharp.Core.Unit"),new an("System.Char"),new an("System.String")),Sn=(new an("System.Boolean"),new an("System.SByte"),new an("System.Byte"),new an("System.Int16"),new an("System.UInt16"),new an("System.Int32"));new an("System.UInt32"),new an("System.Single"),new an("System.Double"),new an("System.Decimal");function bn(e){if(Array.isArray(e))return e[0];if(e instanceof cn)return e.name;{const t=e.fullname.lastIndexOf(".");return-1===t?e.fullname:e.fullname.substr(t+1)}}function Tn(e){const t=null==e.generics||En(e)?[]:e.generics;return t.length>0?e.fullname+"["+t.map(e=>Tn(e)).join(",")+"]":e.fullname}function En(e){return e.fullname.endsWith("[]")}function Cn(e){return En(e)?e.generics[0]:null}function Pn(e){return null!=e.generics&&e.generics.length>0}function Rn(e){return null!=e.enumCases&&e.enumCases.length>0}function Mn(e){return null==e.generics?e:new an(e.fullname,e.generics.map(()=>An))}function Ln(e){return e.generics[0]}function On(e){if(Rn(e))return e.enumCases.map(e=>e[1]);throw new Error(`${e.fullname} is not an enum type`)}function Fn(e,t){if(null!=e.enumCases){if("string"==typeof t){for(const n of e.enumCases)if(n[0]===t)return n;throw new Error(`'${t}' was not found in ${e.fullname}`)}for(const n of e.enumCases)if(n[1]===t)return n;return[null,t]}throw new Error(`${e.fullname} is not an enum type`)}function Dn(e,t){const n=parseInt(t,10);return Fn(e,isNaN(n)?t:n)[1]}function Bn(e){if(null!=e.cases)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}function kn(e){if(null!=e.fields)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function _n(e){if(Un(e))return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}function zn(e){return e instanceof an?null!=e.cases:e instanceof Kt}function In(e){return e instanceof an?null!=e.fields:e instanceof nn}function Un(e){return e.fullname.startsWith("System.Tuple")}function Nn(e){return null==e.fields?[]:e.fields.map((e,t)=>["Data"+t,e])}function Vn(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);return new e.declaringType.constructor(e.tag,e.name,...t)}class Hn{constructor(e){this.value=e}toString(){return String(this.value)}toJSON(){return this.value}GetHashCode(){return Ce(this.value)}Equals(e){return null!=e&&Le(this.value,e instanceof Hn?e.value:e)}CompareTo(e){return null==e?1:ke(this.value,e instanceof Hn?e.value:e)}}function jn(e){return null==(e=void 0===e?null:e)||e instanceof Hn?new Hn(e):e}function Wn(e,t){if(null==e){if(!t)throw new Error("Option has no value");return null}return e instanceof Hn?e.value:e}function Xn(e,t,n){return null==e?t:null!=n?n(Wn(e)):Wn(e)}function Gn(e,t){return null==e?t():Wn(e)}function Yn(e,t){return null==t?t:jn(e(Wn(t)))}const qn=qt((function(e,t,n){Kt.call(this,e,t,n)}),Kt);const $n=qt((function(e,t,n){Kt.call(this,e,t,n)}),Kt);function Jn(e,t){return 0===t.tag?(n=e(t.fields[0]),new $n(0,"Ok",n)):t;var n}class Zn{constructor(e){this.iter=e}MoveNext(){const e=this.iter.next();return this.current=e.value,!e.done}get Current(){return this.current}Reset(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function Kn(e){return new Zn(e[Symbol.iterator]())}function Qn(e){return{next:()=>e.MoveNext()?{done:!1,value:e.Current}:{done:!0,value:null}}}function er(e){return ir(()=>Sr(t=>t<e.length?[e[t],t+1]:null,0))}function tr(e,t){return ir(()=>{let n=!1;let r=[e[Symbol.iterator](),null];return Sr(()=>{let e;if(!n){if(!(e=r[0].next()).done)return[e.value,r];n=!0,r=[null,t[Symbol.iterator]()]}return(e=r[1].next()).done?null:[e.value,r]},r)})}function nr(e){return ir(()=>{const t=e[Symbol.iterator]();let n={value:null};return Sr(e=>{let r=!1;for(;!r;)if(null==e){const n=t.next();n.done?r=!0:e=n.value[Symbol.iterator]()}else{const t=e.next();t.done?e=null:(n={value:t.value},r=!0)}return null!=e&&null!=n?[n.value,e]:null},null)})}function rr(e,t){return nr(wr(e,t))}function ir(e){return{[Symbol.iterator]:()=>e()[Symbol.iterator]()}}function or(){return Sr(()=>void 0)}function ur(e,t){let n;for(const r=t[Symbol.iterator]();!(n=r.next()).done;)if(e(n.value))return!0;return!1}function sr(e,t){return ur(t=>Le(t,e),t)}function lr(e,t){return ir(()=>Sr(t=>{let n=t.next();for(;!n.done;){if(e(n.value))return[n.value,t];n=t.next()}return null},t[Symbol.iterator]()))}function cr(e,t,n){if(Array.isArray(n)||ArrayBuffer.isView(n))return n.reduce(e,t);{let r;for(let i=0,o=n[Symbol.iterator]();!(r=o.next()).done;i++)t=e(t,r.value,i);return t}}function ar(e){const t=e[Symbol.iterator]().next();return t.done?null:jn(t.value)}function fr(e,t){if(e<0)return null;if(Array.isArray(t)||ArrayBuffer.isView(t))return e<t.length?jn(t[e]):null;for(let n=0,r=t[Symbol.iterator]();;n++){const t=r.next();if(t.done)break;if(n===e)return jn(t.value)}return null}function dr(e,t){cr((t,n)=>e(n),null,t)}function hr(e,t){cr((t,n,r)=>e(r,n),null,t)}function wr(e,t){return ir(()=>Sr(t=>{const n=t.next();return n.done?null:[e(n.value),t]},t[Symbol.iterator]()))}function pr(e,t){return ir(()=>{let n=0;return Sr(t=>{const r=t.next();return r.done?null:[e(n++,r.value),t]},t[Symbol.iterator]())})}function gr(e,t,n){const r=null!=n?n.Compare:ke;return xr((t,n)=>-1===r(e(t),e(n))?t:n,t)}function vr(e,t,n){if(0===t)throw new Error("Step cannot be 0");return ir(()=>Sr(e=>t>0&&e<=n||t<0&&e>=n?[e,e+t]:null,e))}function xr(e,t){if(Array.isArray(t)||ArrayBuffer.isView(t))return t.reduce(e);const n=t[Symbol.iterator]();let r=n.next();if(r.done)throw new Error("Seq was empty");let i=r.value;for(;!(r=n.next()).done;)i=e(i,r.value);return i}function mr(e){return er((Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):Array.from(e)).reverse())}function Ar(e){return[e]}function yr(e,t,n){return cr((t,r)=>n.Add(t,e(r)),n.GetZero(),t)}function Sr(e,t){return{[Symbol.iterator]:()=>{let n=t;return{next:()=>{const t=e(n);return null!=t?(n=t[1],{done:!1,value:t[0]}):{done:!0}}}}}}const br=qt((function(){}));qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);function Tr(e,t){return fetch(e,function(e,t=Ue.None){function n(e){throw new Error("Cannot infer key and value of "+String(e))}const r={},i=t;for(let t of e){let e=Ue.None;if(null==t&&n(t),"function"==typeof t.toJSON&&(t=t.toJSON(),e=i),Array.isArray(t))switch(t.length){case 0:n(t);break;case 1:r[Ve(t[0],e)]=!0;break;case 2:const i=t[1];r[Ve(t[0],e)]=i;break;default:r[Ve(t[0],e)]=t.slice(1)}else"string"==typeof t?r[Ve(t,e)]=!0:n(t)}return r}(t,1)).then((function(e){if(e.ok)return e;{const n=Ae((t=e).status)+" "+t.statusText+" for URL "+t.url;throw new Error(n)}var t}))}const Er=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Cr=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Pr=qt((function(e,t){this.Hash=e,this.Coders=t}),nn);const Rr=qt((function(){this.cache=new Map([])}));function Mr(){return this instanceof Rr?Rr.call(this):new Rr}function Lr(e,t,n){const r=ge(e.cache,t,null);if(r[0])return r[1];{const r=n();return Ye(e.cache,t,r),r}}Mr();const Or=Mr();function Fr(e){return e.slice(null,1).toLowerCase()+e.slice(1,e.length)}function Dr(e,t){switch(e.tag){case 2:return function(e,t,n,r,i=0){if("string"==typeof e){const n=e;e=Et(t,r),t=n,r=void 0}if("function"==typeof n)return r=null==r?-1:r,t.substring(0,i)+t.substring(i).replace(e,(function(){let e=arguments[0];if(0!==r){r--;const t=[],i=arguments.length;for(let e=0;e<i-2;e++)t.push(arguments[e]);t.index=arguments[i-2],t.input=arguments[i-1],e=n(t)}return e}));if(n=n.replace(/\$0/g,e=>"$&"),null!=r){let o;const u=t.substring(i),s=Pt(e,u),l=Pt.length>r?(o=s[r-1],u.substring(0,o.index+o[0].length)):u;return t.substring(0,i)+l.replace(e,n)+t.substring(i+l.length)}return t.replace(e,n)}(Fr(t),"[A-Z]","_$0").toLowerCase();case 0:return t;default:return Fr(t)}}const Br=qt((function(e,t){const n=new on(null);this.comparer=t,n.contents=this,this["entries@23"]=new Map([]),this["init@20-1"]=1,dr((function(e){Ur(n.contents,e[0],e[1])}),e)}));function kr(e,t){const n=0|e.comparer.GetHashCode(t),r=ge(e["entries@23"],n,null);return r[0]?[!0,n,r[1].findIndex((function(n){return e.comparer.Equals(t,n[0])}))]:[!1,n,-1]}function _r(e,t){const n=kr(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return qe(e["entries@23"],n[1])[n[2]];case 1:return null}}function zr(e){e["entries@23"].clear()}function Ir(e){return 0|yr((function(e){return e.length}),e["entries@23"].values(),{GetZero:()=>0,Add:(e,t)=>e+t})}function Ur(e,t,n){const r=kr(e,t);switch(r[0]&&r[2]>-1?0:1){case 0:{let e;throw e=Ut(zt("An item with the same key has already been added. Key: %A"))(t),new Error(e)}case 1:if(r[0]){qe(e["entries@23"],r[1]).push([t,n])}else e["entries@23"].set(r[1],[[t,n]])}}function Nr(e,t){const n=kr(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return qe(e["entries@23"],n[1]).splice(n[2],1),!0;case 1:return!1}}Br.prototype[Symbol.iterator]=function(){const e=this;return Qn(Kn(ir((function(){return rr((function(e){return wr((function(e){return e}),e)}),e["entries@23"].values())}))))},Br.prototype.Add=function(e){Ur(this,e[0],e[1])},Br.prototype.Clear=function(){zr(this)},Br.prototype.Contains=function(e){const t=_r(this,e[0]);switch(null!=t&&Le(t[1],e[1])?0:1){case 0:return!0;case 1:return!1}},Br.prototype.CopyTo=function(e,t){hr((function(n,r){e[t+n]=r}),this)},Object.defineProperty(Br.prototype,"Count",{get:function(){return 0|Ir(this)}}),Object.defineProperty(Br.prototype,"IsReadOnly",{get:function(){return!1}}),Br.prototype.Remove=function(e){const t=this,n=_r(t,e[0]);if(null!=n){if(Le(n[1],e[1])){Nr(t,e[0])}return!0}return!1},Object.defineProperty(Br.prototype,"size",{get:function(){return 0|Ir(this)}}),Br.prototype.clear=function(){zr(this)},Br.prototype.delete=function(e){return Nr(this,e)},Br.prototype.entries=function(){return wr((function(e){return e}),this)},Br.prototype.get=function(e){return function(e,t){const n=_r(e,t);if(null!=n){return n[1]}throw new Error("The item was not found in collection")}(this,e)},Br.prototype.has=function(e){return function(e,t){const n=kr(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return!0;case 1:return!1}}(this,e)},Br.prototype.keys=function(){return wr((function(e){return e[0]}),this)},Br.prototype.set=function(e,t){return function(e,t,n){const r=kr(e,t);switch(r[0]&&r[2]>-1?0:1){case 0:qe(e["entries@23"],r[1])[r[2]]=[t,n];break;case 1:if(r[0]){qe(e["entries@23"],r[1]).push([t,n])}else e["entries@23"].set(r[1],[[t,n]])}}(this,e,t),this},Br.prototype.values=function(){return wr((function(e){return e[1]}),this)};const Vr=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);function Hr(e){return function e(t,n){e:for(;;){const r=t,i=n;switch(i.tag){case 1:return r+1|0;case 2:t=e(r+1,i.fields[2]),n=i.fields[3];continue e;default:return 0|r}break}}(0,e)}function jr(){return new Vr(0,"MapEmpty")}function Wr(e){switch(e.tag){case 1:return 1;case 2:return 0|e.fields[4];default:return 0}}function Xr(e,t,n,r){switch(0===e.tag&&0===r.tag?0:1){case 0:return new Vr(1,"MapOne",t,n);case 1:{const i=0|Wr(e),o=0|Wr(r);return new Vr(2,"MapNode",t,n,e,r,(0|(i<o?o:i))+1)}}}function Gr(e,t,n,r){const i=0|Wr(e),o=0|Wr(r);if(o>i+2){if(2===r.tag){if(Wr(r.fields[2])>i+1){if(2===r.fields[2].tag)return Xr(Xr(e,t,n,r.fields[2].fields[2]),r.fields[2].fields[0],r.fields[2].fields[1],Xr(r.fields[2].fields[3],r.fields[0],r.fields[1],r.fields[3]));throw new Error("rebalance")}return Xr(Xr(e,t,n,r.fields[2]),r.fields[0],r.fields[1],r.fields[3])}throw new Error("rebalance")}if(i>o+2){if(2===e.tag){if(Wr(e.fields[3])>o+1){if(2===e.fields[3].tag)return Xr(Xr(e.fields[2],e.fields[0],e.fields[1],e.fields[3].fields[2]),e.fields[3].fields[0],e.fields[3].fields[1],Xr(e.fields[3].fields[3],t,n,r));throw new Error("re  balance")}return Xr(e.fields[2],e.fields[0],e.fields[1],Xr(e.fields[3],t,n,r))}throw new Error("rebalance")}return Xr(e,t,n,r)}function Yr(e,t,n,r){switch(r.tag){case 1:{const i=0|e.Compare(t,r.fields[0]);return i<0?new Vr(2,"MapNode",t,n,new Vr(0,"MapEmpty"),r,2):0===i?new Vr(1,"MapOne",t,n):new Vr(2,"MapNode",t,n,r,new Vr(0,"MapEmpty"),2)}case 2:{const i=0|e.Compare(t,r.fields[0]);return i<0?Gr(Yr(e,t,n,r.fields[2]),r.fields[0],r.fields[1],r.fields[3]):0===i?new Vr(2,"MapNode",t,n,r.fields[2],r.fields[3],r.fields[4]):Gr(r.fields[2],r.fields[0],r.fields[1],Yr(e,t,n,r.fields[3]))}default:return new Vr(1,"MapOne",t,n)}}function qr(e,t,n){e:for(;;){const r=e,i=t,o=n;switch(o.tag){case 1:if(0===(0|r.Compare(i,o.fields[0])))return o.fields[1];throw new Error("key not found");case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){e=r,t=i,n=o.fields[2];continue e}if(0===u)return o.fields[1];e=r,t=i,n=o.fields[3];continue e}default:throw new Error("key not found")}break}}function $r(e,t,n){e:for(;;){const r=e,i=t,o=n;switch(o.tag){case 1:return 0===(0|r.Compare(i,o.fields[0]))?jn(o.fields[1]):null;case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){e=r,t=i,n=o.fields[2];continue e}if(0===u)return jn(o.fields[1]);e=r,t=i,n=o.fields[3];continue e}default:return null}break}}function Jr(e,t,n){e:for(;;){const r=e,i=t,o=n;switch(o.tag){case 1:return 0===r.Compare(i,o.fields[0]);case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){e=r,t=i,n=o.fields[2];continue e}if(0===u)return!0;e=r,t=i,n=o.fields[3];continue e}default:return!1}break}}function Zr(e,t){e:for(;;){const n=e,r=t;switch(r.tag){case 1:n(r.fields[0],r.fields[1]);break;case 2:Zr(n,r.fields[2]),n(r.fields[0],r.fields[1]),e=n,t=r.fields[3];continue e}break}}function Kr(e,t){const n=Kn(t);try{return function(e,t,n){for(;;){const r=e,i=t,o=n;if(!o.MoveNext())return i;{const u=o.Current;e=r,t=Yr(r,u[0],u[1],i),n=o}}}(e,jr(),n)}finally{pe(n)&&n.Dispose()}}const Qr=qt((function(e,t){this.stack=e,this.started=t}),nn);function ei(e){for(;;){const t=e;if(null==t.tail)return new Zt;if(1===t.head.tag)return t;2!==t.head.tag?e=t.tail:e=new Zt(t.head.fields[2],new Zt(new Vr(1,"MapOne",t.head.fields[0],t.head.fields[1]),new Zt(t.head.fields[3],t.tail)))}}function ti(e){return new Qr(ei(new Zt(e,new Zt)),!1)}function ni(e){if(e.started){const t=e.stack;if(null==t.tail)return function(){throw new Error("enumeration already finished")}();if(1===t.head.tag)return[t.head.fields[0],t.head.fields[1]];throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration not started")}()}const ri=qt((function(e){this.s=e,this.i=ti(this.s)}));function ii(e){return function(e){return this instanceof ri?ri.call(this,e):new ri(e)}(e)}function oi(e){return Sr((function(e){return e.MoveNext()?[e.Current,e]:null}),ii(e))}Object.defineProperty(ri.prototype,"Current",{get:function(){return ni(this.i)}}),ri.prototype.MoveNext=function(){return function(e){if(e.started){const t=e.stack;if(null==t.tail)return!1;if(1===t.head.tag)return e.stack=ei(t.tail),!(null==e.stack.tail);throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return e.started=!0,!(null==e.stack.tail)}(this.i)},ri.prototype.Reset=function(){this.i=ti(this.s)},ri.prototype.Dispose=function(){};const ui=qt((function(e,t){this.comparer=e,this.tree=t}));function si(e,t){return this instanceof ui?ui.call(this,e,t):new ui(e,t)}function li(e){return e.tree}function ci(e,t){return qr(e.comparer,t,e.tree)}function ai(e,t){return si(e.comparer,function e(t,n){switch(n.tag){case 1:return new Vr(1,"MapOne",n.fields[0],t(n.fields[0],n.fields[1]));case 2:{const r=e(t,n.fields[2]),i=t(n.fields[0],n.fields[1]),o=e(t,n.fields[3]);return new Vr(2,"MapNode",n.fields[0],i,r,o,n.fields[4])}default:return jr()}}(t,e.tree))}function fi(e){return Hr(e.tree)}function di(e,t){return Jr(e.comparer,t,e.tree)}function hi(e,t,n){return i=e,o=t,si((r=n).comparer,Yr(r.comparer,i,o,r.tree));var r,i,o}function wi(e,t){return ci(t,e)}function pi(e,t){return r=e,$r((n=t).comparer,r,n.tree);var n,r}function gi(e,t){Zr(e,t.tree)}function vi(e,t){return ai(t,e)}function xi(e,t){return si(t,(n=t,r=e,cr((function(e,t){return Yr(n,t[0],t[1],e)}),jr(),r)));var n,r}function mi(e,t){return si(t,function(e,t){let n=jr();for(let r=0;r<=t.length-1;r++){const i=t[r];n=Yr(e,i[0],i[1],n)}return n}(t,e))}function Ai(e){return si(e,new Vr(0,"MapEmpty"))}function yi(e,t){return function(e,t){return this instanceof Br?Br.call(this,e,t):new Br(e,t)}(e,t)}ui.prototype.toString=function(){return"map ["+Ht("; ",wr((function(e){return Ut(zt("(%A, %A)"))(e[0])(e[1])}),this))+"]"},ui.prototype.GetHashCode=function(){const e=function(e,t){return(e<<1)+t+631};let t=0;const n=ii(li(this));for(;n.MoveNext();){const r=n.Current;t=e(t,Ce(r[0])),t=e(t,Ce(r[1]))}return 0|Math.abs(t)},ui.prototype.Equals=function(e){return 0===this.CompareTo(e)},ui.prototype[Symbol.iterator]=function(){return Qn(ii(this.tree))},ui.prototype.CompareTo=function(e){const t=this;let n=0,r=!1;const i=ii(li(t));try{const o=ii(li(e));try{for(;!r&&0===n;){const e=[i.MoveNext(),o.MoveNext()];if(e[0])if(e[1]){const e=i.Current,r=o.Current,u=0|t.comparer.Compare(e[0],r[0]);n=0!==u?u:ke(e[1],r[1])}else n=1;else e[1]?n=-1:r=!0}return 0|n}finally{pe(o)&&o.Dispose()}}finally{pe(i)&&i.Dispose()}},Object.defineProperty(ui.prototype,"size",{get:function(){return 0|fi(this)}}),ui.prototype.clear=function(){throw new Error("Map cannot be mutated")},ui.prototype.delete=function(e){throw new Error("Map cannot be mutated")},ui.prototype.entries=function(){return oi(li(this))},ui.prototype.get=function(e){return ci(this,e)},ui.prototype.has=function(e){return di(this,e)},ui.prototype.keys=function(){return wr((function(e){return e[0]}),oi(li(this)))},ui.prototype.set=function(e,t){throw new Error("Map cannot be mutated")},ui.prototype.values=function(){return wr((function(e){return e[1]}),oi(li(this)))};const Si=qt((function(e,t){const n=new on(null);this.comparer=t,n.contents=this,this["entries@24"]=new Map([]),this["init@21-2"]=1,dr((function(e){Pi(n.contents,e)}),e)}));function bi(e,t){return this instanceof Si?Si.call(this,e,t):new Si(e,t)}function Ti(e,t){const n=0|e.comparer.GetHashCode(t),r=ge(e["entries@24"],n,null);return r[0]?[!0,n,r[1].findIndex((function(n){return e.comparer.Equals(t,n)}))]:[!1,n,-1]}function Ei(e){e["entries@24"].clear()}function Ci(e){return 0|yr((function(e){return e.length}),e["entries@24"].values(),{GetZero:()=>0,Add:(e,t)=>e+t})}function Pi(e,t){const n=Ti(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return!1;case 1:if(n[0]){qe(e["entries@24"],n[1]).push(t);return!0}return e["entries@24"].set(n[1],[t]),!0}}function Ri(e,t){const n=Ti(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return!0;case 1:return!1}}function Mi(e,t){const n=Ti(e,t);switch(n[0]&&n[2]>-1?0:1){case 0:return qe(e["entries@24"],n[1]).splice(n[2],1),!0;case 1:return!1}}Si.prototype[Symbol.iterator]=function(){const e=this;return Qn(Kn(ir((function(){return rr((function(e){return wr((function(e){return e}),e)}),e["entries@24"].values())}))))},Si.prototype.Add=function(e){Pi(this,e)},Si.prototype.Clear=function(){Ei(this)},Si.prototype.Contains=function(e){return Ri(this,e)},Si.prototype.CopyTo=function(e,t){hr((function(n,r){e[t+n]=r}),this)},Object.defineProperty(Si.prototype,"Count",{get:function(){return 0|Ci(this)}}),Object.defineProperty(Si.prototype,"IsReadOnly",{get:function(){return!1}}),Si.prototype.Remove=function(e){return Mi(this,e)},Object.defineProperty(Si.prototype,"size",{get:function(){return 0|Ci(this)}}),Si.prototype.add=function(e){Pi(this,e);return this},Si.prototype.add_=function(e){return Pi(this,e)},Si.prototype.clear=function(){Ei(this)},Si.prototype.delete=function(e){return Mi(this,e)},Si.prototype.has=function(e){return Ri(this,e)},Si.prototype.keys=function(){return wr((function(e){return e}),this)},Si.prototype.values=function(){return wr((function(e){return e}),this)},Si.prototype.entries=function(){return wr((function(e){return[e,e]}),this)};const Li=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);function Oi(e){return new Li(2,"SetOne",e)}function Fi(e,t,n,r){return new Li(1,"SetNode",e,t,n,r)}function Di(e){switch(e.tag){case 2:return 1;case 1:return 0|e.fields[3];default:return 0}}const Bi=2;function ki(e,t,n){switch(0===e.tag&&0===n.tag?0:1){case 0:return Oi(t);case 1:{const r=0|Di(e),i=0|Di(n);return Fi(t,e,n,(0|(r<i?i:r))+1)}}}function _i(e,t,n){const r=0|Di(e),i=0|Di(n);if(i>r+Bi){if(1===n.tag){if(Di(n.fields[1])>r+1){if(1===n.fields[1].tag)return ki(ki(e,t,n.fields[1].fields[1]),n.fields[1].fields[0],ki(n.fields[1].fields[2],n.fields[0],n.fields[2]));throw new Error("rebalance")}return ki(ki(e,t,n.fields[1]),n.fields[0],n.fields[2])}throw new Error("rebalance")}if(r>i+Bi){if(1===e.tag){if(Di(e.fields[2])>i+1){if(1===e.fields[2].tag)return ki(ki(e.fields[1],e.fields[0],e.fields[2].fields[1]),e.fields[2].fields[0],ki(e.fields[2].fields[2],t,n));throw new Error("rebalance")}return ki(e.fields[1],e.fields[0],ki(e.fields[2],t,n))}throw new Error("rebalance")}return ki(e,t,n)}function zi(e,t,n){switch(n.tag){case 2:{const r=0|e.Compare(t,n.fields[0]);return r<0?Fi(t,new Li(0,"SetEmpty"),n,2):0===r?n:Fi(t,n,new Li(0,"SetEmpty"),2)}case 0:return Oi(t);default:{const r=0|e.Compare(t,n.fields[0]);return r<0?_i(zi(e,t,n.fields[1]),n.fields[0],n.fields[2]):0===r?n:_i(n.fields[1],n.fields[0],zi(e,t,n.fields[2]))}}}const Ii=qt((function(e,t){this.stack=e,this.started=t}),nn);function Ui(e){for(;;){const t=e;if(null==t.tail)return new Zt;if(2===t.head.tag)return t;1!==t.head.tag?e=t.tail:e=new Zt(t.head.fields[1],new Zt(Oi(t.head.fields[0]),new Zt(t.head.fields[2],t.tail)))}}function Ni(e){return new Ii(Ui(new Zt(e,new Zt)),!1)}function Vi(e){if(e.started){const t=e.stack;if(null==t.tail)return function(){throw new Error("Enumeration already started")}();if(2===t.head.tag)return t.head.fields[0];throw new Error("Please report error: Set iterator, unexpected stack for current")}return function(){throw new Error("Enumeration not started")}()}const Hi=qt((function(e){this.s=e,this.i=Ni(this.s)}));function ji(e){return function(e){return this instanceof Hi?Hi.call(this,e):new Hi(e)}(e)}function Wi(e,t,n){return 0===t.tag?0===n.tag?0:-1:0===n.tag?1:0|function(e,t,n){e:for(;;){const U=e,N=t,V=n;var r,i,o,u,s,l,c,a,f,d,h,w,p,g,v,x,m,A,y,S,b,T,E,C,P,R,M,L,O,F,D,B,k,_,z,I;switch(null!=N.tail?null!=V.tail?2===V.head.tag?2===N.head.tag?(r=4,u=N.head.fields[0],s=V.head.fields[0],l=N.tail,c=V.tail):1===N.head.tag?0===N.head.fields[1].tag?(r=6,p=N.head.fields[1],g=N.head.fields[0],v=N.head.fields[2],x=V.head.fields[0],m=N.tail,A=V.tail):(r=9,M=N.head.fields[0],L=N.head.fields[1],O=N.head.fields[2],F=N.tail):(r=10,D=V.head.fields[0],B=V.tail):1===V.head.tag?0===V.head.fields[1].tag?2===N.head.tag?(r=5,a=N.head.fields[0],f=V.head.fields[0],d=V.head.fields[2],h=N.tail,w=V.tail):1===N.head.tag?0===N.head.fields[1].tag?(r=7,y=N.head.fields[0],S=N.head.fields[2],b=V.head.fields[0],T=V.head.fields[2],E=N.tail,C=V.tail):(r=9,M=N.head.fields[0],L=N.head.fields[1],O=N.head.fields[2],F=N.tail):(r=11,k=V.head.fields[0],_=V.head.fields[1],z=V.head.fields[2],I=V.tail):2===N.head.tag?(r=8,P=N.head.fields[0],R=N.tail):1===N.head.tag?(r=9,M=N.head.fields[0],L=N.head.fields[1],O=N.head.fields[2],F=N.tail):(r=11,k=V.head.fields[0],_=V.head.fields[1],z=V.head.fields[2],I=V.tail):2===N.head.tag?(r=8,P=N.head.fields[0],R=N.tail):1===N.head.tag?(r=9,M=N.head.fields[0],L=N.head.fields[1],O=N.head.fields[2],F=N.tail):(r=3,i=N.tail,o=V.tail):r=2:r=null!=V.tail?1:0,r){case 0:return 0;case 1:return-1;case 2:return 1;case 3:e=U,t=i,n=o;continue e;case 4:{const r=0|U.Compare(u,s);if(0!==r)return 0|r;e=U,t=l,n=c;continue e}case 5:{const r=0|U.Compare(a,f);if(0!==r)return 0|r;e=U,t=new Zt(new Li(0,"SetEmpty"),h),n=new Zt(d,w);continue e}case 6:{const r=0|U.Compare(g,x);if(0!==r)return 0|r;e=U,t=new Zt(v,m),n=new Zt(p,A);continue e}case 7:{const r=0|U.Compare(y,b);if(0!==r)return 0|r;e=U,t=new Zt(S,E),n=new Zt(T,C);continue e}case 8:e=U,t=new Zt(new Li(0,"SetEmpty"),new Zt(Oi(P),R)),n=V;continue e;case 9:e=U,t=new Zt(L,new Zt(Fi(M,new Li(0,"SetEmpty"),O,0),F)),n=V;continue e;case 10:e=U,t=N,n=new Zt(new Li(0,"SetEmpty"),new Zt(Oi(D),B));continue e;case 11:e=U,t=N,n=new Zt(_,new Zt(Fi(k,new Li(0,"SetEmpty"),z,0),I));continue e}break}}(e,new Zt(t,new Zt),new Zt(n,new Zt))}function Xi(e,t){const n=Kn(t);try{return function(e,t,n){for(;;){const r=e,i=t,o=n;if(!o.MoveNext())return i;e=r,t=zi(r,o.Current,i),n=o}}(e,new Li(0,"SetEmpty"),n)}finally{pe(n)&&n.Dispose()}}Object.defineProperty(Hi.prototype,"Current",{get:function(){return Vi(this.i)}}),Hi.prototype.MoveNext=function(){return function(e){if(e.started){const t=e.stack;if(null==t.tail)return!1;if(2===t.head.tag)return e.stack=Ui(t.tail),!(null==e.stack.tail);throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return e.started=!0,!(null==e.stack.tail)}(this.i)},Hi.prototype.Reset=function(){this.i=Ni(this.s)},Hi.prototype.Dispose=function(){};const Gi=qt((function(e,t){this.comparer=e,this.tree=t}));function Yi(e,t){return this instanceof Gi?Gi.call(this,e,t):new Gi(e,t)}function qi(e){return e.comparer}function $i(e){return e.tree}function Ji(e,t){return Yi(t,Xi(t,e))}function Zi(e,t){return bi(e,t)}function Ki(e,t,n,r){return e.fill(r,t,t+n),e}function Qi(e,t,n){if(ArrayBuffer.isView(t)){const r=0|t.length,i=new n(r);for(let n=0;n<=r-1;n++)i[n]=e(t[n]);return i}return t.map((function(t){return e(t)}))}function eo(e,t,n){return function(e,t){var n;const r=Array.from(e);switch(0|r.length){case 0:return new t(0);case 1:return r[0];default:if(n=r[0],ArrayBuffer.isView(n)){let e=0,n=0;for(let e=0;e<=r.length-1;e++){n+=r[e].length}const i=new t(n);for(let t=0;t<=r.length-1;t++){const n=r[t];for(let t=0;t<=n.length-1;t++)i[e]=n[t],e+=1}return i}return r[0].concat(...r.slice(1))}}(Qi(e,t,Array),n)}function to(e,t,n){return function(r){for(;;){const i=r;if(i>=t.length)return!1;if(n.Equals(e,t[i]))return!0;r=i+1}}(0)}function no(e,t,n){if(e<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=new n(e);for(let n=0;n<=e-1;n++)r[n]=t(n);return r}function ro(e,t,n){return n.reduce((function(t,n){return e(t,n)}),t)}function io(e,t,n,r){return function(e,t,n,r){let i=r;if(t.length!==n.length)throw new Error("Arrays had different lengths");const o=0|t.length;for(let r=1;r<=o;r++)i=e(r-1,t[o-r],n[o-r],i);return i}((function(t,n,r,i){return e(n,r,i)}),t,n,r)}function oo(e,t,n){let r=n.GetZero();for(let i=0;i<=t.length-1;i++)r=n.Add(r,e(t[i]));return r}function uo(e,t){return t.from(e)}Gi.prototype.toString=function(){return"set ["+Ht("; ",wr((function(e){return String(e)}),this))+"]"},Gi.prototype.GetHashCode=function(){let e=0;const t=ji($i(this));for(;t.MoveNext();){e=((0|e)<<1)+(0|Ce(t.Current))+631}return 0|Math.abs(e)},Gi.prototype.Equals=function(e){return 0===Wi(qi(this),$i(this),$i(e))},Gi.prototype.CompareTo=function(e){return 0|Wi(qi(this),$i(this),$i(e))},Gi.prototype[Symbol.iterator]=function(){return Qn(ji($i(this)))};const so=qt((function(e,t){this.bound=0|e,this.digits=t}),nn);function lo(e,t){for(;;){const n=e,r=t;if(0===r)return 1;if(r%2!=0)return n*lo(n*n,~~(r/2))|0;e=n*n,t=~~(r/2)}}oe(2013265921,0,!1),oe(2013265921,0,!0);no(28,(function(e){return lo(2,e)}),Int32Array);function co(e){return e.bound}function ao(e,t){return e.digits[t]}function fo(e,t){return de(ao(e,t),!1,2)}function ho(e,t,n){e.digits[t]=n}function wo(e,t){for(;;){const n=e,r=t;if(0===r)return oe(1,0,!1);if(r%2!=0)return Q(n,wo(Q(n,n),~~(r/2)));e=Q(n,n),t=~~(r/2)}}function po(e,t){for(;;){const n=e,r=t;if(0===r)return 1;if(r%2!=0)return n*po(n*n,~~(r/2))|0;e=n*n,t=~~(r/2)}}const go=24,vo=16777216,xo=oe(16777216,0,!1),mo=oe(16777215,0,!1);oe(16777215,0,!0);function Ao(e){return new so(e,new Int32Array(e))}function yo(e){const t=0|function(e,t){for(;;){const n=e,r=t;if(-1===r||0!==n[r])return r+1|0;e=n,t=r-1}}(e.digits,e.bound-1);return e.bound=t,e}const So=2,bo=3;function To(e){const t=0|(e<0?0:e);if(t<vo){const e=Ao(1);return e.digits[0]=t,yo(e)}{const e=Ao(So);for(let n=0;n<=So-1;n++)e.digits[n]=~~(t/po(vo,n))%vo;return yo(e)}}const Eo=To(1),Co=To(0);function Po(e){return e.bound-1}function Ro(e){return 0===e.bound}function Mo(e,t){if(e.bound===t.bound){return function(e,t,n){for(;;){const r=e,i=t,o=n;if(-1===o)return!0;if(r[o]!==i[o])return!1;e=r,t=i,n=o-1}}(e.digits,t.digits,e.bound-1)}return!1}function Lo(e,t){if(e.bound<t.bound)return-1;if(e.bound>t.bound)return 1;return 0|function(e,t,n){for(;;){const r=e,i=t,o=n;if(-1===o)return 0;if(r[o]!==i[o])return r[o]<i[o]?-1:1;e=r,t=i,n=o-1}}(e.digits,t.digits,e.bound-1)}function Oo(e,t){return-1===Lo(e,t)}function Fo(e,t,n){for(var r;;){const i=e,o=t,u=n;if(!(ie(o,oe(0,0,!1))>0))break;{const s=K(fo(i,u),o);ho(i,u,(r=re(s,mo),~~le(r))),e=i,t=ee(s,xo),n=u+1}}}function Do(e,t){var n;const r=0|co(e),i=Ao(r+1|0),o=de(t,!1,2);let u=oe(0,0,!1);for(let t=0;t<=r-1;t++){const r=K(K(u,fo(i,t)),Q(fo(e,t),o));ho(i,t,(n=re(r,mo),~~le(n))),u=ee(r,xo)}return Fo(i,u,r),yo(i)}function Bo(e,t){const n=1===co(e),r=1===co(t);return n&&r?function(e,t){var n;const r=Ao(2),i=Q(de(e,!1,2),de(t,!1,2));return ho(r,0,(n=re(i,mo),~~le(n))),ho(r,1,~~le(ee(i,xo))),yo(r)}(ao(e,0),ao(t,0)):n?Do(t,ao(e,0)):r?Do(e,ao(t,0)):function(e,t){var n;const r=Ao(e.bound+t.bound|0);for(let i=0;i<=e.bound-1;i++){const o=de(e.digits[i],!1,2);let u=oe(0,0,!1),s=0|i;for(let e=0;e<=t.bound-1;e++){const i=de(t.digits[e],!1,2),l=K(K(de(r.digits[s],!1,2),u),Q(o,i));r.digits[s]=(n=re(l,mo),~~le(n)),u=ee(l,xo),s+=1}Fo(r,u,s)}return yo(r)}(e,t)}const ko=qt((function(e,t,n,r,i,o,u){this.bigL=0|e,this.twoToBigL=0|t,this.k=0|n,this.bigK=0|r,this.bigN=0|i,this.split=0|o,this.splits=u}),nn);function _o(e,t,n,r){return new ko(e,po(2,e),t,n,r,~~(go/e),no(~~(go/e),(function(t){return po(2,e*t)}),Int32Array))}const zo=[_o(1,28,268435456,268435456),_o(2,26,67108864,134217728),_o(3,24,16777216,50331648),_o(4,22,4194304,16777216),_o(5,20,1048576,5242880),_o(6,18,262144,1572864),_o(7,16,65536,458752),_o(8,14,16384,131072),_o(9,12,4096,36864),_o(10,10,1024,10240),_o(11,8,256,2816),_o(12,6,64,768),_o(13,4,16,208)];no(go,(function(e){return po(2,e)-1}),Int32Array),no(go,(function(e){return po(2,e)}),Int32Array),no(go,(function(e){return wo(oe(2,0,!1),e)}),Array);zo[0].bigN;function Io(e,t){return Bo(e,t)}function Uo(e,t,n,r){const i=[e.digits,Po(e)],o=[n.digits,Po(n)],u=de(t,!1,2);let s=0,l=Q(u,de(o[0][0],!1,2));for(;ie(l,oe(0,0,!1))>0||s<o[1];){if(s>i[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let e,t;const n=re(l,mo);let c;e=t=~~le(n),c=ee(l,xo),e<=i[0][s+r]?i[0][s+r]=i[0][s+r]-e:(i[0][s+r]=i[0][s+r]+(vo-e),c=K(c,oe(1,0,!1))),l=s<o[1]?K(c,Q(u,de(o[0][s+1],!1,2))):c,s+=1}yo(e)}function No(e,t,n,r){const i=[e.digits,Po(e)],o=[n.digits,Po(n)],u=de(t,!1,2);let s=0,l=Q(u,de(o[0][0],!1,2));for(;ie(l,oe(0,0,!1))>0||s<o[1];){if(s>i[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let e,t;const n=re(l,mo);let c;e=t=~~le(n),c=ee(l,xo),e<vo-i[0][s+r]?i[0][s+r]=i[0][s+r]+e:(i[0][s+r]=e-(vo-i[0][s+r]),c=K(c,oe(1,0,!1))),l=s<o[1]?K(c,Q(u,de(o[0][s+1],!1,2))):c,s+=1}yo(e)}function Vo(e,t,n){const r=[Po(t),Po(e)];if(r[1]<r[0]+n)return 0;{let l;if(0===r[0])if(r[1]===n)l=~~(e.digits[n]/t.digits[0]);else{const n=ee(K(Q(de(e.digits[r[1]],!1,2),xo),de(e.digits[r[1]-1],!1,2)),de(t.digits[0],!1,2));l=~~le(n)}else if(r[1]===r[0]+n)l=~~(e.digits[r[1]]/(t.digits[r[0]]+1));else{const n=ee(K(Q(de(e.digits[r[1]],!1,2),xo),de(e.digits[r[1]-1],!1,2)),K(de(t.digits[r[0]],!1,2),oe(1,0,!1)));l=~~le(n)}if(0===l){return 1!=(o=n,u=e,s=0,(i=t).bound+o<u.bound+s?-1:i.bound+o>u.bound+o?1:0|function(e,t,n){e:for(;;){const r=e,i=t,u=n;if(-1===u)return 0;{const l=0|(u<o?0:r[u-o]),c=0|(u<s?0:i[u-s]);if(l===c){e=r,t=i,n=u-1;continue e}return l<c?-1:1}}}(i.digits,u.digits,i.bound+o-1))?1:0}return 0|l}var i,o,u,s}function Ho(e,t){if(Ro(t))throw new Error;if(Po(e)<Po(t))return[Co,e];{const i=new so((n=e).bound,(r=n.digits,Int32Array,r.slice())),o=Ao(Po(e)-Po(t)+1+1);let u=0|Po(e);const s=0|Po(t);let l=u-s|0;const c=function(e){};let a=!1;for(;!a;){c([o,i,l,u]);const e=0|Vo(i,t,l);e>0?(Uo(i,e,t,l),No(o,e,Eo,l),c([o,i,l,u])):(a=0===e&&0===l)||(u===s+l?(c([o,i,l-1,u]),l-=1):(c([o,i,l-1,u-1]),l-=1,u-=1))}return[yo(o),yo(i)]}var n,r}To(2);function jo(e){return To(e)}function Wo(e){return function(e){const t=ie(e,oe(0,0,!1))<0?oe(0,0,!1):e,n=Ao(bo);for(let e=0;e<=bo-1;e++)n.digits[e]=~~le(te(ee(t,wo(xo,e)),xo));return yo(n)}(e)}function Xo(e){const t=0|Po(e),n=function(e,n,r){for(;;){const i=e,o=n,u=r;if(Po(u)>t)return new Zt([o,u],i);e=new Zt([o,u],i),n=o+1,r=Io(u,u)}}(new Zt,0,To(10)),r=function e(t,n,r,i){if(null!=i.tail){const o=Ho(r,i.head[1]);if(t&&Ro(o[0])){return e(t,n,o[1],i.tail)}{const r=e(!1,n,o[1],i.tail);return e(t,r,o[0],i.tail)}}{const e=0|function(e){if(1===e.bound)return 0|e.digits[0];{let t=0;for(let n=e.bound-1;n>=0;n--)t=e.digits[n]+vo*t;return 0|t}}(r);return t&&0===e?n:new Zt(Ae(e),n)}}(!0,new Zt,e,n);if(null==r.tail)return"0";{let e;return Ht("",e=uo(r,Array))}}function Go(e){return e.bound<=1}function Yo(e){return 0<e.bound?0|e.digits[0]:0}const qo=qt((function(e,t){this.signInt=e,this.v=t}),nn);function $o(e,t){return this instanceof qo?qo.call(this,e,t):new qo(e,t)}function Jo(e){return Go(e)&&Yo(e)<qo.smallLim?qo.smallPosTab[Yo(e)]:e}function Zo(e){return e.signInt}function Ko(e){return e.v}function Qo(e,t){const n=[Zo(e),Zo(t)];switch(-1===n[0]?-1===n[1]?1:0===n[1]?8:1===n[1]?3:9:0===n[0]?-1===n[1]?6:0===n[1]?4:1===n[1]?5:9:1===n[0]?-1===n[1]?2:0===n[1]?7:1===n[1]?0:9:9){case 0:case 1:return Mo(Ko(e),Ko(t));case 2:case 3:return!!Ro(Ko(e))&&Ro(Ko(t));case 4:return!0;case 5:case 6:return Ro(Ko(t));case 7:case 8:return Ro(Ko(e));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}function eu(e,t){const n=[Zo(e),Zo(t)];switch(-1===n[0]?-1===n[1]?1:0===n[1]?8:1===n[1]?3:9:0===n[0]?-1===n[1]?6:0===n[1]?4:1===n[1]?5:9:1===n[0]?-1===n[1]?2:0===n[1]?7:1===n[1]?0:9:9){case 0:return Oo(Ko(e),Ko(t));case 1:return Oo(Ko(t),Ko(e));case 2:return!1;case 3:return!Ro(Ko(e))||!Ro(Ko(t));case 4:return!1;case 5:return!Ro(Ko(t));case 6:case 7:return!1;case 8:return!Ro(Ko(e));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}function tu(e){return e>=0?$o.call(this,1,Jo(jo(e))):-2147483648===e?$o.call(this,-1,Jo(Wo(ne(de(e,!1,2))))):$o.call(this,-1,Jo(jo(s(e))))}function nu(){return qo.one}function ru(){return qo.two}function iu(){return qo.zero}function ou(e){for(;;){const t=e;if(null==t.tail)return null;if(null==t.tail.tail)return jn(t.head);e=t.tail}}function uu(e,t,n){for(;;){const r=e,i=t,o=n;if(null==o.tail)return i;e=r,t=r(i,o.head),n=o.tail}}function su(e){return uu((function(e,t){return new Zt(t,e)}),new Zt,e)}function lu(e){return su(cr((function(e,t){return new Zt(t,e)}),new Zt,e))}function cu(e){return uu((function(e,t){return e+1}),0,e)}function au(e,t){return uu((function(e,t){return new Zt(t,e)}),t,su(e))}function fu(e,t){return su(uu((function(t,n){return new Zt(e(n),t)}),new Zt,t))}function du(e,t){uu((function(t,n){e(n)}),null,t)}function hu(e){let t=new Zt;for(let n=function(e){if(Pe(e))return e.length;{let t=0;for(const n of e)t++;return t}}(e)-1;n>=0;n--)t=new Zt(e[n],t);return t}function wu(e,t){return function(e,t,n){e:for(;;){const r=e,i=t,o=n;if(null!=o.tail){const u=r(i,o.head);if(null==u){e=r,t=i+1,n=o.tail;continue e}return u}return null}}(e,0,t)}function pu(e,t){return wu((function(t,n){return e(t,n)?jn(n):null}),t)}function gu(e,t){return pu((function(t,n){return e===t}),t)}function vu(e,t){return su(uu((function(t,n){return e(n)?new Zt(n,t):t}),new Zt,t))}function xu(e,t){let n=new Zt;for(let r=1;r<=e;r++)n=new Zt(t(e-r),n);return n}function mu(e,t){if(null!=t.tail)return uu(e,t.head,t.tail);throw new Error("List was empty")}qo.smallLim=4096,qo.smallPosTab=no(qo.smallLim,jo,Array),qo.one=tu(1),qo.two=tu(2),qo.zero=tu(0),qo.prototype.toString=function(){const e=this;switch(0|Zo(e)){case-1:return Ro(Ko(e))?"0":"-"+Xo(Ko(e));case 0:return"0";case 1:return Xo(Ko(e));default:throw new Error("signs should be +/- 1 or 0")}},qo.prototype.Equals=function(e){return e instanceof qo&&Qo(this,e)},qo.prototype.GetHashCode=function(){return 0|(0===Zo(e=this)?1:Zo(e)+function(e){let t=0;for(let n=0;n<=e.bound-1;n++)t=e.digits[n]+(t<<3);return 0|t}(Ko(e))|0);var e},qo.prototype.CompareTo=function(e){if(e instanceof qo)return 0|(eu(t=this,n=e)?-1:Qo(t,n)?0:1);throw new Error("the objects are not comparable\\nParameter name: obj");var t,n};iu(),nu(),ru();iu(),nu();function Au(e,t){const n=new Date(e);return n.offset=null!=t?t:-6e4*(new Date).getTimezoneOffset(),n}function yu(){return Au(-621355968e5,0)}function Su(e){const t=Ke(e),n=$e.exec(e),r=null==n?-6e4*t.getTimezoneOffset():"Z"===n[0]?0:36e5*parseInt(n[1],10)+6e4*parseInt(n[2],10);return Au(t.getTime(),r)}function bu(e=0,t=0,n=0,r=0,i=0){switch(arguments.length){case 1:return o=arguments[0],ae(ee(o,1e4));case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],i=0}var o;return 864e5*e+36e5*t+6e4*n+1e3*r+i}function Tu(e){const t=e.search("\\."),n=e.search("\\:");if(-1===t&&-1===n){const t=parseInt(e,0);if(isNaN(t))throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`);return bu(t,0,0,0,0)}if(n>0){const t=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(e);if(null!=t&&null!=t[4]&&null!=t[5]){let n=0,r=0,i=0;const o=null!=t[1]&&"-"===t[1]?-1:1,u=+t[4],s=+t[5];if(null!=t[3]&&(n=+t[3]),null!=t[7]&&(i=+t[7]),null!=t[8])switch(t[8].length){case 1:r=100*+t[8];break;case 2:r=10*+t[8];break;case 3:r=+t[8];break;case 4:r=+t[8]/10;break;case 5:r=+t[8]/100;break;case 6:r=+t[8]/1e3;break;case 7:r=+t[8]/1e4;break;default:throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}return o*bu(n,u,s,i,r)}}throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}function Eu(e){return void 0===e}function Cu(e,t,n){try{return"Expecting "+e+" but instead got:"+(n?"\n":" ")+JSON.stringify(t,null,4)}catch(t){return"Expecting "+e+" but decoder failed. Couldn't report given value due to circular structure."+(n?"\n":" ")}}function Pu(e,t){const n=2===t.tag?Cu(t.fields[0],t.fields[1],!0):1===t.tag?Cu(t.fields[0],t.fields[1],!1)+"\nReason: "+t.fields[2]:3===t.tag?Cu(t.fields[0],t.fields[1],!0):4===t.tag?Cu(t.fields[0],t.fields[1],!0)+"\nNode `"+t.fields[2]+"` is unkown.":5===t.tag?"Expecting "+t.fields[0]+".\n"+JSON.stringify(t.fields[1],null,4):7===t.tag?"The following errors were found:\n\n"+Ht("\n\n",t.fields[0]):6===t.tag?"The following `failure` occurred with the decoder: "+t.fields[0]:Cu(t.fields[0],t.fields[1],!1);return 7===t.tag?n:"Error at: `"+e+"`\n"+n}function Ru(e,t,n){let r;return 1===(r=Xe(1,t,[e])(n)).tag?new $n(1,"Error",Pu(r.fields[0][0],r.fields[0][1])):new $n(0,"Ok",r.fields[0])}function Mu(e,t){try{return Ru("$",e,JSON.parse(t))}catch(e){if(e instanceof SyntaxError)return new $n(1,"Error","Given an invalid JSON: "+e.message);throw e}}function Lu(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(-128<=n&&n<=127)return new $n(0,"Ok",(n+128&255)-128);{const t=[e,new Er(1,"BadPrimitiveExtra","a sbyte",n,"Value was either too large or too small for a sbyte")];return new $n(1,"Error",t)}}{const t=[e,new Er(1,"BadPrimitiveExtra","a sbyte",n,"Value is not an integral value")];return new $n(1,"Error",t)}}if("string"==typeof t){let n;if((n=u(t,511,!1,8))[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","a sbyte",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","a sbyte",t)];return new $n(1,"Error",n)}}}function Ou(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(0<=n&&n<=255)return new $n(0,"Ok",255&n);{const t=[e,new Er(1,"BadPrimitiveExtra","a byte",n,"Value was either too large or too small for a byte")];return new $n(1,"Error",t)}}{const t=[e,new Er(1,"BadPrimitiveExtra","a byte",n,"Value is not an integral value")];return new $n(1,"Error",t)}}if("string"==typeof t){let n;if((n=u(t,511,!0,8))[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","a byte",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","a byte",t)];return new $n(1,"Error",n)}}}function Fu(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(-32768<=n&&n<=32767)return new $n(0,"Ok",(n+32768&65535)-32768);{const t=[e,new Er(1,"BadPrimitiveExtra","an int16",n,"Value was either too large or too small for an int16")];return new $n(1,"Error",t)}}{const t=[e,new Er(1,"BadPrimitiveExtra","an int16",n,"Value is not an integral value")];return new $n(1,"Error",t)}}if("string"==typeof t){let n;if((n=u(t,511,!1,16))[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","an int16",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","an int16",t)];return new $n(1,"Error",n)}}}function Du(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(0<=n&&n<=65535)return new $n(0,"Ok",65535&n);{const t=[e,new Er(1,"BadPrimitiveExtra","an uint16",n,"Value was either too large or too small for an uint16")];return new $n(1,"Error",t)}}{const t=[e,new Er(1,"BadPrimitiveExtra","an uint16",n,"Value is not an integral value")];return new $n(1,"Error",t)}}if("string"==typeof t){let n;if((n=u(t,511,!0,16))[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","an uint16",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","an uint16",t)];return new $n(1,"Error",n)}}}function Bu(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(-2147483648<=n&&n<=2147483647)return new $n(0,"Ok",~~n);{const t=[e,new Er(1,"BadPrimitiveExtra","an int",n,"Value was either too large or too small for an int")];return new $n(1,"Error",t)}}{const t=[e,new Er(1,"BadPrimitiveExtra","an int",n,"Value is not an integral value")];return new $n(1,"Error",t)}}if("string"==typeof t){let n;if((n=u(t,511,!1,32))[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","an int",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","an int",t)];return new $n(1,"Error",n)}}}function ku(e){return function(t){if("number"==typeof t){const n=t;if(isFinite(n)&&Math.floor(n)===n){if(0<=n&&n<=4294967295)return new $n(0,"Ok",n>>>0);{const t=[e,new Er(1,"BadPrimitiveExtra","an uint32",n,"Value was either too large or too small for an uint32")];return new $n(1,"Error",t)}}{const t=[e,new Er(1,"BadPrimitiveExtra","an uint32",n,"Value is not an integral value")];return new $n(1,"Error",t)}}if("string"==typeof t){let n;if((n=u(t,511,!0,32))[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","an uint32",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","an uint32",t)];return new $n(1,"Error",n)}}}const _u=(()=>{const e=oe(0,2147483648,!1),t=oe(4294967295,2147483647,!1);return function(n){return function(r){if("number"==typeof r){const i=r;if(isFinite(i)&&Math.floor(i)===i){if(ae(e)<=i&&i<=ae(t))return new $n(0,"Ok",se(i,!1));{const e=[n,new Er(1,"BadPrimitiveExtra","an int64",i,"Value was either too large or too small for an int64")];return new $n(1,"Error",e)}}{const e=[n,new Er(1,"BadPrimitiveExtra","an int64",i,"Value is not an integral value")];return new $n(1,"Error",e)}}if("string"==typeof r){let e;if((e=we(r,511,!1))[0])return new $n(0,"Ok",e[1]);{const e=[n,new Er(0,"BadPrimitive","an int64",r)];return new $n(1,"Error",e)}}{const e=[n,new Er(0,"BadPrimitive","an int64",r)];return new $n(1,"Error",e)}}}})();(()=>{const e=oe(0,0,!0),t=oe(4294967295,4294967295,!0)})();function zu(e,t){if("string"==typeof t){const r=function(e){try{return null==e||""===e.trim()?[!1,Ze()]:[!0,Qe(e)]}catch(e){return[!1,Ze()]}}(t,Ze());if(r[0]){const e=1===(n=r[1]).kind?n:Je(n.getTime(),1);return new $n(0,"Ok",e)}{const n=[e,new Er(0,"BadPrimitive","a datetime",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","a datetime",t)];return new $n(1,"Error",n)}var n}function Iu(e,t){if("string"==typeof t){const n=function(e){try{return[!0,Su(e)]}catch(e){return[!1,yu()]}}(t,yu());if(n[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","a datetimeoffset",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","a datetime",t)];return new $n(1,"Error",n)}}function Uu(e,t){if("string"==typeof t){const n=function(e){try{return[!0,Tu(e)]}catch(e){return[!1,0]}}(t);if(n[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","a timespan",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","a timespan",t)];return new $n(1,"Error",n)}}function Nu(e,t,n){let r;if(1===(r=Xe(1,t,[e])(n)).tag){if(null==n)return new $n(0,"Ok",null);if(1===r.tag)return new $n(1,"Error",r.fields[0]);throw new Error("The match cases were incomplete")}return new $n(0,"Ok",jn(r.fields[0]))}function Vu(e,t,n){var r;const i=Xn(t,Ht(".",new Zt("$",e))),o="an object with path `"+Ht(".",e)+"`";return new $n(1,"Error",[i,new Er(4,"BadPath",o,n,(r=ou(e),Xn(r,"")))])}function Hu(e,t,n,r){const i=n+".["+Ae(e)+"]";if(Array.isArray(r)){const n=r;if(e<n.length)return t(i,n[e]);{const t="a longer array. Need index `"+Ae(e)+"` but there are only `"+Ae(0|n.length)+"` entries",o=[i,new Er(5,"TooSmallArray",t,r)];return new $n(1,"Error",o)}}{const e=[i,new Er(0,"BadPrimitive","an array",r)];return new $n(1,"Error",e)}}function ju(e,t,n){if(Array.isArray(n)){let r=-1;const i=n;let o;return Jn(su,o=ro((function(n,i){if(r+=1,0===n.tag){const o=e(t+".["+Ae(r)+"]",i);return 0===o.tag?new $n(0,"Ok",new Zt(o.fields[0],n.fields[0])):new $n(1,"Error",o.fields[0])}return n}),new $n(0,"Ok",new Zt),i))}{const e=[t,new Er(0,"BadPrimitive","a list",n)];return new $n(1,"Error",e)}}function Wu(e,t,n){if(Array.isArray(n)){let r=-1;const i=n,o=Ki(new Array(i.length),0,i.length,null);return ro((function(n,i){if(r+=1,0===n.tag){const o=e(t+".["+Ae(r)+"]",i);return 0===o.tag?(n.fields[0][r]=o.fields[0],new $n(0,"Ok",n.fields[0])):new $n(1,"Error",o.fields[0])}return n}),new $n(0,"Ok",o),i)}{const e=[t,new Er(0,"BadPrimitive","an array",n)];return new $n(1,"Error",e)}}function Xu(e,t,n){return new $n(0,"Ok",e)}function Gu(e,t,n,r){const i=t(n,r);return 0===i.tag?e(i.fields[0],n,r):new $n(1,"Error",i.fields[0])}function Yu(e,t,n,r){const i=t(n,r);return 1===i.tag?new $n(1,"Error",i.fields[0]):new $n(0,"Ok",e(i.fields[0]))}function qu(e,t,n,r){let i;return 1===(i=Xe(1,n,[t])(r)).tag?(e.push(i.fields[0]),null):i.fields[0]}const $u=qt((function(e,t){const n=this;n.errors=[],n.required={Field:(r,i)=>qu(n.errors,e,(function(e,t){return function(e,t,n,r){if(null!==r&&Object.getPrototypeOf(r||!1)===Object.prototype){const i=r[e];return Eu(i)?new $n(1,"Error",[n,new Er(3,"BadField","an object with a field named `"+e+"`",r)]):t(n+"."+e,i)}return new $n(1,"Error",[n,new Er(2,"BadType","an object",r)])}(r,i,e,t)}),t),At:(r,i)=>qu(n.errors,e,(function(e,t){return function(e,t,n,r){let i;return null==(i=uu((function(t,n){if(null==t[2]){if(null==t[1]){const n=Vu(e,t[0],r);return[t[0],t[1],n]}if(null!==t[1]&&Object.getPrototypeOf(t[1]||!1)===Object.prototype){const i=t[1][n];if(Eu(i)){const n=Vu(e,null,r);return[t[0],i,n]}return[t[0]+"."+n,i,null]}{const e=new $n(1,"Error",[t[0],new Er(2,"BadType","an object",t[1])]);return[t[0],t[1],e]}}return[t[0],t[1],t[2]]}),[n,r,null],e))[2]?t(i[0],i[1]):i[2]}(r,i,e,t)}),t),Raw:r=>qu(n.errors,e,r,t)},n.optional={Field:(r,i)=>qu(n.errors,e,(function(e,t){return function(e,t,n,r){if(null!==r&&Object.getPrototypeOf(r||!1)===Object.prototype){const i=r[e];return Eu(i)?new $n(0,"Ok",null):Nu(n+"."+e,t,i)}return new $n(1,"Error",[n,new Er(2,"BadType","an object",r)])}(r,i,e,t)}),t),At:(r,i)=>qu(n.errors,e,(function(e,t){return function(e,t,n,r){let i;return null==(i=uu((function(t,n){if(null==t[2]){if(null==t[1]){const n=Vu(e,t[0],r);return[t[0],t[1],n]}if(null!==t[1]&&Object.getPrototypeOf(t[1]||!1)===Object.prototype){const e=t[1][n];return[t[0]+"."+n,e,null]}{const e=new $n(1,"Error",[t[0],new Er(2,"BadType","an object",t[1])]);return[t[0],t[1],e]}}return[t[0],t[1],t[2]]}),[n,r,null],e))[2]?Eu(i[1])?new $n(0,"Ok",null):Nu(i[0],t,i[1]):i[2]}(r,i,e,t)}),t),Raw(r){let i;if(1!==(i=Xe(1,r,[e])(t)).tag)return jn(i.fields[0]);var o,u;switch(1===i.fields[0][1].tag?(o=0,u=i.fields[0][1].fields[1]):2===i.fields[0][1].tag?(o=0,u=i.fields[0][1].fields[1]):3===i.fields[0][1].tag?o=1:4===i.fields[0][1].tag?o=1:5===i.fields[0][1].tag?o=2:6===i.fields[0][1].tag?o=2:7===i.fields[0][1].tag?o=2:(o=0,u=i.fields[0][1].fields[1]),o){case 0:return null==u?null:(n.errors.push(i.fields[0]),null);case 1:return null;case 2:return n.errors.push(i.fields[0]),null}}}}));function Ju(e,t,n){const r=function(e,t){return this instanceof $u?$u.call(this,e,t):new $u(e,t)}(t,n);let i;i=e(r);const o=lu(r.errors);if(null!=o.tail){if(cu(o)>1){const e=fu((function(e){return Pu(e[0],e[1])}),o),n=[t,new Er(7,"BadOneOf",e)];return new $n(1,"Error",n)}return new $n(1,"Error",o.head)}return new $n(0,"Ok",i)}function Zu(e){return si(t={Compare:ke},Kr(t,e));var t}function Ku(e,t,n,r){var i,o,u,s,l,c;if(t.length!==r.length){const a=[n,(o=0|t.length,u=0|r.length,s=Ut(zt("Expected %i %s but got %i")),l=s(o),c=l(e),i=c(u),new Er(6,"FailMessage",i))];return new $n(1,"Error",a)}{const e=new $n(0,"Ok",new Zt);return io(We(3,Ge((function(e){return function(t){return function(r){if(0===r.tag){return Jn((function(e){return new Zt(e,r.fields[0])}),t(n,e))}return r}}}),[0,[0,2],0])),r,t,e)}}function Qu(e,t,n,r,i,o){let u;const s=Bn(n);var l;if(l=function(e){return bn(e)===r},null!=(u=s.find(l))){const n=u;if(0===o.length){const e=Vn(n,[]);return new $n(0,"Ok",e)}{let r;return Jn((function(e){return Vn(n,uo(e,Array))}),Ku("union fields",r=Qi((function(n){return ts(e,t,!1,n[1])}),Nn(n),Array),i,o))}}{const e=[i,new Er(6,"FailMessage","Cannot find case "+r+" in "+Tn(n))];return new $n(1,"Error",e)}}function es(e,t,n,r){const i=new on(null);let o;const u=Tn(r);let s;if(o=hi(u,i,e),In(r)){let e;const n=kn(r);e=Qi((function(e){return[Dr(t,bn(e)),ts(o,t,!1,e[1])]}),n,Array),s=function(t){return function(n){const i=function(e,t,n){if(null===n||Object.getPrototypeOf(n||!1)!==Object.prototype){const e=[t,new Er(0,"BadPrimitive","an object",n)];return new $n(1,"Error",e)}{const o=new $n(0,"Ok",new Zt);return r=function(e,r){return 0===r.tag?Jn((function(e){return new Zt(e,r.fields[0])}),e[1](t+"."+e[0])(n[e[0]])):r},i=o,e.reduceRight((function(e,t){return r(t,e)}),i)}var r,i}(e,t,n);return Jn((function(e){return function(e,t){const n=kn(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return null!=e.constructor?new e.constructor(...t):rn(n.reduce((e,[n,r],i)=>(e[n]=t[i],e),{}))}(r,uo(e,Array))}),i)}}}else if(zn(r))s=function(e){return function(n){if("string"==typeof n){return Qu(o,t,r,n,e,[])}if(Array.isArray(n)){const i=n;let u;const s=i[0];return Qu(o,t,r,u=s,e,i.slice(1,i.length))}{const t=[e,new Er(0,"BadPrimitive","a string or array",n)];return new $n(1,"Error",t)}}};else{if(!n){let e;const t=Tn(r);throw e=Ut(zt("Cannot generate auto decoder for %s. Please pass an extra decoder."))(t),new Error(e)}s=function(e){return function(t){return new $n(1,"Error",[e,new Er(2,"BadType","an extra coder for "+Tn(r),t)])}}}return i.contents=s,s}function ts(e,t,n,r){var i,o;const u=Tn(r),s=pi(u,e);if(null==s){if(En(r)){let n;const i=Cn(r);return n=ts(e,t,!1,i),function(e){return function(t){return Wu(We(2,n),e,t)}}}if(Rn(r)){const e=Tn(Ln(r));return"System.SByte"===e?function(e){return function(t){const n=Lu(e)(t);if(1===n.tag)return new $n(1,"Error",n.fields[0]);{let i,o;if(o=On(r),i=sr(n.fields[0],o)){const e=Dn(r,n.fields[0].toString());return new $n(0,"Ok",e)}{const n=[e,new Er(1,"BadPrimitiveExtra",Tn(r),t,"Unkown value provided for the enum")];return new $n(1,"Error",n)}}}}:"System.Byte"===e?function(e){return function(t){const n=Ou(e)(t);if(1===n.tag)return new $n(1,"Error",n.fields[0]);{let i,o;if(o=On(r),i=sr(n.fields[0],o)){const e=Dn(r,n.fields[0].toString());return new $n(0,"Ok",e)}{const n=[e,new Er(1,"BadPrimitiveExtra",Tn(r),t,"Unkown value provided for the enum")];return new $n(1,"Error",n)}}}}:"System.Int16"===e?function(e){return function(t){const n=Fu(e)(t);if(1===n.tag)return new $n(1,"Error",n.fields[0]);{let u,s;if(s=On(r),u=sr(n.fields[0],s)){const e=Dn(r,(i=(i=n.fields[0])<0&&null!=o&&10!==o?65535+i+1:i).toString(o));return new $n(0,"Ok",e)}{const n=[e,new Er(1,"BadPrimitiveExtra",Tn(r),t,"Unkown value provided for the enum")];return new $n(1,"Error",n)}}var i,o}}:"System.UInt16"===e?function(e){return function(t){const n=Du(e)(t);if(1===n.tag)return new $n(1,"Error",n.fields[0]);{let i,o;if(o=On(r),i=sr(n.fields[0],o)){const e=Dn(r,n.fields[0].toString());return new $n(0,"Ok",e)}{const n=[e,new Er(1,"BadPrimitiveExtra",Tn(r),t,"Unkown value provided for the enum")];return new $n(1,"Error",n)}}}}:"System.Int32"===e?function(e){return function(t){const n=Bu(e)(t);if(1===n.tag)return new $n(1,"Error",n.fields[0]);{let i,o;if(o=On(r),i=sr(n.fields[0],o)){const e=Dn(r,Ae(n.fields[0]));return new $n(0,"Ok",e)}{const n=[e,new Er(1,"BadPrimitiveExtra",Tn(r),t,"Unkown value provided for the enum")];return new $n(1,"Error",n)}}}}:"System.UInt32"===e?function(e){return function(t){const n=ku(e)(t);if(1===n.tag)return new $n(1,"Error",n.fields[0]);{let i,o;if(o=On(r),i=sr(n.fields[0],o)){const e=Dn(r,n.fields[0].toString());return new $n(0,"Ok",e)}{const n=[e,new Er(1,"BadPrimitiveExtra",Tn(r),t,"Unkown value provided for the enum")];return new $n(1,"Error",n)}}}}:(i=Nt(zt("Cannot generate auto decoder for %s.\nThoth.Json.Net only support the folluwing enum types:\n- sbyte\n- byte\n- int16\n- uint16\n- int\n- uint32\nIf you can't use one of these types, please pass an extra decoder.\n                    ")),function(e){const t=i(e);return function(e){const n=t(e);return function(e){return n(e)}}})(Tn(r))}if(Pn(r)){if(Un(r)){let n;const i=_n(r);return n=Qi((function(n){return ts(e,t,!1,n)}),i,Array),function(e){return function(t){if(Array.isArray(t)){return Jn((function(e){return uo(e,Array)}),Ku("tuple elements",n,e,t))}{const n=[e,new Er(0,"BadPrimitive","an array",t)];return new $n(1,"Error",n)}}}}{const i=Tn(Mn(r));if("Microsoft.FSharp.Core.FSharpOption`1[System.Object]"===i){let n,i;const o=fn(r)[0];return i=ts(e,t,!0,o),n=function(e){return function(t){return n=We(2,i),r=e,null==(o=t)?new $n(0,"Ok",null):Jn((function(e){return jn(e)}),n(r,o));var n,r,o}}}if("Microsoft.FSharp.Collections.FSharpList`1[System.Object]"===i){let n,i;const o=fn(r)[0];return i=ts(e,t,!1,o),n=function(e){return function(t){return ju(We(2,i),e,t)}}}if("Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]"===i){let n;const i=fn(r)[0];let u;n=ts(e,t,!1,i);const s=fn(r)[1];let a;u=ts(e,t,!1,s);const f=hu([function(e){return function(t){return function(e,t,n,r){if(null===r||Object.getPrototypeOf(r||!1)!==Object.prototype){const e=[n,new Er(0,"BadPrimitive","an object",r)];return new $n(1,"Error",e)}return cr((function(i,o){if(0===i.tag){let u;if(0===(u=Xe(1,e,[n])(o)).tag){const e=t(n+"."+o,r[o]);if(0===e.tag){const t=new Zt([u.fields[0],e.fields[0]],i.fields[0]);return new $n(0,"Ok",t)}return new $n(1,"Error",e.fields[0])}return new $n(1,"Error",u.fields[0])}return i}),new $n(0,"Ok",new Zt),Object.keys(r))}(We(2,n),We(2,u),e,t)}},(l=We(2,n),c=We(2,u),o=function(e){return function(t){return Gu((function(e,t,n){return Gu((function(t,n,r){return Xu([e,t])}),(function(e,t){return Hu(1,c,e,t)}),t,n)}),(function(e,t){return Hu(0,l,e,t)}),e,t)}},function(e){return function(t){return ju(We(2,o),e,t)}})]);return a=function(e){return function(t){return n=e,r=t,function(e,t){e:for(;;){const i=e,o=t;if(null==i.tail){const e=[n,new Er(7,"BadOneOf",o)];return new $n(1,"Error",e)}{const u=Ru(n,We(2,i.head),r);if(1===u.tag){e=i.tail,t=au(o,new Zt(u.fields[0],new Zt));continue e}return new $n(0,"Ok",u.fields[0])}}}(f,new Zt);var n,r}},function(e){return function(t){return Yu((function(e){return Zu(e)}),We(2,a),e,t)}}}if("Microsoft.FSharp.Collections.FSharpSet`1[System.Object]"===i){let n;const i=fn(r)[0];return n=ts(e,t,!1,i),function(e){return function(t){const r=Wu(We(2,n),e,t);if(0===r.tag){let e;const t=Ji(r.fields[0],{Compare:ke});return new $n(0,"Ok",e=t)}return new $n(1,"Error",r.fields[0])}}}return es(e,t,n,r)}}return"System.Boolean"===u?function(e){return function(t){return function(e,t){if("boolean"==typeof t)return new $n(0,"Ok",t);{const n=[e,new Er(0,"BadPrimitive","a boolean",t)];return new $n(1,"Error",n)}}(e,t)}}:"Microsoft.FSharp.Core.Unit"===u?function(e){return function(t){return function(e,t){if(null==t)return new $n(0,"Ok",null);{const n=[e,new Er(0,"BadPrimitive","null",t)];return new $n(1,"Error",n)}}(e,t)}}:"System.String"===u?function(e){return function(t){return function(e,t){if("string"==typeof t)return new $n(0,"Ok",t);{const n=[e,new Er(0,"BadPrimitive","a string",t)];return new $n(1,"Error",n)}}(e,t)}}:"System.SByte"===u?Lu:"System.Byte"===u?Ou:"System.Int16"===u?Fu:"System.UInt16"===u?Du:"System.Int32"===u?Bu:"System.UInt32"===u?ku:"System.Double"===u?function(e){return function(t){return function(e,t){if("number"==typeof t)return new $n(0,"Ok",t);{const n=[e,new Er(0,"BadPrimitive","a float",t)];return new $n(1,"Error",n)}}(e,t)}}:"System.Single"===u?function(e){return function(t){return function(e,t){if("number"==typeof t)return new $n(0,"Ok",t);{const n=[e,new Er(0,"BadPrimitive","a float32",t)];return new $n(1,"Error",n)}}(e,t)}}:"System.DateTime"===u?function(e){return function(t){return zu(e,t)}}:"System.DateTimeOffset"===u?function(e){return function(t){return Iu(e,t)}}:"System.TimeSpan"===u?function(e){return function(t){return Uu(e,t)}}:"System.Guid"===u?function(e){return function(t){return function(e,t){if("string"==typeof t){const n=jt(t,!0);if(n[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","a guid",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","a guid",t)];return new $n(1,"Error",n)}}(e,t)}}:"System.Object"===u?function(e){return function(e){return new $n(0,"Ok",e)}}:es(e,t,n,r)}{const e=s;return function(t){return function(n){return e.contents(t)(n)}}}var l,c}function ns(e){if(null!=e){return vi((function(e,t){return new on(t[1])}),e.Coders)}return Ai({Compare:Fe})}Object.defineProperty($u.prototype,"Required",{get:function(){return this.required}}),Object.defineProperty($u.prototype,"Optional",{get:function(){return this.optional}});qt((function(){}));const rs=qt((function(e,t){this.width=e,this.height=t}),nn);function is(){return wn("Models.Size")}function os(e,t){return this instanceof rs?rs.call(this,e,t):new rs(e,t)}function us(e){return e.width}function ss(e){return e.height}rs.prototype.toString=function(){return"("+Ae(0|us(this))+","+Ae(0|ss(this))+")"};const ls=qt((function(e,t){this.x=e,this.y=t}),nn);function cs(){return wn("Models.Position")}function as(e,t){return this instanceof ls?ls.call(this,e,t):new ls(e,t)}function fs(e){return e.x}function ds(e){return e.y}function hs(){return as(0,0)}ls.prototype.toString=function(){return"("+Ae(0|fs(this))+","+Ae(0|ds(this))+")"};const ws=qt((function(e,t){this.name=e,this.smooth=t,this.data=new qn(0,"Choice1Of4",null)}));function ps(e,t){return this instanceof ws?ws.call(this,e,t):new ws(e,t)}function gs(e){return e.name}const vs=qt((function(e,t,n){this.Texture=e,this.TextureSliceSize=t,this.TextureSlicePosition=n}),nn);const xs=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const ms=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const As=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const ys=qt((function(e,t,n,r,i,o,u){this.Position=e,this.Size=t,this.Texture=n,this.TextureSliceSize=r,this.TextureSlicePosition=i,this.HeightMap=o,this.Effect=u}),nn);const Ss=qt((function(e,t,n,r,i,o,u,s,l,c){this.Position=e,this.Children=t,this.Shader=n,this.Scale=0|r,this.ActiveArea=i,this.Enter=o,this.Clicked=u,this.Dragging=s,this.Blur=l,this.Leave=c}),nn);const bs=qt((function(e,t,n,r){this.Size=e,this.Children=t,this.Shader=n,this.ActiveArea=r}),nn);const Ts=qt((function(e,t){this.Key=e,this.Last=t}),nn);const Es=qt((function(e,t){this.Render=e,this.Last=t}),nn);const Cs=qt((function(e,t,n){this.Render=e,this.Rendered=t,this.Last=n}),nn);qt((function(e,t,n,r,i){this.Count=0|e,this.Texture=t,this.HeightMapTexture=n,this.Size=r,this.Child=i}),nn);const Ps=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Rs=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Ms=qt((function(e,t,n,r){this.Point=e,this.Start=t,this.End=n,this.Direction=r}),nn);qt((function(e,t,n,r){this.Point=e,this.Start=t,this.End=n,this.Direction=r}),nn);const Ls=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Os=qt((function(e,t){this.Id=e,this.Actions=t}),nn);const Fs=qt((function(e,t){this.Position=e,this.Items=t}),nn);const Ds=qt((function(e,t,n,r,i){this.Visible=e,this.Items=t,this.Offset=0|n,this.Hover=r,this.Selected=i}),nn);const Bs=qt((function(e,t,n,r,i,o,u,s,l){this.SomeValue=e,this.Dragger=t,this.WorldMapSize=n,this.WorldMap=r,this.ActivePoint=i,this.HoverPoint=o,this.Players=u,this.Menu=s,this.Weather=l}),nn);const ks=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const _s=qt((function(e,t,n,r,i,o,u,s){this.Scale=0|e,this.Resolution=t,this.Content=n,this.MouseItem=r,this.DragItem=i,this.ClickItem=o,this.HoverItem=u,this.BlurItem=s}),nn);const zs=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Is=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Us=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Ns=qt((function(e,t,n,r){this.TextureName=e,this.SlicePosition=t,this.SliceSize=n,this.RenderOffset=r}),nn);const Vs=qt((function(e,t,n,r,i,o){this.Options=e,this.TextureName=t,this.SlicePosition=n,this.SliceSize=r,this.RenderOffset=i,this.HeightMap=o}),nn);const Hs=qt((function(e){this.Layers=e}),nn);const js=qt((function(e,t,n){this.Name=e,this.Frames=t,this.Size=n}),nn);function Ws(){return pn("Models.SpriteResource",[],js,()=>[["Name",yn],["Frames",mn(pn("Models.Frame",[],Hs,()=>[["Layers",mn(pn("Models.Layer",[],Vs,()=>[["Options",mn(gn("Models.LayerOption",[],Us,()=>["NoHighlight",["Shadow",[Sn,Sn]],"Ground","Leaf",["AutoHeightMap",[Sn]]]))],["TextureName",yn],["SlicePosition",cs()],["SliceSize",is()],["RenderOffset",cs()],["HeightMap",vn(pn("Models.LayerHeightMap",[],Ns,()=>[["TextureName",yn],["SlicePosition",cs()],["SliceSize",is()],["RenderOffset",cs()]]))]]))]]))],["Size",is()]])}function Xs(e){return String(e)}function Gs(e){const t={};return dr((function(e){t[e[0]]=e[1]}),e),t}function Ys(e){return String(e)}qt((function(){}));const qs=new Pr("",Ai({Compare:Fe}));function $s(e){var t,n;return Gs([["x",(t=0|fs(e),t)],["y",(n=0|ds(e),n)]])}function Js(e){var t,n;return Gs([["width",(t=0|us(e),t)],["height",(n=0|ss(e),n)]])}const Zs=(()=>{let e,t,n;n=new Pr(Wt(),hi("System.Int64",[Ys,_u],qs.Coders)),t=new Pr(Wt(),hi("System.Decimal",[Xs,function(e){return function(t){return function(e,t){if("number"==typeof t){let e;return e=new St(t),new $n(0,"Ok",e)}if("string"==typeof t){const n=Tt(t);if(n[0])return new $n(0,"Ok",n[1]);{const n=[e,new Er(0,"BadPrimitive","a decimal",t)];return new $n(1,"Error",n)}}{const n=[e,new Er(0,"BadPrimitive","a decimal",t)];return new $n(1,"Error",n)}}(e,t)}}],n.Coders));const r=function(e){return function(t){return Ju((function(e){return as(e.Required.Field("x",We(2,Bu)),e.Required.Field("y",We(2,Bu)))}),e,t)}};e=new Pr(Wt(),hi("Models.Position",[$s,r],t.Coders));const i=function(e){return function(t){return Ju((function(e){return os(e.Required.Field("width",We(2,Bu)),e.Required.Field("height",We(2,Bu)))}),e,t)}};return new Pr(Wt(),hi("Models.Size",[Js,i],e.Coders))})();!function(){this instanceof br?br.call(this):new br}();class Ks{constructor(e=!1){this._id=0,this._cancelled=e,this._listeners=new Map}get isCancelled(){return this._cancelled}cancel(){if(!this._cancelled){this._cancelled=!0;for(const[,e]of this._listeners)e()}}addListener(e){const t=this._id;return this._listeners.set(this._id++,e),t}removeListener(e){return this._listeners.delete(e)}register(e,t){const n=this,r=this.addListener(null==t?e:()=>e(t));return{Dispose(){n.removeListener(r)}}}}class Qs extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,Qs.prototype)}}class el{constructor(){this.callCount=0}static get maxTrampolineCallCount(){return 2e3}incrementAndCheck(){return this.callCount++>el.maxTrampolineCallCount}hijack(e){this.callCount=0,setTimeout(e,0)}}function tl(e){return t=>{if(t.cancelToken.isCancelled)t.onCancel(new Qs);else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(()=>{try{e(t)}catch(e){t.onError(e)}});else try{e(t)}catch(e){t.onError(e)}}}function nl(e,t){return tl(n=>{e({onSuccess:e=>{try{t(e)(n)}catch(e){n.onError(e)}},onError:n.onError,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline})})}function rl(e){return tl(t=>t.onSuccess(e))}const il=new class{Bind(e,t){return nl(e,t)}Combine(e,t){return this.Bind(e,()=>t)}Delay(e){return tl(t=>e()(t))}For(e,t){const n=e[Symbol.iterator]();let r=n.next();return this.While(()=>!r.done,this.Delay(()=>{const e=t(r.value);return r=n.next(),e}))}Return(e){return rl(e)}ReturnFrom(e){return e}TryFinally(e,t){return tl(n=>{e({onSuccess:e=>{t(),n.onSuccess(e)},onError:e=>{t(),n.onError(e)},onCancel:e=>{t(),n.onCancel(e)},cancelToken:n.cancelToken,trampoline:n.trampoline})})}TryWith(e,t){return tl(n=>{e({onSuccess:n.onSuccess,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline,onError:e=>{try{t(e)(n)}catch(e){n.onError(e)}}})})}Using(e,t){return this.TryFinally(t(e),()=>e.Dispose())}While(e,t){return e()?this.Bind(t,()=>this.While(e,t)):this.Return(void 0)}Zero(){return tl(e=>e.onSuccess(void 0))}};function ol(e){}function ul(e){return t=t=>e.then(t[0]).catch(e=>(e instanceof Qs?t[2]:t[1])(e)),tl(e=>t([e.onSuccess,e.onError,e.onCancel]));var t}const sl=new Ks;function ll(e,t){return function(e,t){return cl(e,t)}(e,t)}function cl(e,t,n,r,i){"function"!=typeof t&&(i=t,t=null);const o=new el;e({onSuccess:t||ol,onError:n||ol,onCancel:r||ol,cancelToken:i||sl,trampoline:o})}function al(e){return e.createBuffer()}function fl(e,t,n){let r;r=eo((function(e){return[e[0],e[1]]}),n,Array),e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW)}function dl(e,t,n){let r;r=eo((function(e){return[e[0],e[1],e[2],e[3]]}),n,Array),e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW)}function hl(e,t,n){e.viewport(0,0,t,n)}function wl(e,t,n){e.clearColor(0,0,0,0),e.clear(~~e.COLOR_BUFFER_BIT|~~e.DEPTH_BUFFER_BIT)}function pl(e){return 0!==e&&0==(e&e-1)}function gl(e,t,n){const r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),pl(t)&&pl(n)?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),r}function vl(e,t){e.deleteTexture(t)}function xl(e){return e.createFramebuffer()}function ml(e,t){e.bindFramebuffer(e.FRAMEBUFFER,t)}function Al(e,t,n){let r;switch(t){case 0:r=e.COLOR_ATTACHMENT0;break;case 1:r=e.COLOR_ATTACHMENT1;break;case 2:r=e.COLOR_ATTACHMENT2;break;case 3:r=e.COLOR_ATTACHMENT3;break;case 4:r=e.COLOR_ATTACHMENT4;break;default:throw new Error(">4")}e.framebufferTexture2D(e.FRAMEBUFFER,r,e.TEXTURE_2D,n,0)}function yl(e){e.bindFramebuffer(e.FRAMEBUFFER,null)}const Sl=Ie((function(e){throw new Error("Dispatch not set")}));function bl(e){Sl()(new Is(1,"Game",e))}function Tl(e){Sl()(new Is(0,"Host",e))}const El=Ie((function(e){throw new Error("getSprite not set")})),Cl=2400;function Pl(){let e=et();const t=function(t){const n=tt(e,t);return e=n,n};let n;const r=new xs(1,"Snow"),i=new Ds(!1,hu(["Build Fence","Pick Apple","Chop Down Tree","Collect Rock","Walk"]),-46,null,null);let o,u;var s;return o=xi(u=fu((function(e){return[e.Id,e]}),new Zt(new Os("Player1",hu([new Ls(1,"Idle",new Ms([0,1],Ze(),Ze(),new Rs(2,"East"))),new Ls(1,"Idle",new Ms([0,1],e,t((s=5,bu(0,0,s))),new Rs(2,"East"))),new Ls(0,"Move",new Ms([1,1],e,t(Cl),new Rs(2,"East"))),new Ls(0,"Move",new Ms([2,1],e,t(Cl),new Rs(2,"East"))),new Ls(0,"Move",new Ms([2,2],e,t(Cl),new Rs(1,"South"))),new Ls(0,"Move",new Ms([1,2],e,t(Cl),new Rs(3,"West"))),new Ls(0,"Move",new Ms([1,1],e,t(Cl),new Rs(0,"North"))),new Ls(1,"Idle",new Ms([1,1],e,Je(0xe677d21fdbff,0),new Rs(2,"East")))])),new Zt)),{Compare:Fe}),[n=new Bs("Hello world",[0,0],[10,10],xi(vu((function(e){return cu(e[1].Items)>0}),function(e){return su(cr((function(e,t){return uu((function(e,t){return new Zt(t,e)}),e,t)}),new Zt,e))}(xu(10,(function(e){return xu(10,(function(t){const n=5===t&&5===e?hu(["Temp Floor","Tree - Main"]):new Zt("Temp Floor",new Zt);return[[t,e],new Fs([t,e],n)]}))})))),{Compare:Be}),null,null,o,i,r),hu([new ks(5,"UpdatePlayer","Player1"),new ks(5,"UpdatePlayer","Player2")])]}function Rl(e,t,n){var r,i,o,u,s,l,c,a,f,d,h,w,p,g,v,x,m;switch(n.tag){case 1:return[(r=[t.Dragger[0]+n.fields[0],t.Dragger[1]+n.fields[1]],i=new Ds(!1,t.Menu.Items,t.Menu.Offset,t.Menu.Hover,t.Menu.Selected),new Bs(t.SomeValue,r,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,i,t.Weather)),new Zt];case 3:return[(null,new Bs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,null,t.Players,t.Menu,t.Weather)),new Zt];case 2:return[(o=[n.fields[0],n.fields[1]],new Bs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,o,t.Players,t.Menu,t.Weather)),new Zt];case 4:return[(u=[n.fields[0],n.fields[1]],s=[n.fields[0],n.fields[1]],l=new Ds(!0,t.Menu.Items,t.Menu.Offset,t.Menu.Hover,t.Menu.Selected),new Bs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,s,u,t.Players,l,t.Weather)),new Zt];case 5:{let r;if(null!=(r=pi(n.fields[0],t.Players))){const i=r;let o;if(Le(o=vu((function(t){return t.tag,rt(e,t.fields[0].End)<=0}),i.Actions),i.Actions))return[t,new Zt];{const e=new Os(i.Id,o);return[(c=hi(n.fields[0],e,t.Players),new Bs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,c,t.Menu,t.Weather)),lu(ir((function(){let e;var t,r,i;return t=function(e){return e.tag,e.fields[0].End},r=o,null==(e=su(uu((function(e,n){const r=t(n);return null==r?e:new Zt(Wn(r),e)}),new Zt,r))).tail?or():Ar(new ks(6,"Postponed",(i={Compare:rt},mu((function(e,t){return i.Compare(t,e)>0?e:t}),e)),new ks(5,"UpdatePlayer",n.fields[0])))})))]}}return[t,new Zt]}case 7:return[(f=t.Menu.Offset+n.fields[0]|0,a=new Ds(t.Menu.Visible,t.Menu.Items,f,t.Menu.Hover,t.Menu.Selected),new Bs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,a,t.Weather)),new Zt];case 8:return Le(n.fields[0],t.Menu.Selected)?[(d=new Ds(!1,t.Menu.Items,t.Menu.Offset,t.Menu.Hover,t.Menu.Selected),new Bs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,d,t.Weather)),new Zt]:[(p=0|(g=0|ze(Fe,0,n.fields[0]),v=cu(t.Menu.Items)-1|0,_e(Fe,v,g)),w=p,h=new Ds(t.Menu.Visible,t.Menu.Items,t.Menu.Offset,t.Menu.Hover,w),new Bs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,h,t.Weather)),new Zt];case 9:return[(x=new Ds(t.Menu.Visible,t.Menu.Items,t.Menu.Offset,n.fields[0],t.Menu.Selected),new Bs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,x,t.Weather)),new Zt];case 6:return[t,new Zt];case 10:return[(m=1===t.Weather.tag?new xs(2,"Rain"):2===t.Weather.tag?new xs(3,"Normal"):3===t.Weather.tag?new xs(1,"Snow"):new xs(0,"Fog"),new Bs(t.SomeValue,t.Dragger,t.WorldMapSize,t.WorldMap,t.ActivePoint,t.HoverPoint,t.Players,t.Menu,m)),new Zt];default:return[t,new Zt]}}function Ml(e,t){return{Equals:(e,n)=>t(e,n),GetHashCode:t=>e(t)}}function Ll(){return Ml(Ce,Le)}const Ol=new Map([]),Fl=new Map([]),Dl=yi([],Ll()),Bl=yi([],Ll()),kl=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const _l=qt((function(e,t,n,r){this.PerRow=0|e,this.DefaultWidth=0|t,this.Height=0|n,this.Widths=r}),nn);new _l(25,20,22,new Int32Array([6,6,10,14,13,15,15,6,9,9,12,11,6,11,6,11,13,7,12,13,11,12,13,10,12,13,6,6,12,11,12,12,12,12,13,13,13,10,9,13,13,5,11,12,9,17,13,13,13,13,13,13,10,13,12,17,12,12,11,8,11,8,12,11,8,11,11,10,11,10,9,11,12,6,6,10,5,18,12,11,11,11,9,10,6,12,10,18,9,12,9,8,6,8,11])),new _l(7,65,65,new Int32Array([19,25,31,38,38,62,58,14,25,25,38,42,19,25,19,21,38,38,38,38,38,38,38,38,38,38,21,21,42,42,42,33,69,54,50,50,54,46,42,54,54,25,29,54,46,67,54,54,42,54,50,42,46,54,54,71,54,54,46,25,21,25,35,38,25,33,38,33,38,33,25,38,38,21,21,38,21,58,38,38,38,38,25,29,21,38,38,54,38,38,33,36,15,36,41]));const zl=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);const Il=qt((function(e,t,...n){Kt.call(this,e,t,...n)}),Kt);qt((function(){}));function Ul(e,t,n){return function(r){let i;const o=os(fs((i=Hl(r,0,0))[1])-fs(i[0]),ds(i[1])-ds(i[0]));let u,s;const l=new zl(0,"Left");switch((s=Xn(t,l)).tag){case 1:u=~~((us(e)-us(o))/2);break;case 2:u=us(e)-us(o);break;default:u=0}let c,a;const f=new Il(0,"Top");switch((a=Xn(n,f)).tag){case 1:c=~~((ss(e)-ss(o))/2);break;case 2:c=ss(e)-ss(o);break;default:c=0}return jl(u,c)(r)}}function Nl(e){let t;const n=ge(Ol,e,null);if(null!=(t=n[0]?jn(n[1]):null)){return t}{const t=ps(e,!1);return Ye(Ol,e,t),t}}function Vl(e,t,n,r,i,o,u,s){var l,c;let a,f;if(a=Xn(e,0),f=Xn(t,0),null!=s){const e=s,t=new ys(as(a+fs(e.RenderOffset),f+ds(e.RenderOffset)),os(0|Xn(r,0|us(e.SliceSize)),0|Xn(i,0|ss(e.SliceSize))),Nl(e.TextureName),e.SliceSize,e.SlicePosition,null!=e.HeightMap?(l=e.HeightMap,new vs(Nl(l.TextureName),l.SliceSize,l.SlicePosition)):null,(d=function(e){switch(e.tag){case 3:return new As(0,"Leaf");case 1:return new As(1,"Shadow",e.fields[0],e.fields[1]);default:return null}},h=e.Options,null!=(c=function(e){e:for(;;){const t=e;if(t>=h.length)return null;{const n=d(h[t]);if(null==n){e=t+1;continue e}return n}}}(0))?c:null));return new Ps(0,"Sprite",t)}{let e,t,s;e=Xn(r,32),t=Xn(i,32),s=Xn(n,"");const l=new ys(as(a,f),os(e,t),Nl(s),Gn(o,(function(){return os(e,t)})),Gn(u,(function(){return as(0,0)})),null,null);return new Ps(0,"Sprite",l)}var d,h}function Hl(e,t,n){let r=as(0,0),i=as(0,0);return du((function(e){var o,u,s,l,c,a,f,d,h,w,p,g;e:for(;;){const v=e;switch(v.tag){case 1:r=as((o=0|fs(r),_e(Fe,0|fs(v.fields[0].ActiveArea[0])+t,o)),(u=0|ds(r),_e(Fe,0|ds(v.fields[0].ActiveArea[0])+n,u))),i=as((s=0|fs(i),ze(Fe,0|fs(v.fields[0].ActiveArea[1])+t,s)),(l=0|ds(i),ze(Fe,0|ds(v.fields[0].ActiveArea[1])+n,l)));break;case 2:e=v.fields[0].Last;continue e;case 3:r=as((c=0|fs(r),_e(Fe,0|fs(v.fields[0].ActiveArea[0])+t,c)),(a=0|ds(r),_e(Fe,0|ds(v.fields[0].ActiveArea[0])+n,a))),i=as((f=0|fs(i),ze(Fe,0|fs(v.fields[0].ActiveArea[1])+t,f)),(d=0|ds(i),ze(Fe,0|ds(v.fields[0].ActiveArea[1])+n,d)));break;case 4:case 5:e=v.fields[0].Last;continue e;case 7:e=v.fields[0].Child;continue e;case 6:break;default:r=as((h=0|fs(r),_e(Fe,fs(v.fields[0].Position)+t|0,h)),(w=0|ds(r),_e(Fe,ds(v.fields[0].Position)+n|0,w))),i=as((p=0|fs(i),ze(Fe,fs(v.fields[0].Position)+us(v.fields[0].Size)+t|0,p)),(g=0|ds(i),ze(Fe,ds(v.fields[0].Position)+ss(v.fields[0].Size)+n|0,g)))}break}}),e),[r,i]}function jl(e,t,n,r,i,o,u,s,l){return function(c){let a,f,d,h,w;var p,g;switch(a=vu((function(e){return 6!==e.tag}),c),f=Xn(e,0),d=Xn(t,0),h=Xn(r,1),w=Hl(a,f,d),null==a.tail?p=1:1===a.head.tag?null==a.tail.tail?(p=0,g=a.head.fields[0]):p=2:p=6===a.head.tag&&null==a.tail.tail?1:2,p){case 0:{let e,t;const r=as(f,d);let c,a,h;if(t=as(fs(r)+fs(g.Position),ds(r)+ds(g.Position)),null!=g.Shader){c=g.Shader}else c=n;if(null!=g.Enter){a=g.Enter}else a=i;if(null!=g.Leave){h=g.Leave}else h=o;return e=new Ss(t,g.Children,c,g.Scale,[w[0],w[1]],a,null!=g.Clicked?g.Clicked:u,null!=g.Dragging?g.Dragging:s,null!=g.Blur?g.Blur:l,h),new Ps(1,"Relative",e)}case 1:return new Ps(6,"Empty");case 2:{let e;const t=as(f,d),r=uo(a,Array);return e=new Ss(t,r,n,h,[w[0],w[1]],i,u,s,l,o),new Ps(1,"Relative",e)}}}}function Wl(e){return new Ps(2,"Dynamic",new Es(e,e(et())))}function Xl(e,t,n){return function(r){let i;const o=new ms(0,"Default");let u,s;return i=Xn(n,o),s=uo(r,Array),u=new bs(os(e,t),s,i,[as(0,0),as(e,t)]),new Ps(3,"SubRender",u)}}function Gl(e,t){return function(n){return r=function(){let r,i;const o=ge(Fl,e,null);if(null!=(i=o[0]?jn(o[1]):null))r=i;else{let n;n=t(),Fl.set(e,n),r=n}return new Ps(4,"Stateful",new Ts(e,n(r)))},new Ps(5,"NoCache",new Cs(r,!0,r()));var r}}function Yl(e){return function(t){const n=ge(Dl,e,null);if(n[0])return n[1];{const n=t(new kl(0,"DoNotUseModelInsideDependsOn"),e);return r=e,i=n,Dl.size>5e4&&Dl.clear(),Dl.set(r,i),n}var r,i}}const ql=Ie(os(0,0)),$l=Ie(os(0,0)),Jl=Ie(null);function Zl(e,t,n,r){const i=[];let o;if(function t(r,o,u,s){e:for(;;){const l=r,c=o,a=u,f=s;switch(f.tag){case 1:{let r;const i=as(fs(f.fields[0].ActiveArea[0])*a,ds(f.fields[0].ActiveArea[0])*a);let o;r=as(fs(i)+fs(c),ds(i)+ds(c));const u=as(fs(f.fields[0].ActiveArea[1])*a,ds(f.fields[0].ActiveArea[1])*a);if(o=as(fs(u)+fs(c),ds(u)+ds(c)),fs(e)>=fs(r)&&ds(e)>=ds(r)&&fs(e)<fs(o)&&ds(e)<ds(o)){let e;const r=as(fs(f.fields[0].Position)*a,ds(f.fields[0].Position)*a);let i;e=as(fs(r)+fs(c),ds(r)+ds(c));const o=n(f.fields[0]);if(null!=o){i=au(new Zt([Wn(o),f.fields[0]],new Zt),l)}else i=l;const u=Xe(1,t,[i,e,a]);f.fields[0].Children.forEach(u)}break}case 3:{const n=os(us(f.fields[0].Size)*a,ss(f.fields[0].Size)*a);if(fs(e)>=fs(c)&&ds(e)>=ds(c)&&fs(e)<fs(c)+us(n)&&ds(e)<ds(c)+ss(n)){const e=Xe(1,t,[l,c,a]);f.fields[0].Children.forEach(e)}break}case 2:case 4:case 5:r=l,o=c,u=a,s=f.fields[0].Last;continue e;case 6:break;case 7:r=l,o=c,u=a,s=f.fields[0].Child;continue e;default:if(cu(l)>0){let t;const n=as(fs(f.fields[0].Position)*a,ds(f.fields[0].Position)*a);t=as(fs(n)+fs(c),ds(n)+ds(c));const r=os(us(f.fields[0].Size)*a,ss(f.fields[0].Size)*a);fs(e)>=fs(t)&&ds(e)>=ds(t)&&fs(e)<fs(t)+us(r)&&ds(e)<ds(t)+ss(r)&&i.splice(0,0,l)}}break}}(new Zt,as(0,0),t,r),null!=(o=ar(i))){return ar(o)}return null}function Kl(e,t){var n,r;const i=function(e,t,n,r,i,o){const u=n-i|0,s=r-o|0,l=0|~~(u/e.Scale),c=0|(u>=0?n-u%e.Scale:n+(0-u)%e.Scale),a=0|~~(s/e.Scale),f=0|(s>=0?r-s%e.Scale:r+(0-s)%e.Scale);t([l,a]);const d=new qn(2,"Choice3Of3",[c,f]);return new _s(e.Scale,e.Resolution,e.Content,d,e.DragItem,e.ClickItem,e.HoverItem,e.BlurItem)},o=function(e,t){var n,r,i;switch(null==e?n=null==t?1:2:null!=t?(n=0,r=Wn(e),i=Wn(t)):n=2,n){case 0:return r===i;case 1:return!0;case 2:return!1}};switch(t.tag){case 1:var u,s,l,c;switch(null!=e.DragItem&&null!=e.DragItem.Dragging&&1===e.MouseItem.tag?(e.DragItem.Dragging,Math.abs(e.MouseItem.fields[0][0]-t.fields[0])>2||Math.abs(e.MouseItem.fields[0][1]-t.fields[1])>2||t.fields[2]?(u=0,s=e.DragItem.Dragging,l=e.MouseItem.fields[0][0],c=e.MouseItem.fields[0][1]):u=1):u=1,u){case 0:return[i(e,s,t.fields[0],t.fields[1],l,c),new Zt];case 1:var a,f,d,h;switch(null!=e.DragItem&&null!=e.DragItem.Dragging&&2===e.MouseItem.tag?(a=0,f=e.DragItem.Dragging,d=e.MouseItem.fields[0][0],h=e.MouseItem.fields[0][1]):a=1,a){case 0:return[i(e,f,t.fields[0],t.fields[1],d,h),new Zt];case 1:{let n,r;if(n=Yn((function(e){return e[1]}),r=Zl(as(t.fields[0],t.fields[1]),e.Scale,(function(e){return e.Enter}),e.Content)),o(e.HoverItem,n))return[e,new Zt];var w,p,g,v;switch(null!=e.HoverItem&&null!=e.HoverItem.Leave?(w=0,p=e.HoverItem.Leave):w=1,w){case 0:p()}switch(null!=n&&null!=n.Enter?(g=0,v=n.Enter):g=1,g){case 0:v()}return[new _s(e.Scale,e.Resolution,e.Content,e.MouseItem,e.DragItem,e.ClickItem,n,e.BlurItem),new Zt]}}}case 2:var x,m,A,y;if(!o(e.ClickItem,e.BlurItem))switch(null!=e.ClickItem&&null!=e.ClickItem.Blur?(x=0,m=e.ClickItem.Blur):x=1,x){case 0:m()}switch(null!=e.ClickItem&&null!=e.ClickItem.Clicked&&1===e.MouseItem.tag?(A=0,y=e.ClickItem.Clicked):A=1,A){case 0:y()}return[(null,n=new qn(0,"Choice1Of3",null),new _s(e.Scale,e.Resolution,e.Content,n,e.DragItem,e.ClickItem,e.HoverItem,null)),new Zt];case 3:{const n=os(t.fields[0],t.fields[1]);let r;return r=(0|ze(Fe,t.fields[0],t.fields[1]))>1e3?2:1,ql(n),$l(os(~~(us(n)/r),~~(ss(n)/r))),Dl.clear(),[new _s(r,n,e.Content,e.MouseItem,e.DragItem,e.ClickItem,e.HoverItem,e.BlurItem),new Zt(new zs(4,"Redraw"),new Zt)]}case 4:case 5:case 6:return[e,new Zt];default:{const n=as(t.fields[0],t.fields[1]);let i,o,u,s;return i=Yn((function(e){return e[1]}),o=Zl(n,e.Scale,(function(e){return e.Dragging}),e.Content)),u=Yn((function(e){return e[1]}),s=Zl(n,e.Scale,(function(e){return e.Clicked}),e.Content)),[(r=new qn(1,"Choice2Of3",[t.fields[0],t.fields[1]]),new _s(e.Scale,e.Resolution,e.Content,r,i,u,e.HoverItem,e.ClickItem)),new Zt]}}}const Ql=qt((function(e,t,n,r){this.Texture=e,this.TextureSize=t,this.TextureSlicePosition=n,this.TextureSliceSize=r}),nn);const ec=qt((function(e,t,n){this.Size=e,this.GroupTexture=t,this.HeightMapTexture=n}),nn);function tc(e){return jl()(lu(ir((function(){return wr((function(e){return Vl(null,null,null,null,null,null,null,e)}),e.Frames[0].Layers)}))))}const nc=qt((function(e,t,n,r){this.Start=e,this.Sprite=t,this.Slot=0|n,this.Result=r}),nn);const rc=new xe((function(){let e;return mi(e=Qi((function(e){var t,n;return[e,El()((t="'"===e?"Apostrophe":"("===e?"Open Parenthesis":")"===e?"Close Parenthesis":"-"===e?"Minus":e,n=Ut(zt("Menu Font - %s")),n(t)))]}),"ABCDEFGHIJKLMNOPQRSTUVWXYZ-'()".split(""),Array),{Compare:Fe})}));function ic(e,t){return Yl([e,t])((function(e,t){const n=function(e){return wi(e,rc.Value)};let r,i,o=0,u=0;r=Qi((function(e){return Gt(e,[" "],null,0)}),i=Gt(t[1].toUpperCase(),["\r\n"],null,0),Array);const s=[];s.push([]);for(let e=0;e<=r.length-1;e++){const i=r[e];for(let e=0;e<=i.length-1;e++){const r=i[e],l=r.length-1+oo((function(e){return 0|us(n(e).Size)}),r.split(""),{GetZero:()=>0,Add:(e,t)=>e+t})|0;o+l>t[0]&&(u+=10,o=0,s.push([])),dr((function(e){if(" "===e)o+=4;else{const t=n(e),r=0|us(t.Size),i=0|o;o=o+r+1,s[s.length-1].push(Vl(i,null,null,null,null,null,null,t.Frames[0].Layers[0]))}}),(r+" ").split(""))}}let l;return l=pr((function(e,t){return jl(null,10*e)(lu(t))}),s),lu(l)}))}qt((function(e){this.Start=e}),nn);qt((function(e,t){this.Value=e,this.Active=t}),nn);const oc=qt((function(e,t,n,r,i,o){this.Point=e,this.Start=t,this.End=n,this.SpriteResource=r,this.Slot=0|i,this.Result=o}),nn);function uc(e){return e.filter((function(e){if(0===e.Options.length)return!0;{let t;return!(t=e.Options.some((function(e){return 1===e.tag})))}}))}function sc(e,t,n){var r,i,o;let u,s;var l;if(null!=(s=null!=(l=n.Actions).tail?jn(l.head):null)){const e=s,t=1===e.tag?[e.fields[0].Point,e.fields[0].Start,e.fields[0].End,e.fields[0].Direction,"Idle"]:[e.fields[0].Point,e.fields[0].Start,e.fields[0].End,e.fields[0].Direction,"Walk"];u=[t[0],t[1],t[2],(r=1===t[3].tag?"South":2===t[3].tag?"East":3===t[3].tag?"West":"North",i=Ut(zt("Player - %s - %s")),o=i(r),o(t[4]))]}else u=null;if(null!=u){const n=u[1],r=u[3],i=u[0],o=u[2];return Gl(e,(function(){return new oc(i,n,o,El()(r),-1,new Ps(6,"Empty"))}))((function(e){return Wl((function(u){Me(e.Point,i)&&nt(e.Start,n)&&nt(e.End,o)&&e.SpriteResource.Name===r||(e.Point=i,e.Start=n,e.End=o,e.SpriteResource=El()(r),e.Slot=-1);const s=0|e.SpriteResource.Frames.length;let l;let c,a,f,d;l=it(e.End,e.Start);const h=it(u,e.Start)/l*s;if(c=ze(Fe,0,a=_e(Fe,s-1|0,f=~~(d=Math.floor(h)))),e.Slot!==c){let n;if(t){const t=e.SpriteResource.Frames[c].Layers;n=t.filter((function(e){return e.Options.some((function(e){return 1===e.tag}))}))}else{const t=e.SpriteResource.Frames[c].Layers;n=uc(t)}e.Result=jl()(lu(ir((function(){return wr((function(e){return Vl(null,null,null,null,null,null,null,e)}),n)}))))}return e.Result}))}))}return new Ps(6,"Empty")}function lc(e,t){const n=lu(ir((function(){return wr((function(e){return El()(e)}),e.Items)})));return jl(64*e.Position[0],64*e.Position[1])(new Zt(jl(-128,-128)(hu([Xl(320,256,new ms(4,"Color",1,1,1,.1*t))(new Zt(jl(128,128)(lu(ir((function(){return rr((function(e){return rr((function(e){return 0!==e.Options.length&&to(new Us(0,"NoHighlight"),e.Options,{Equals:Le,GetHashCode:Ce})?or():Ar(Vl(null,null,null,null,null,null,null,e))}),e.Frames[0].Layers)}),n)})))),new Zt)),Xl(320,256,new ms(7,"OutlineColor",1,1,1,.4*t))(new Zt(jl(128,128)(lu(ir((function(){return rr((function(e){return rr((function(e){return 0!==e.Options.length&&to(new Us(0,"NoHighlight"),e.Options,{Equals:Le,GetHashCode:Ce})?or():Ar(Vl(null,null,null,null,null,null,null,e))}),e.Frames[0].Layers)}),n)})))),new Zt))])),new Zt))}function cc(e){return jl(e.Dragger[0],e.Dragger[1],null,null,null,null,null,(function(e){let t;bl(t=new ks(1,"Drag",e[0],e[1]))}))(hu([Yl([e.WorldMapSize,e.WorldMap,e.Players,e.Weather])((function(e,t){const n=no(t[0][1],(function(e){return no(t[0][0],(function(e){return[]}),Array)}),Array);gi((function(e,t){n[e[1]][e[0]].push(new qn(0,"Choice1Of2",t.Items))}),t[1]);const r=[];return gi((function(e,t){const i=null!=t.Actions.tail?(t.Actions.head.tag,t.Actions.head.fields[0].Point):null;if(null!=i){const e=0|i[1],o=0|i[0];n[e][o].push(new qn(1,"Choice2Of2",t)),"Player1"===t.Id&&r.push([[o,e],t])}}),t[2]),jl()(lu(ir((function(){return tr(Ar(jl(null,null,new ms(2,"World"))(lu(ir((function(){return tr(Ar(Yl(n)((function(e,t){return jl(null,null,new ms(1,"HeightMap"))(lu(ir((function(){return rr((function(e){const n=t[e];return rr((function(t){let r,i;const o=n[t];var u,s;return u=function(e){return 0===e.tag?e.fields[0]:null},s=o,i=ir(()=>Sr(e=>{let t=e.next();for(;!t.done;){const n=u(t.value);if(null!=n)return[Wn(n),e];t=e.next()}return null},s[Symbol.iterator]())),r=lu(i),Ar(jl(64*t,64*e,null,null,(function(){bl(new ks(2,"Hover",t,e))}),(function(){bl(new ks(3,"Leave",t,e))}),(function(){bl(new ks(4,"Select",t,e))}))(new Zt(jl()(lu(ir((function(){return rr((function(e){return rr((function(e){let t;return wr((function(e){return Vl(null,null,null,null,null,null,null,e)}),t=function(e){let t;return(t=uc(e)).filter((function(e){return e.Options.some((function(e){return 2===e.tag}))}))}(El()(e).Frames[0].Layers))}),e)}),r)})))),new Zt)))}),vr(0,1,n.length-1))}),vr(0,1,t.length-1))}))))}))),ir((function(){return tr(wr((function(e){return Yl([e,n[e]])((function(e,t){return jl(null,null,new ms(1,"HeightMap"))(lu(ir((function(){return rr((function(e){return rr((function(n){return 1===n.tag?Ar(jl(64*e,64*t[0])(new Zt(sc(Ut(zt("%s - Normal"))(n.fields[0].Id),!1,n.fields[0]),new Zt))):Ar(jl(64*e,64*t[0],null,null,(function(){bl(new ks(2,"Hover",e,t[0]))}),(function(){bl(new ks(3,"Leave",e,t[0]))}),(function(){bl(new ks(4,"Select",e,t[0]))}))(lu(ir((function(){return rr((function(e){let t;return wr((function(e){return Vl(null,null,null,null,null,null,null,e)}),t=function(e){let t;return(t=uc(e)).filter((function(e){if(0===e.Options.length)return!0;{let t;return!(t=e.Options.some((function(e){return 2===e.tag})))}}))}(El()(e).Frames[0].Layers))}),n.fields[0])})))))}),t[1][e])}),vr(0,1,t[1].length-1))}))))}))}),vr(0,1,n.length-1)),ir((function(){switch(1===t[3].tag?0:0===t[3].tag?0:1){case 0:return or();case 1:return Ar(Xl(us($l()),ss(ql()))(lu(ir((function(){return wr((function(e){return Yl([e,n[e],"Shadow"])((function(e,t){return jl(null,null,new ms(10,"Shadow"))(lu(ir((function(){return rr((function(e){return rr((function(n){return 1===n.tag?Ar(jl(64*e,64*t[0])(new Zt(sc(Ut(zt("%s - Shadow"))(n.fields[0].Id),!0,n.fields[0]),new Zt))):or()}),t[1][e])}),vr(0,1,t[1].length-1))}))))}))}),vr(0,1,n.length-1))})))))}})))})))}))))),ir((function(){return rr((function(e){return Ar(jl(64*e[0][0],64*e[0][1])(new Zt(jl(-64,-128)(new Zt(Xl(192,256,new ms(6,"Outline",.25))(new Zt(jl(64,128)(new Zt(sc(Ut(zt("%s - Normal"))(e[1].Id),!1,e[1]),new Zt)),new Zt)),new Zt)),new Zt)))}),r)})))}))))})),Yl([e.WorldMap,e.ActivePoint,e.HoverPoint])((function(e,t){return jl()(lu(ir((function(){var e,n;return tr(null!=t[1]?(e=0|t[1][1],null!=(n=pi([0|t[1][0],e],t[0]))?Ar(Yl(n)((function(e,t){return lc(t,1)}))):or()):or(),ir((function(){if(Le(t[1],t[2]))return or();if(null!=t[2]){const e=0|t[2][1];let n;if(null!=(n=pi([0|t[2][0],e],t[0]))){return Ar(Yl(n)((function(e,t){return lc(t,.5)})))}return or()}return or()})))}))))}))]))}const ac=[.5,.5,.5,1];function fc(e){return Yl("hud")((function(e,t){return jl()(new Zt(jl(null,null,null,null,null,null,(function(){bl(new ks(10,"ChangeWeather"))}))(lu(ir((function(){const e=ic(100,"Change Weather");let t,n;var r,i;return n=Hl(e,0,0),r=n[0],t=os(fs(i=n[1])-fs(r),ds(i)-ds(r)+6),tr(Ar(jl(null,null,new ms(5,"BlockColor",ac))(new Zt(Vl(null,null,null,us(t)+10,ss(t)+5),new Zt))),ir((function(){return Ar(jl(5,5)(lu(ir((function(){return e})))))})))})))),new Zt))}))}function dc(e){return jl()(lu(ir((function(){return tr(Ar(cc(e)),ir((function(){return tr(1===e.Weather.tag?Ar(jl(null,null,new ms(8,"Snow"))(new Zt(Vl(0,0,null,us($l()),ss($l())),new Zt))):2===e.Weather.tag?Ar(jl(null,null,new ms(9,"Rain"))(new Zt(Vl(0,0,null,us($l()),ss($l())),new Zt))):or(),ir((function(){return tr(Ar(Yl([(t=e).Dragger,t.ActivePoint,t.Menu])((function(e,t){return jl()(lu(ir((function(){switch(t[2].Visible&&null!=t[1]?0:1){case 0:{const e=0|t[1][1],n=0|t[1][0],r=Yl("Menu Sprites")((function(e,t){return[El()("Menu - Empty"),El()("Menu - Top"),El()("Menu - Bottom"),El()("Menu - Book")]}));let i,o;o=_e(Fe,5,0|~~(ss($l())/ss(r[0].Size))),i=ze(Fe,3,o);const u=ss(r[0].Size)*(i-1)+ss(r[1].Size)+ss(r[2].Size)|0,s=os(us(r[1].Size)+us(r[3].Size)+10,u),l=64*n+t[0][0]-us(s)-10|0,c=l>=0;let a,f,d,h;return f=ze(Fe,5,0|(c?l:64*n+t[0][0]+64+10)),a=_e(Fe,us($l())-us(r[0].Size)-5|0,f),h=ze(Fe,5,64*e+t[0][1]-(~~(u/2)-32)|0),Ar(jl(a,d=_e(Fe,ss($l())-u-5|0,h))(hu([Ul(s,c?new zl(0,"Left"):new zl(2,"Right"),new Il(1,"Middle"))(new Zt(Yl("Menu Extra Icons")((function(e,t){return jl()(lu(ir((function(){const e=El()("Menu - Build"),t=El()("Menu - Grow");let n,i;const o=os(us(r[3].Size)+us(e.Size),ss(r[3].Size)+ss(e.Size));let u;i=os(us(o)+us(t.Size),ss(o)+ss(t.Size));const s=os(0,4);return u=os(2*us(s),2*ss(s)),n=os(us(i)+us(u),ss(i)+ss(u)),Ar(jl(null,null,null,null,(function(){}),null,(function(){}))(hu([Ul(n,new zl(0,"Left"),new Il(0,"Top"))(new Zt(tc(r[3]),new Zt)),Ul(n,new zl(0,"Left"),new Il(1,"Middle"))(new Zt(tc(e),new Zt)),Ul(n,new zl(0,"Left"),new Il(2,"Bottom"))(new Zt(tc(t),new Zt))])))}))))})),new Zt)),jl(null,null,null,null,null,null,null,(function(e){bl(new ks(7,"MenuDrag",e[1]))}))(new Zt(Ul(s,c?new zl(2,"Right"):new zl(0,"Left"))(lu(ir((function(){const e=os(us(r[1].Size),u);return tr(Ar(Yl("Menu Background")((function(t,n){return jl(null,null,null,null,null,null,(function(){}))(hu([Ul(e,new zl(1,"Center"))(new Zt(tc(r[1]),new Zt)),Ul(e,new zl(1,"Center"),new Il(1,"Middle"))(lu(ir((function(){const e=tc(r[0]);return wr((function(t){return jl(null,t*ss(r[0].Size))(new Zt(e,new Zt))}),vr(0,1,i-2))})))),Ul(e,new zl(1,"Center"),new Il(2,"Bottom"))(new Zt(tc(r[2]),new Zt))]))}))),ir((function(){const n=El()("Menu - Item"),i=tc(n);return Ar(Yl(t[2])((function(t,o){return Ul(e,new zl(1,"Center"),new Il(1,"Middle"))(new Zt(Xl(us(n.Size),u-ss(r[1].Size)-ss(r[2].Size))(new Zt(jl(null,o.Offset)(new Zt(Yl([o.Items,o.Selected,o.Hover])((function(e,t){return jl()(lu(ir((function(){return tr(rr((function(e){let r;if(r=gu(e,t[0]),Le(e,t[1]))return or();if(null!=r){const o=r;return Ar(jl(null,e*ss(n.Size),null,null,(function(){bl(new ks(9,"MenuHover",e))}),(function(){bl(new ks(9,"MenuHover",null))}),(function(){bl(new ks(8,"MenuSelectChange",e))}))(lu(ir((function(){return tr(Le(e,t[2])?Ar(tc(El()("Menu - Hover"))):Ar(i),ir((function(){return Ar(Ul(n.Size,new zl(1,"Center"),new Il(1,"Middle"))(new Zt(tc(El()(Ut(zt("Menu Icons - %s - Idle"))(o))),new Zt)))})))})))))}return or()}),vr(0,1,cu(t[0])-1)),ir((function(){var e,r,i,o,u,s;if(null!=t[1]){const l=0|t[1];let c;if(null!=(c=gu(l,t[0]))){const t=c;return Ar(jl(null,l*ss(n.Size))(hu([jl(null,null,null,null,(function(){bl(new ks(9,"MenuHover",l))}),null,(function(){bl(new ks(8,"MenuSelectChange",l))}))(hu([(e=El()("Menu - Active"),tc(e)),Ul(n.Size,new zl(1,"Center"),new Il(1,"Middle"))(new Zt((r=El()((i=Ut(zt("Menu Icons - %s - Active")),i(t))),u="Menu Icon Active",s=r,Gl(u,(function(){return new nc(et(),s,-1,null)}))((function(e){return Wl((function(t){let n,r,i;if(e.Sprite.Name!==s.Name&&(e.Start=t,e.Sprite=s,e.Slot=-1,e.Result=null),r=ze(Fe,0,i=~~(it(t,e.Start)/750%e.Sprite.Frames.length)),(n=_e(Fe,e.Sprite.Frames.length-1|0,r))!==e.Slot||null==e.Result){e.Slot=n;const t=jl()(lu(ir((function(){return wr((function(e){return Vl(null,null,null,null,null,null,null,e)}),e.Sprite.Frames[e.Slot].Layers)}))));e.Result=t}return e.Result}))}))),new Zt))])),jl(0,73)(new Zt((o=t,Yl(o)((function(e,t){return jl()(lu(ir((function(){const e=El()("Menu - Name Top"),n=El()("Menu - Name Middle"),r=El()("Menu - Name Bottom"),i=ic(us(n.Size)-20,t);let o,u;u=Hl(i,0,0),o=os(fs(u[1])-fs(u[0]),ds(u[1])-ds(u[0])+6);const s=os(us(e.Size),ss(e.Size)+ss(o)+ss(r.Size));return tr(Ar(Ul(s,null,new Il(0,"Top"))(new Zt(tc(e),new Zt))),ir((function(){return tr(Ar(Ul(s,null,new Il(2,"Bottom"))(new Zt(tc(r),new Zt))),ir((function(){return tr(Ar(Ul(s,new zl(1,"Center"),new Il(1,"Middle"))(lu(ir((function(){return wr((function(e){return Vl(null,null,null,null,ss(o),null,null,e)}),n.Frames[0].Layers)}))))),ir((function(){return Ar(jl(null,null,new ms(4,"Color",66/255,50/255,34/255,1))(new Zt(Ul(s,new zl(0,"Left"),new Il(1,"Middle"))(lu(ir((function(){return wr((function(e){return Ul(s,new zl(1,"Center"))(new Zt(e,new Zt))}),i)})))),new Zt)))})))})))})))}))))}))),new Zt))])))}return or()}return or()})))}))))})),new Zt)),new Zt)),new Zt))})))})))})))),new Zt))])))}case 1:return or()}}))))}))),ir((function(){return Ar(fc())})));var t})))})))}))))}function hc(e){let t;var n,r;return r=function(){var t;return Tr((t=Ut(zt("data/%s")),t(e)),new Zt).then((function(e){return e.text().then((function(e){const t=function(e,t){const n=Mu(e,t);if(1===n.tag)throw new Error(n.fields[0]);return n.fields[0]}(We(2,function(e,t,n){const r=n.ResolveType(),i=Xn(e,new Cr(0,"PascalCase"));let o,u;const s=Tn(r);let l,c;return u=String(i)+s,l=Xn(c=Yn((function(e){return e.Hash}),t),""),Lr(Or,o=l+u,(function(){return ts(ns(t),i,!1,r)}))}(new Cr(1,"CamelCase"),Zs,{ResolveType:()=>xn(Ws())})),e);return Promise.resolve(xi(fu((function(e){return[e.Name,e]}),t),{Compare:Fe}))}))}))},n={then(e,t){try{return r().then(e,t)}catch(e){if(Le(t,null))return Promise.reject(e);try{return Promise.resolve(t(e))}catch(e){return Promise.reject(e)}}},catch(e){try{return r().catch(e)}catch(t){try{return Promise.resolve(e(t))}catch(e){return Promise.reject(e)}}}},ul(t=new Promise((function(e,t){try{let r;(r=Promise.resolve(n)).then(e,t)}catch(e){t(e)}})))}const wc=document.getElementById("App"),pc=document.createElement("canvas");wc.appendChild(pc);const gc=pc.getContext("webgl2");function vc(e){const t=e.data;switch(t.tag){case 2:return[t.fields[0][0],t.fields[0][1]];case 0:if(""===gs(e))return e.data=new qn(3,"Choice4Of4",null),null;{e.data=new qn(1,"Choice2Of4",null);const t=document.createElement("img");return t.onload=function(n){const r=os(0|~~t.width,0|~~t.height),i=function(e,t,n){const r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),pl(~~n.width)&&pl(~~n.height)?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),e?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST)),r}(e.smooth,gc,t);var o,u;o=i,u=r,e.data=new qn(2,"Choice3Of4",[o,u])},t.src="data/"+gs(e),null}default:return null}}const xc=[],mc=Ie(Ze()),Ac=[];Sl((function(e){Ac.push(e)}));const yc=Ie((()=>{const e=Pl();return du(bl,e[1]),e[0]})()),Sc=Ie(new _s(1,os(0,0),new Ps(6,"Empty"),new qn(0,"Choice1Of3",null),null,null,null,null)),bc=Ie(!0),Tc=function(e,t){var n,r,i,o,u,s,l,c,a,f,d,h,w,p,g,v,x,m,A,y,S,b,T,E,C,P,R,M,L,O,F,D,B,k,_,z,I,U,N,V,H,j,W,X,G,Y,q,$,J,Z,K,Q,ee,te,ne,re,ie,oe,ue,se,le,ce,ae,fe,de,he,we,pe,me,Ae,ye,Se,be,Te,Ee,Pe,Re,Oe,Fe,De,Be,ke,_e,ze,Ie,Ue,Ne,Ve,je,We,Xe,Ge,qe,$e,Je,Ze,Ke,Qe,tt,nt,rt,ot,ut,st,lt,ct,at,ft,dt,ht,wt,pt,gt,vt,xt,mt,At,yt,St,bt,Tt,Et,Ct,Pt,Rt,Mt,Lt,Ot,Ft,Dt,Bt,kt,_t,Ut;let Nt;const Vt=al(e);var Ht;let jt;dl(e,Vt,(Ht=ir((function(){const e=function(e,t){return Math.random()*(t-e)+e};return wr((function(t){return[e(0,1),e(0,1),e(0,1),e(0,1)]}),vr(0,1,999))})),Array.from(Ht))),Nt=Vt;const Wt=Math.fround(-1),Xt=Math.fround(1),Gt=Math.fround(-1),Yt=Math.fround(1),qt=al(e);let $t;fl(e,qt,[[Wt,Gt],[Xt,Gt],[Xt,Yt],[Wt,Gt],[Xt,Yt],[Wt,Yt]]),jt=qt;const Jt=Math.fround(0),Zt=Math.fround(1),Kt=Math.fround(0),Qt=Math.fround(1),en=al(e);fl(e,en,[[Jt,Kt],[Zt,Kt],[Zt,Qt],[Jt,Kt],[Zt,Qt],[Jt,Qt]]),$t=en;const tn=(n=e.createShader(e.VERTEX_SHADER),e.shaderSource(n,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n\r\n    uniform vec2 iResolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec4 vTextureSlicePosition;\r\n    out vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n    }"),e.compileShader(n),r=e.getShaderInfoLog(n),It(zt("vertexShader: %s"))(r),i=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(i,"#version 300 es\r\n\r\n    precision mediump float;\r\n\r\n    \r\n    uniform sampler2D colorTexture;\r\n    uniform vec2 colorTextureSize;\r\n\r\n    in vec2 vTextureCoord;\r\n    in vec2 vResolution;\r\n    in vec4 vTextureSlicePosition;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (vTextureSlicePosition.x + offset.x) / colorTextureSize.x;\r\n        float oy = (vTextureSlicePosition.y + offset.y) / colorTextureSize.y;\r\n\r\n        float px = (vTextureSlicePosition.z / colorTextureSize.x) * point.x;\r\n        float py = (vTextureSlicePosition.w / colorTextureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture(colorTexture, vec2(x, y));\r\n    }\r\n\r\n\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        diffuseColor = textureColor(vTextureCoord, vec2(0.0));\r\n    }\r\n"),e.compileShader(i),o=e.getShaderInfoLog(i),It(zt("fragmentShader: %s"))(o),u=e.createProgram(),e.attachShader(u,n),e.attachShader(u,i),e.linkProgram(u),s=e.getProgramInfoLog(u),It(zt("program: %s"))(s),l=Ki(new Array(10),0,10,null),(c=e.getAttribLocation(u,"vertexBuffer"))>-1&&e.enableVertexAttribArray(c),l[0]=c,(a=e.getAttribLocation(u,"textureCoord"))>-1&&e.enableVertexAttribArray(a),l[1]=a,(f=e.getAttribLocation(u,"position"))>-1&&e.enableVertexAttribArray(f),l[2]=f,(d=e.getAttribLocation(u,"textureSlicePosition"))>-1&&e.enableVertexAttribArray(d),l[3]=d,l[4]=e.getUniformLocation(u,"iResolution"),l[5]=e.getUniformLocation(u,"colorTexture"),l[6]=e.getUniformLocation(u,"colorTextureSize"),(h=e.getAttribLocation(u,"vTextureCoord"))>-1&&e.enableVertexAttribArray(h),l[7]=h,(w=e.getAttribLocation(u,"vResolution"))>-1&&e.enableVertexAttribArray(w),l[8]=w,(p=e.getAttribLocation(u,"vTextureSlicePosition"))>-1&&e.enableVertexAttribArray(p),l[9]=p,[u,l,e]),nn=(g=e.createShader(e.VERTEX_SHADER),e.shaderSource(g,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n\r\n    uniform vec2 iResolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec4 vTextureSlicePosition;\r\n    out vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n    }"),e.compileShader(g),v=e.getShaderInfoLog(g),It(zt("vertexShader: %s"))(v),x=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(x,"#version 300 es\r\n    precision mediump float;\r\n\r\n    \r\n    uniform sampler2D colorTexture;\r\n    uniform vec2 colorTextureSize;\r\n\r\n    in vec2 vTextureCoord;\r\n    in vec2 vResolution;\r\n    in vec4 vTextureSlicePosition;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (vTextureSlicePosition.x + offset.x) / colorTextureSize.x;\r\n        float oy = (vTextureSlicePosition.y + offset.y) / colorTextureSize.y;\r\n\r\n        float px = (vTextureSlicePosition.z / colorTextureSize.x) * point.x;\r\n        float py = (vTextureSlicePosition.w / colorTextureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture(colorTexture, vec2(x, y));\r\n    }\r\n\r\n\r\n    uniform vec4 color;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        vec4 foundColor = textureColor(vTextureCoord, vec2(0.0));\r\n        diffuseColor = vec4(color.r, color.g, color.b, color.a * foundColor.a);\r\n    }\r\n"),e.compileShader(x),m=e.getShaderInfoLog(x),It(zt("fragmentShader: %s"))(m),A=e.createProgram(),e.attachShader(A,g),e.attachShader(A,x),e.linkProgram(A),y=e.getProgramInfoLog(A),It(zt("program: %s"))(y),S=Ki(new Array(11),0,11,null),(b=e.getAttribLocation(A,"vertexBuffer"))>-1&&e.enableVertexAttribArray(b),S[0]=b,(T=e.getAttribLocation(A,"textureCoord"))>-1&&e.enableVertexAttribArray(T),S[1]=T,(E=e.getAttribLocation(A,"position"))>-1&&e.enableVertexAttribArray(E),S[2]=E,(C=e.getAttribLocation(A,"textureSlicePosition"))>-1&&e.enableVertexAttribArray(C),S[3]=C,S[4]=e.getUniformLocation(A,"iResolution"),S[5]=e.getUniformLocation(A,"colorTexture"),S[6]=e.getUniformLocation(A,"colorTextureSize"),(P=e.getAttribLocation(A,"vTextureCoord"))>-1&&e.enableVertexAttribArray(P),S[7]=P,(R=e.getAttribLocation(A,"vResolution"))>-1&&e.enableVertexAttribArray(R),S[8]=R,(M=e.getAttribLocation(A,"vTextureSlicePosition"))>-1&&e.enableVertexAttribArray(M),S[9]=M,S[10]=e.getUniformLocation(A,"color"),[A,S,e]),on=(L=e.createShader(e.VERTEX_SHADER),e.shaderSource(L,"#version 300 es\r\n\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n    in vec2 shadowInfo;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n\r\n    uniform vec2 iResolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec2 vResolution;\r\n    out float alpha;\r\n    out float amount;\r\n\r\n    out vec4 vTextureSlicePosition;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n        alpha = shadowInfo.x;\r\n        amount = shadowInfo.y;\r\n    }"),e.compileShader(L),O=e.getShaderInfoLog(L),It(zt("vertexShader: %s"))(O),F=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(F,"#version 300 es\r\n\r\n    precision mediump float;\r\n\r\n    \r\n    uniform sampler2D colorTexture;\r\n    uniform vec2 colorTextureSize;\r\n\r\n    in vec2 vTextureCoord;\r\n    in vec2 vResolution;\r\n    in vec4 vTextureSlicePosition;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (vTextureSlicePosition.x + offset.x) / colorTextureSize.x;\r\n        float oy = (vTextureSlicePosition.y + offset.y) / colorTextureSize.y;\r\n\r\n        float px = (vTextureSlicePosition.z / colorTextureSize.x) * point.x;\r\n        float py = (vTextureSlicePosition.w / colorTextureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture(colorTexture, vec2(x, y));\r\n    }\r\n\r\n\r\n    in float alpha;\r\n    in float amount;\r\n\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        vec4 found = textureColor(vTextureCoord, vec2(0.0));\r\n\r\n        float a = found.a;\r\n\r\n        float s = clamp(0.5 + (amount / 2.0), 0.0, 1.0);\r\n        float e = clamp(0.5 - (amount / 2.0), 0.0, 1.0);\r\n        float b;\r\n\r\n        if (a < e) { \r\n            b = 0.0;\r\n        } else {\r\n            b = smoothstep(e, s, a);\r\n        }\r\n    \r\n        diffuseColor = vec4(0.0, 0.0, 0.0, alpha * b);\r\n    }\r\n"),e.compileShader(F),D=e.getShaderInfoLog(F),It(zt("fragmentShader: %s"))(D),B=e.createProgram(),e.attachShader(B,L),e.attachShader(B,F),e.linkProgram(B),k=e.getProgramInfoLog(B),It(zt("program: %s"))(k),_=Ki(new Array(13),0,13,null),(z=e.getAttribLocation(B,"vertexBuffer"))>-1&&e.enableVertexAttribArray(z),_[0]=z,(I=e.getAttribLocation(B,"textureCoord"))>-1&&e.enableVertexAttribArray(I),_[1]=I,(U=e.getAttribLocation(B,"shadowInfo"))>-1&&e.enableVertexAttribArray(U),_[2]=U,(N=e.getAttribLocation(B,"position"))>-1&&e.enableVertexAttribArray(N),_[3]=N,(V=e.getAttribLocation(B,"textureSlicePosition"))>-1&&e.enableVertexAttribArray(V),_[4]=V,_[5]=e.getUniformLocation(B,"iResolution"),_[6]=e.getUniformLocation(B,"colorTexture"),_[7]=e.getUniformLocation(B,"colorTextureSize"),(H=e.getAttribLocation(B,"vTextureCoord"))>-1&&e.enableVertexAttribArray(H),_[8]=H,(j=e.getAttribLocation(B,"vResolution"))>-1&&e.enableVertexAttribArray(j),_[9]=j,(W=e.getAttribLocation(B,"vTextureSlicePosition"))>-1&&e.enableVertexAttribArray(W),_[10]=W,_[11]=e.getUniformLocation(B,"alpha"),_[12]=e.getUniformLocation(B,"amount"),[B,_,e]),un=(X=e.createShader(e.VERTEX_SHADER),e.shaderSource(X,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n\r\n    uniform vec2 iResolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec4 vTextureSlicePosition;\r\n    out vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n    }"),e.compileShader(X),G=e.getShaderInfoLog(X),It(zt("vertexShader: %s"))(G),Y=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(Y,"#version 300 es\r\n    precision mediump float;\r\n\r\n    uniform vec4 color;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        diffuseColor = color;\r\n    }\r\n"),e.compileShader(Y),q=e.getShaderInfoLog(Y),It(zt("fragmentShader: %s"))(q),$=e.createProgram(),e.attachShader($,X),e.attachShader($,Y),e.linkProgram($),J=e.getProgramInfoLog($),It(zt("program: %s"))(J),Z=Ki(new Array(6),0,6,null),(K=e.getAttribLocation($,"vertexBuffer"))>-1&&e.enableVertexAttribArray(K),Z[0]=K,(Q=e.getAttribLocation($,"textureCoord"))>-1&&e.enableVertexAttribArray(Q),Z[1]=Q,(ee=e.getAttribLocation($,"position"))>-1&&e.enableVertexAttribArray(ee),Z[2]=ee,(te=e.getAttribLocation($,"textureSlicePosition"))>-1&&e.enableVertexAttribArray(te),Z[3]=te,Z[4]=e.getUniformLocation($,"iResolution"),Z[5]=e.getUniformLocation($,"color"),[$,Z,e]),sn=(ne=e.createShader(e.VERTEX_SHADER),e.shaderSource(ne,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n\r\n    uniform vec2 iResolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec4 vTextureSlicePosition;\r\n    out vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n    }"),e.compileShader(ne),re=e.getShaderInfoLog(ne),It(zt("vertexShader: %s"))(re),ie=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(ie,"#version 300 es\r\n    precision mediump float;\r\n\r\n    \r\n    uniform sampler2D colorTexture;\r\n    uniform vec2 colorTextureSize;\r\n\r\n    in vec2 vTextureCoord;\r\n    in vec2 vResolution;\r\n    in vec4 vTextureSlicePosition;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (vTextureSlicePosition.x + offset.x) / colorTextureSize.x;\r\n        float oy = (vTextureSlicePosition.y + offset.y) / colorTextureSize.y;\r\n\r\n        float px = (vTextureSlicePosition.z / colorTextureSize.x) * point.x;\r\n        float py = (vTextureSlicePosition.w / colorTextureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture(colorTexture, vec2(x, y));\r\n    }\r\n\r\n\r\n    uniform float alpha;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        vec4 foundColor = textureColor(vTextureCoord, vec2(0.0));\r\n\r\n        if (foundColor.a > 0.0 &&\r\n            (textureColor(vTextureCoord, vec2(-1.0, 0.0)).a < 1.0 || textureColor(vTextureCoord, vec2(1.0, 0.0)).a < 1.0 ||\r\n             textureColor(vTextureCoord, vec2(0.0, -1.0)).a < 1.0 || textureColor(vTextureCoord, vec2(0.0, 1.0)).a < 1.0))\r\n        {\r\n            diffuseColor = vec4(foundColor.r, foundColor.b, foundColor.b, foundColor.a * alpha);\r\n        }\r\n        else \r\n        {\r\n            diffuseColor = vec4(0.0);\r\n        }\r\n    }\r\n"),e.compileShader(ie),oe=e.getShaderInfoLog(ie),It(zt("fragmentShader: %s"))(oe),ue=e.createProgram(),e.attachShader(ue,ne),e.attachShader(ue,ie),e.linkProgram(ue),se=e.getProgramInfoLog(ue),It(zt("program: %s"))(se),le=Ki(new Array(11),0,11,null),(ce=e.getAttribLocation(ue,"vertexBuffer"))>-1&&e.enableVertexAttribArray(ce),le[0]=ce,(ae=e.getAttribLocation(ue,"textureCoord"))>-1&&e.enableVertexAttribArray(ae),le[1]=ae,(fe=e.getAttribLocation(ue,"position"))>-1&&e.enableVertexAttribArray(fe),le[2]=fe,(de=e.getAttribLocation(ue,"textureSlicePosition"))>-1&&e.enableVertexAttribArray(de),le[3]=de,le[4]=e.getUniformLocation(ue,"iResolution"),le[5]=e.getUniformLocation(ue,"colorTexture"),le[6]=e.getUniformLocation(ue,"colorTextureSize"),(he=e.getAttribLocation(ue,"vTextureCoord"))>-1&&e.enableVertexAttribArray(he),le[7]=he,(we=e.getAttribLocation(ue,"vResolution"))>-1&&e.enableVertexAttribArray(we),le[8]=we,(pe=e.getAttribLocation(ue,"vTextureSlicePosition"))>-1&&e.enableVertexAttribArray(pe),le[9]=pe,le[10]=e.getUniformLocation(ue,"alpha"),[ue,le,e]),ln=(me=e.createShader(e.VERTEX_SHADER),e.shaderSource(me,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n\r\n    uniform vec2 iResolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec4 vTextureSlicePosition;\r\n    out vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n    }"),e.compileShader(me),Ae=e.getShaderInfoLog(me),It(zt("vertexShader: %s"))(Ae),ye=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(ye,"#version 300 es\r\n    precision mediump float;\r\n\r\n    \r\n    uniform sampler2D colorTexture;\r\n    uniform vec2 colorTextureSize;\r\n\r\n    in vec2 vTextureCoord;\r\n    in vec2 vResolution;\r\n    in vec4 vTextureSlicePosition;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (vTextureSlicePosition.x + offset.x) / colorTextureSize.x;\r\n        float oy = (vTextureSlicePosition.y + offset.y) / colorTextureSize.y;\r\n\r\n        float px = (vTextureSlicePosition.z / colorTextureSize.x) * point.x;\r\n        float py = (vTextureSlicePosition.w / colorTextureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture(colorTexture, vec2(x, y));\r\n    }\r\n\r\n\r\n    uniform vec4 color;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        vec4 foundColor = textureColor(vTextureCoord, vec2(0.0));\r\n\r\n        if (foundColor.a > 0.0 &&\r\n            (textureColor(vTextureCoord, vec2(-1.0, 0.0)).a < 1.0 || textureColor(vTextureCoord, vec2(1.0, 0.0)).a < 1.0 ||\r\n             textureColor(vTextureCoord, vec2(0.0, -1.0)).a < 1.0 || textureColor(vTextureCoord, vec2(0.0, 1.0)).a < 1.0))\r\n        {\r\n            diffuseColor = color;\r\n        }\r\n        else \r\n        {\r\n            diffuseColor = vec4(0.0);\r\n        }\r\n    }\r\n"),e.compileShader(ye),Se=e.getShaderInfoLog(ye),It(zt("fragmentShader: %s"))(Se),be=e.createProgram(),e.attachShader(be,me),e.attachShader(be,ye),e.linkProgram(be),Te=e.getProgramInfoLog(be),It(zt("program: %s"))(Te),Ee=Ki(new Array(11),0,11,null),(Pe=e.getAttribLocation(be,"vertexBuffer"))>-1&&e.enableVertexAttribArray(Pe),Ee[0]=Pe,(Re=e.getAttribLocation(be,"textureCoord"))>-1&&e.enableVertexAttribArray(Re),Ee[1]=Re,(Oe=e.getAttribLocation(be,"position"))>-1&&e.enableVertexAttribArray(Oe),Ee[2]=Oe,(Fe=e.getAttribLocation(be,"textureSlicePosition"))>-1&&e.enableVertexAttribArray(Fe),Ee[3]=Fe,Ee[4]=e.getUniformLocation(be,"iResolution"),Ee[5]=e.getUniformLocation(be,"colorTexture"),Ee[6]=e.getUniformLocation(be,"colorTextureSize"),(De=e.getAttribLocation(be,"vTextureCoord"))>-1&&e.enableVertexAttribArray(De),Ee[7]=De,(Be=e.getAttribLocation(be,"vResolution"))>-1&&e.enableVertexAttribArray(Be),Ee[8]=Be,(ke=e.getAttribLocation(be,"vTextureSlicePosition"))>-1&&e.enableVertexAttribArray(ke),Ee[9]=ke,Ee[10]=e.getUniformLocation(be,"color"),[be,Ee,e]),cn=(_e=e.createShader(e.VERTEX_SHADER),e.shaderSource(_e,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    in vec4 position;\r\n    in vec4 textureSlicePosition;\r\n    in vec4 heightMapTextureSlicePosition;\r\n\r\n    uniform vec2 resolution;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec4 vTextureSlicePosition;\r\n    out vec4 vHeightMapTextureSlicePosition;\r\n    out vec2 vResolution;\r\n    out vec2 vPosition;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / resolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / resolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = resolution;\r\n        vTextureSlicePosition = textureSlicePosition;\r\n        vHeightMapTextureSlicePosition = heightMapTextureSlicePosition;\r\n        vPosition = gl_Position.xy;\r\n    }"),e.compileShader(_e),ze=e.getShaderInfoLog(_e),It(zt("vertexShader: %s"))(ze),Ie=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(Ie,"#version 300 es\r\n\r\n    precision highp float;\r\n    \r\n    in vec2 vResolution;\r\n    in vec2 vTextureCoord;\r\n    in vec2 vPosition;\r\n\r\n    uniform float scale;\r\n\r\n    // Texture\r\n\r\n    uniform sampler2D colorTexture;\r\n    uniform vec2 colorTextureSize;\r\n    in vec4 vTextureSlicePosition;\r\n\r\n    const vec4 bitSh = vec4(256. * 256. * 256., 256. * 256., 256., 1.);\r\n    const vec4 bitMsk = vec4(0.,vec3(1./256.0));\r\n    const vec4 bitShifts = vec4(1.) / bitSh;\r\n\r\n    vec2 pack (float value) {\r\n        float a = value / 256.0;\r\n        float x = floor(a);\r\n        float y = a - x;\r\n\r\n        return vec2(x / 256.0, y);\r\n    }\r\n\r\n    float unpack (vec2 color) {\r\n        return (color.x * 256.0 * 256.0) + (color.y * 256.0);\r\n    }\r\n\r\n    vec4 textureColor(vec2 offset) {\r\n        float ox = (vTextureSlicePosition.x + offset.x) / colorTextureSize.x;\r\n        float oy = (vTextureSlicePosition.y + offset.y) / colorTextureSize.y;\r\n\r\n        float px = (vTextureSlicePosition.z / colorTextureSize.x) * vTextureCoord.x;\r\n        float py = (vTextureSlicePosition.w / colorTextureSize.y) * vTextureCoord.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture(colorTexture, vec2(x, y));\r\n    }\r\n\r\n    // Height Map\r\n\r\n    uniform sampler2D heightMapTexture;\r\n    uniform vec2 heightMapTextureSize;\r\n    in vec4 vHeightMapTextureSlicePosition;\r\n\r\n    vec4 heightMapTextureColor(vec2 offset) {\r\n        float ox = (vHeightMapTextureSlicePosition.x + offset.x) / heightMapTextureSize.x;\r\n        float oy = (vHeightMapTextureSlicePosition.y + offset.y) / heightMapTextureSize.y;\r\n\r\n        float px = (vHeightMapTextureSlicePosition.z / heightMapTextureSize.x) * vTextureCoord.x;\r\n        float py = (vHeightMapTextureSlicePosition.w / heightMapTextureSize.y) * vTextureCoord.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture(heightMapTexture, vec2(x, y));\r\n    }\r\n\r\n    layout(location = 0) out vec4 diffuseColor;\r\n    layout(location = 1) out vec4 depthColor;\r\n\r\n    void main(void) {\r\n        vec4 tColor = textureColor(vec2(0.0));\r\n\r\n        if (tColor.a == 0.0) {\r\n            diffuseColor = vec4(0.0);\r\n        } else {\r\n            diffuseColor = tColor;\r\n\r\n            vec4 hmColor = heightMapTextureColor(vec2(0.0));\r\n        \r\n            float a = (1.0 - ((vPosition.y + 1.0) / 2.0)) * vResolution.y / scale;\r\n            float b = hmColor.r * 255.0;\r\n            vec2 c = pack(a + b);\r\n\r\n            depthColor = vec4(c.x, c.y, hmColor.r, tColor.a);\r\n        }\r\n    }\r\n"),e.compileShader(Ie),Ue=e.getShaderInfoLog(Ie),It(zt("fragmentShader: %s"))(Ue),Ne=e.createProgram(),e.attachShader(Ne,_e),e.attachShader(Ne,Ie),e.linkProgram(Ne),Ve=e.getProgramInfoLog(Ne),It(zt("program: %s"))(Ve),je=Ki(new Array(16),0,16,null),(We=e.getAttribLocation(Ne,"vertexBuffer"))>-1&&e.enableVertexAttribArray(We),je[0]=We,(Xe=e.getAttribLocation(Ne,"textureCoord"))>-1&&e.enableVertexAttribArray(Xe),je[1]=Xe,(Ge=e.getAttribLocation(Ne,"position"))>-1&&e.enableVertexAttribArray(Ge),je[2]=Ge,(qe=e.getAttribLocation(Ne,"textureSlicePosition"))>-1&&e.enableVertexAttribArray(qe),je[3]=qe,($e=e.getAttribLocation(Ne,"heightMapTextureSlicePosition"))>-1&&e.enableVertexAttribArray($e),je[4]=$e,je[5]=e.getUniformLocation(Ne,"resolution"),(Je=e.getAttribLocation(Ne,"vResolution"))>-1&&e.enableVertexAttribArray(Je),je[6]=Je,(Ze=e.getAttribLocation(Ne,"vTextureCoord"))>-1&&e.enableVertexAttribArray(Ze),je[7]=Ze,(Ke=e.getAttribLocation(Ne,"vPosition"))>-1&&e.enableVertexAttribArray(Ke),je[8]=Ke,je[9]=e.getUniformLocation(Ne,"scale"),je[10]=e.getUniformLocation(Ne,"colorTexture"),je[11]=e.getUniformLocation(Ne,"colorTextureSize"),(Qe=e.getAttribLocation(Ne,"vTextureSlicePosition"))>-1&&e.enableVertexAttribArray(Qe),je[12]=Qe,je[13]=e.getUniformLocation(Ne,"heightMapTexture"),je[14]=e.getUniformLocation(Ne,"heightMapTextureSize"),(tt=e.getAttribLocation(Ne,"vHeightMapTextureSlicePosition"))>-1&&e.enableVertexAttribArray(tt),je[15]=tt,[Ne,je,e]),an=(nt=e.createShader(e.VERTEX_SHADER),e.shaderSource(nt,"#version 300 es\r\n    precision mediump float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n\r\n    out vec2 vTextureCoord;\r\n\r\n    void main() {\r\n        gl_Position = vec4(vertexBuffer.x, vertexBuffer.y, 0.0, 1.0);\r\n        vTextureCoord = textureCoord;\r\n    }"),e.compileShader(nt),rt=e.getShaderInfoLog(nt),It(zt("vertexShader: %s"))(rt),ot=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(ot,"#version 300 es\r\n    precision mediump float;\r\n    \r\n    in vec2 vTextureCoord;\r\n\r\n    uniform sampler2D colorTexture;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        diffuseColor = texture(colorTexture, vTextureCoord);\r\n    }\r\n"),e.compileShader(ot),ut=e.getShaderInfoLog(ot),It(zt("fragmentShader: %s"))(ut),st=e.createProgram(),e.attachShader(st,nt),e.attachShader(st,ot),e.linkProgram(st),lt=e.getProgramInfoLog(st),It(zt("program: %s"))(lt),ct=Ki(new Array(4),0,4,null),(at=e.getAttribLocation(st,"vertexBuffer"))>-1&&e.enableVertexAttribArray(at),ct[0]=at,(ft=e.getAttribLocation(st,"textureCoord"))>-1&&e.enableVertexAttribArray(ft),ct[1]=ft,(dt=e.getAttribLocation(st,"vTextureCoord"))>-1&&e.enableVertexAttribArray(dt),ct[2]=dt,ct[3]=e.getUniformLocation(st,"colorTexture"),[st,ct,e]),fn=(ht=e.createShader(e.VERTEX_SHADER),e.shaderSource(ht,"#version 300 es\r\n    precision highp float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n    in vec4 flakes;\r\n\r\n    uniform vec2 resolution;\r\n    uniform vec2 size;\r\n    uniform float time;\r\n\r\n    out vec2 vTextureCoord;\r\n    out vec2 vWorldCoord;\r\n\r\n    out float vHeight;\r\n    out float vWave;\r\n\r\n    const vec2 distMin = vec2(0.005);\r\n    const vec2 distMax = vec2(0.01);\r\n\r\n    const vec2 sizeMin = vec2(0.8);\r\n    const vec2 sizeMax = vec2(1.2);\r\n\r\n    void main() {\r\n        vec2 timeOffset = vec2(time, time * 0.01);\r\n        vec2 size2 = mix(sizeMin, sizeMax, flakes.w) * size;\r\n\r\n        vec2 dist = mix(distMin, distMax, flakes.w);\r\n        vec2 pos = fract((dist * timeOffset) + flakes.xy);\r\n\r\n        vec4 position = \r\n            vec4((pos * ((size2 * 2.0) + resolution)) - size2,\r\n                 size2);\r\n\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / resolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / resolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vWorldCoord = vec2(\r\n                   (position.x + (position.z * textureCoord.x)) / resolution.x,\r\n            1.0 - ((position.y + (position.w * (1.0-textureCoord.y))) / resolution.y));\r\n\r\n        vTextureCoord = textureCoord;\r\n\r\n        vHeight = mix(0.01, .1, flakes.z);\r\n        vWave = mix(30.0, 80.0, flakes.w);\r\n    }"),e.compileShader(ht),wt=e.getShaderInfoLog(ht),It(zt("vertexShader: %s"))(wt),pt=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(pt,"#version 300 es\r\n    precision highp float;\r\n    \r\n    in vec2 vTextureCoord;\r\n    in vec2 vWorldCoord;\r\n    in float vHeight;\r\n    in float vWave;\r\n\r\n    uniform sampler2D colorTexture;\r\n    uniform sampler2D depthTexture;\r\n\r\n    in vec4 vPosition;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    void main(void) {\r\n        \r\n        vec2 point = vTextureCoord;\r\n\r\n        point.y += sin(vWorldCoord.x * vWave) * 0.02;\r\n\r\n        vec4 mainColor = texture(colorTexture, point);\r\n        vec4 depthColor = texture(depthTexture, vWorldCoord);\r\n\r\n        float depthScreen = depthColor.z;\r\n\r\n        float a = (40.0 * min(vHeight - depthScreen, 0.0)) + 1.0;\r\n\r\n        diffuseColor = vec4(1.0, 1.0, 1.0, (mainColor.r * a * 0.2));\r\n    }\r\n"),e.compileShader(pt),gt=e.getShaderInfoLog(pt),It(zt("fragmentShader: %s"))(gt),vt=e.createProgram(),e.attachShader(vt,ht),e.attachShader(vt,pt),e.linkProgram(vt),xt=e.getProgramInfoLog(vt),It(zt("program: %s"))(xt),mt=Ki(new Array(13),0,13,null),(At=e.getAttribLocation(vt,"vertexBuffer"))>-1&&e.enableVertexAttribArray(At),mt[0]=At,(yt=e.getAttribLocation(vt,"textureCoord"))>-1&&e.enableVertexAttribArray(yt),mt[1]=yt,(St=e.getAttribLocation(vt,"flakes"))>-1&&e.enableVertexAttribArray(St),mt[2]=St,mt[3]=e.getUniformLocation(vt,"resolution"),mt[4]=e.getUniformLocation(vt,"size"),mt[5]=e.getUniformLocation(vt,"time"),(bt=e.getAttribLocation(vt,"vTextureCoord"))>-1&&e.enableVertexAttribArray(bt),mt[6]=bt,(Tt=e.getAttribLocation(vt,"vWorldCoord"))>-1&&e.enableVertexAttribArray(Tt),mt[7]=Tt,mt[8]=e.getUniformLocation(vt,"vHeight"),mt[9]=e.getUniformLocation(vt,"vWave"),mt[10]=e.getUniformLocation(vt,"colorTexture"),mt[11]=e.getUniformLocation(vt,"depthTexture"),(Et=e.getAttribLocation(vt,"vPosition"))>-1&&e.enableVertexAttribArray(Et),mt[12]=Et,[vt,mt,e]),dn=(Ct=e.createShader(e.VERTEX_SHADER),e.shaderSource(Ct,"#version 300 es\r\n    precision highp float;\r\n\r\n    in vec2 vertexBuffer;\r\n    in vec2 textureCoord;\r\n    in vec4 flakes;\r\n\r\n    uniform vec2 resolution;\r\n    uniform vec2 size;\r\n    uniform float time;\r\n\r\n    out vec2 vTextureCoord;\r\n    out float vDepth;\r\n\r\n\r\n    vec2 hash(vec2 p) {                       \r\n        p = vec2( dot(p,vec2(127.1,311.7)),\r\n                  dot(p,vec2(269.5,183.3)) );\r\n        return -1. + 2.*fract(sin(p+20.)*53758.5453123);\r\n    }\r\n\r\n    float noise( vec2 p ) {\r\n        vec2 i = floor((p)), f = fract((p));\r\n        vec2 u = f*f*(3.-2.*f);\r\n        return mix( mix( dot( hash( i + vec2(0.,0.) ), f - vec2(0.,0.) ), \r\n                         dot( hash( i + vec2(1.,0.) ), f - vec2(1.,0.) ), u.x),\r\n                    mix( dot( hash( i + vec2(0.,1.) ), f - vec2(0.,1.) ), \r\n                         dot( hash( i + vec2(1.,1.) ), f - vec2(1.,1.) ), u.x), u.y);\r\n    }\r\n\r\n    float between (float value, float minimum, float maximum) {\r\n        return value * (maximum - minimum) + minimum;\r\n    }\r\n\r\n    void main() {\r\n        float min = 0.8;\r\n        float max = 1.0;\r\n\r\n        float x = flakes.x + ((between(flakes.w, min, max) * 0.2) * time);\r\n        float y = flakes.y + (0.4) * time;\r\n        \r\n\r\n        x = fract(x);\r\n        y = fract(y);\r\n\r\n        vec4 position = \r\n            vec4((x * resolution.x) - size.x,\r\n                 (y * resolution.y) - size.y,\r\n                 size.x, \r\n                 size.y);\r\n\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (position.z * (vertexBuffer.x + 1.0))) / resolution.x),\r\n                  1.0 - (((2.0 * position.y) - (position.w * (vertexBuffer.y - 1.0))) / resolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = vec2(position.x / resolution.x, 1.0 - (position.y / resolution.y));\r\n        vDepth = flakes.z * resolution.y;\r\n    }"),e.compileShader(Ct),Pt=e.getShaderInfoLog(Ct),It(zt("vertexShader: %s"))(Pt),Rt=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(Rt,"#version 300 es\r\n    precision highp float;\r\n    \r\n    in vec2 vTextureCoord;\r\n    in float vDepth;\r\n\r\n    uniform sampler2D depthTexture;\r\n    in vec4 vPosition;\r\n    layout(location = 0) out vec4 diffuseColor;\r\n\r\n    float unpack (vec2 color) {\r\n        return (color.x * 256.0 * 256.0) + (color.y * 256.0);\r\n    }\r\n\r\n    void main(void) {\r\n        vec4 depthColor = texture(depthTexture, vTextureCoord);\r\n        float depthScreen = unpack(depthColor.xy);\r\n\r\n        if (depthScreen > vDepth) {\r\n            diffuseColor = vec4(0.0);\r\n        }\r\n        else {\r\n            diffuseColor = vec4(0.1, 0.3, 1.0, 1.0);\r\n        }\r\n    }\r\n"),e.compileShader(Rt),Mt=e.getShaderInfoLog(Rt),It(zt("fragmentShader: %s"))(Mt),Lt=e.createProgram(),e.attachShader(Lt,Ct),e.attachShader(Lt,Rt),e.linkProgram(Lt),Ot=e.getProgramInfoLog(Lt),It(zt("program: %s"))(Ot),Ft=Ki(new Array(10),0,10,null),(Dt=e.getAttribLocation(Lt,"vertexBuffer"))>-1&&e.enableVertexAttribArray(Dt),Ft[0]=Dt,(Bt=e.getAttribLocation(Lt,"textureCoord"))>-1&&e.enableVertexAttribArray(Bt),Ft[1]=Bt,(kt=e.getAttribLocation(Lt,"flakes"))>-1&&e.enableVertexAttribArray(kt),Ft[2]=kt,Ft[3]=e.getUniformLocation(Lt,"resolution"),Ft[4]=e.getUniformLocation(Lt,"size"),Ft[5]=e.getUniformLocation(Lt,"time"),(_t=e.getAttribLocation(Lt,"vTextureCoord"))>-1&&e.enableVertexAttribArray(_t),Ft[6]=_t,Ft[7]=e.getUniformLocation(Lt,"vDepth"),Ft[8]=e.getUniformLocation(Lt,"depthTexture"),(Ut=e.getAttribLocation(Lt,"vPosition"))>-1&&e.enableVertexAttribArray(Ut),Ft[9]=Ut,[Lt,Ft,e]),hn=yi([],{Equals:Me,GetHashCode:Ce}),wn=[],pn=function(t,n,r){const i=ge(hn,[t,n,r],null);if(i[0])return i[1];{const i=gl(e,n,r);return Ye(hn,[t,n,r],i),i}},gn=new xe((function(){var e;return[ps(El()("Fog1").Frames[0].Layers[0].TextureName,!0),(e=El()("Fog2"),ps(e.Frames[0].Layers[0].TextureName,!0))]})),vn=et(),xn=[],mn=al(e),An=[],yn=al(e),Sn=[],bn=al(e),Tn=[],En=al(e),Cn=xl(e),Pn=xl(e);return function(n){return function(r){return function(i){let o,u=it(n,vn);o=u/1e3;const s=pn(-1,us(r.Resolution),ss(r.Resolution)),l=pn(-2,us(r.Resolution),ss(r.Resolution)),c=[t(gn.Value[0]),t(gn.Value[1])];let a=null,f=function(){};const d=function(t,n,r,i,u,s){var d,h,w,p,g,v,x,m,A,y,S,b,T,E;let C,P,R,M,L;if(null!=r){R=r.Texture}else R=null;if(null!=i){M=i.Texture}else M=null;var O,F,D,B,k,_,z,I,U,N,V,H,j,W,X,G,Y,q,$,J;switch(Le(C=P=rn({Effect:u,HeightTexture:M,NormalTexture:R,Resolution:t[0],Scale:t[1],Shader:n}),a)?L=!1:(f(),a=C,L=!0),0===n.tag?null!=r?(O=0,F=r):O=9:1===n.tag?null!=r?(O=1,D=r):O=9:6===n.tag?null!=r?(O=2,B=n.fields[0],k=r):O=9:7===n.tag?null!=r?(O=3,_=n.fields[3],z=n.fields[2],I=n.fields[1],U=r,N=n.fields[0]):O=9:4===n.tag?null!=r?(O=4,V=n.fields[3],H=n.fields[2],j=n.fields[1],W=r,X=n.fields[0]):O=9:5===n.tag?(O=5,G=n.fields[0][3],Y=n.fields[0][2],q=n.fields[0][1],$=n.fields[0][0]):8===n.tag?O=6:9===n.tag?O=7:10===n.tag&&null!=r?(O=8,J=r):O=9,O){case 0:if(L){const n=tn;for(let e=0;e<=4;e++)n[2].disableVertexAttribArray(e);n[2].useProgram(n[0]),n[2].enable(n[2].BLEND);const r=tn;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE);const i=tn[1][0];i>-1&&(tn[2].enableVertexAttribArray(i),tn[2].bindBuffer(tn[2].ARRAY_BUFFER,jt),tn[2].vertexAttribPointer(i,2,tn[2].FLOAT,!1,0,0),tn[2].vertexAttribDivisor(i,0));const o=tn[1][1];let u;let s;o>-1&&(tn[2].enableVertexAttribArray(o),tn[2].bindBuffer(tn[2].ARRAY_BUFFER,$t),tn[2].vertexAttribPointer(o,2,tn[2].FLOAT,!1,0,0),tn[2].vertexAttribDivisor(o,0)),tn[2].activeTexture(tn[2].TEXTURE0),tn[2].bindTexture(tn[2].TEXTURE_2D,F.Texture),tn[2].uniform1i(tn[1][5],0),u=[0|us(F.TextureSize),0|ss(F.TextureSize)],tn[2].uniform2f(tn[1][6],u[0],u[1]),s=[0|us(t[0]),0|ss(t[0])],tn[2].uniform2f(tn[1][4],s[0],s[1]),f=function(){dl(e,mn,xn.slice());const t=tn[1][2];t>-1&&(tn[2].enableVertexAttribArray(t),tn[2].bindBuffer(tn[2].ARRAY_BUFFER,mn),tn[2].vertexAttribPointer(t,4,tn[2].FLOAT,!1,0,0),tn[2].vertexAttribDivisor(t,0));const n=tn[1][2];tn[2].vertexAttribDivisor(n,1),dl(e,yn,An.slice());const r=tn[1][3];r>-1&&(tn[2].enableVertexAttribArray(r),tn[2].bindBuffer(tn[2].ARRAY_BUFFER,yn),tn[2].vertexAttribPointer(r,4,tn[2].FLOAT,!1,0,0),tn[2].vertexAttribDivisor(r,0));const i=tn[1][3];tn[2].vertexAttribDivisor(i,1);const o=0|xn.length,u=tn;u[2].drawArraysInstanced(u[2].TRIANGLES,0,6,o),He(xn),He(An),f=function(){}}}xn.push((d=as(fs(s[0])*t[1],ds(s[0])*t[1]),h=os(us(s[1])*t[1],ss(s[1])*t[1]),[0|fs(d),0|ds(d),0|us(h),0|ss(h)])),An.push([0|fs(F.TextureSlicePosition),0|ds(F.TextureSlicePosition),0|us(F.TextureSliceSize),0|ss(F.TextureSliceSize)]);break;case 1:if(null!=i){const n=i;if(L){const r=cn;for(let e=0;e<=4;e++)r[2].disableVertexAttribArray(e);r[2].useProgram(r[0]),r[2].enable(r[2].BLEND);const i=cn;i[2].blendEquation(i[2].FUNC_ADD),i[2].blendFuncSeparate(i[2].SRC_ALPHA,i[2].ONE_MINUS_SRC_ALPHA,i[2].ONE,i[2].ONE);const o=cn[1][0];o>-1&&(cn[2].enableVertexAttribArray(o),cn[2].bindBuffer(cn[2].ARRAY_BUFFER,jt),cn[2].vertexAttribPointer(o,2,cn[2].FLOAT,!1,0,0),cn[2].vertexAttribDivisor(o,0));const u=cn[1][1];let s;u>-1&&(cn[2].enableVertexAttribArray(u),cn[2].bindBuffer(cn[2].ARRAY_BUFFER,$t),cn[2].vertexAttribPointer(u,2,cn[2].FLOAT,!1,0,0),cn[2].vertexAttribDivisor(u,0)),s=[0|us(t[0]),0|ss(t[0])],cn[2].uniform2f(cn[1][5],s[0],s[1]);const l=t[1];let c;let a;cn[2].uniform1f(cn[1][9],l),cn[2].activeTexture(cn[2].TEXTURE0),cn[2].bindTexture(cn[2].TEXTURE_2D,D.Texture),cn[2].uniform1i(cn[1][10],0),c=[0|us(D.TextureSize),0|ss(D.TextureSize)],cn[2].uniform2f(cn[1][11],c[0],c[1]),cn[2].activeTexture(cn[2].TEXTURE1),cn[2].bindTexture(cn[2].TEXTURE_2D,n.Texture),cn[2].uniform1i(cn[1][13],1),a=[0|us(n.TextureSize),0|ss(n.TextureSize)],cn[2].uniform2f(cn[1][14],a[0],a[1]),f=function(){dl(e,mn,xn.slice());const t=cn[1][2];t>-1&&(cn[2].enableVertexAttribArray(t),cn[2].bindBuffer(cn[2].ARRAY_BUFFER,mn),cn[2].vertexAttribPointer(t,4,cn[2].FLOAT,!1,0,0),cn[2].vertexAttribDivisor(t,0));const n=cn[1][2];cn[2].vertexAttribDivisor(n,1),dl(e,yn,An.slice());const r=cn[1][3];r>-1&&(cn[2].enableVertexAttribArray(r),cn[2].bindBuffer(cn[2].ARRAY_BUFFER,yn),cn[2].vertexAttribPointer(r,4,cn[2].FLOAT,!1,0,0),cn[2].vertexAttribDivisor(r,0));const i=cn[1][3];cn[2].vertexAttribDivisor(i,1),dl(e,bn,Sn.slice());const o=cn[1][4];o>-1&&(cn[2].enableVertexAttribArray(o),cn[2].bindBuffer(cn[2].ARRAY_BUFFER,bn),cn[2].vertexAttribPointer(o,4,cn[2].FLOAT,!1,0,0),cn[2].vertexAttribDivisor(o,0));const u=cn[1][4];cn[2].vertexAttribDivisor(u,1);const s=0|xn.length,l=cn;l[2].drawArraysInstanced(l[2].TRIANGLES,0,6,s),He(xn),He(An),He(Sn),f=function(){}}}xn.push((w=as(fs(s[0])*t[1],ds(s[0])*t[1]),p=os(us(s[1])*t[1],ss(s[1])*t[1]),[0|fs(w),0|ds(w),0|us(p),0|ss(p)])),An.push([0|fs(D.TextureSlicePosition),0|ds(D.TextureSlicePosition),0|us(D.TextureSliceSize),0|ss(D.TextureSliceSize)]),Sn.push([0|fs(n.TextureSlicePosition),0|ds(n.TextureSlicePosition),0|us(n.TextureSliceSize),0|ss(n.TextureSliceSize)])}break;case 2:if(L){const n=sn;for(let e=0;e<=4;e++)n[2].disableVertexAttribArray(e);n[2].useProgram(n[0]),n[2].enable(n[2].BLEND);const r=sn;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE);const i=sn[1][0];i>-1&&(sn[2].enableVertexAttribArray(i),sn[2].bindBuffer(sn[2].ARRAY_BUFFER,jt),sn[2].vertexAttribPointer(i,2,sn[2].FLOAT,!1,0,0),sn[2].vertexAttribDivisor(i,0));const o=sn[1][1];let u;let s;o>-1&&(sn[2].enableVertexAttribArray(o),sn[2].bindBuffer(sn[2].ARRAY_BUFFER,$t),sn[2].vertexAttribPointer(o,2,sn[2].FLOAT,!1,0,0),sn[2].vertexAttribDivisor(o,0)),sn[2].activeTexture(sn[2].TEXTURE0),sn[2].bindTexture(sn[2].TEXTURE_2D,k.Texture),sn[2].uniform1i(sn[1][5],0),u=[0|us(k.TextureSize),0|ss(k.TextureSize)],sn[2].uniform2f(sn[1][6],u[0],u[1]),s=[0|us(t[0]),0|ss(t[0])],sn[2].uniform2f(sn[1][4],s[0],s[1]);const l=B;sn[2].uniform1f(sn[1][10],l),f=function(){dl(e,mn,xn.slice());const t=sn[1][2];t>-1&&(sn[2].enableVertexAttribArray(t),sn[2].bindBuffer(sn[2].ARRAY_BUFFER,mn),sn[2].vertexAttribPointer(t,4,sn[2].FLOAT,!1,0,0),sn[2].vertexAttribDivisor(t,0));const n=sn[1][2];sn[2].vertexAttribDivisor(n,1),dl(e,yn,An.slice());const r=sn[1][3];r>-1&&(sn[2].enableVertexAttribArray(r),sn[2].bindBuffer(sn[2].ARRAY_BUFFER,yn),sn[2].vertexAttribPointer(r,4,sn[2].FLOAT,!1,0,0),sn[2].vertexAttribDivisor(r,0));const i=sn[1][3];sn[2].vertexAttribDivisor(i,1);const o=0|xn.length,u=sn;u[2].drawArraysInstanced(u[2].TRIANGLES,0,6,o),He(xn),He(An),f=function(){}}}xn.push((g=as(fs(s[0])*t[1],ds(s[0])*t[1]),v=os(us(s[1])*t[1],ss(s[1])*t[1]),[0|fs(g),0|ds(g),0|us(v),0|ss(v)])),An.push([0|fs(k.TextureSlicePosition),0|ds(k.TextureSlicePosition),0|us(k.TextureSliceSize),0|ss(k.TextureSliceSize)]);break;case 3:if(L){const n=ln;for(let e=0;e<=4;e++)n[2].disableVertexAttribArray(e);n[2].useProgram(n[0]),n[2].enable(n[2].BLEND);const r=ln;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE);const i=ln[1][0];i>-1&&(ln[2].enableVertexAttribArray(i),ln[2].bindBuffer(ln[2].ARRAY_BUFFER,jt),ln[2].vertexAttribPointer(i,2,ln[2].FLOAT,!1,0,0),ln[2].vertexAttribDivisor(i,0));const o=ln[1][1];let u;let s;o>-1&&(ln[2].enableVertexAttribArray(o),ln[2].bindBuffer(ln[2].ARRAY_BUFFER,$t),ln[2].vertexAttribPointer(o,2,ln[2].FLOAT,!1,0,0),ln[2].vertexAttribDivisor(o,0)),ln[2].activeTexture(ln[2].TEXTURE0),ln[2].bindTexture(ln[2].TEXTURE_2D,U.Texture),ln[2].uniform1i(ln[1][5],0),u=[0|us(U.TextureSize),0|ss(U.TextureSize)],ln[2].uniform2f(ln[1][6],u[0],u[1]),s=[0|us(t[0]),0|ss(t[0])],ln[2].uniform2f(ln[1][4],s[0],s[1]);const l=[N,I,z,_];ln[2].uniform4f(ln[1][10],l[0],l[1],l[2],l[3]),f=function(){dl(e,mn,xn.slice());const t=ln[1][2];t>-1&&(ln[2].enableVertexAttribArray(t),ln[2].bindBuffer(ln[2].ARRAY_BUFFER,mn),ln[2].vertexAttribPointer(t,4,ln[2].FLOAT,!1,0,0),ln[2].vertexAttribDivisor(t,0));const n=ln[1][2];ln[2].vertexAttribDivisor(n,1),dl(e,yn,An.slice());const r=ln[1][3];r>-1&&(ln[2].enableVertexAttribArray(r),ln[2].bindBuffer(ln[2].ARRAY_BUFFER,yn),ln[2].vertexAttribPointer(r,4,ln[2].FLOAT,!1,0,0),ln[2].vertexAttribDivisor(r,0));const i=ln[1][3];ln[2].vertexAttribDivisor(i,1);const o=0|xn.length,u=ln;u[2].drawArraysInstanced(u[2].TRIANGLES,0,6,o),He(xn),He(An),f=function(){}}}xn.push((x=as(fs(s[0])*t[1],ds(s[0])*t[1]),m=os(us(s[1])*t[1],ss(s[1])*t[1]),[0|fs(x),0|ds(x),0|us(m),0|ss(m)])),An.push([0|fs(U.TextureSlicePosition),0|ds(U.TextureSlicePosition),0|us(U.TextureSliceSize),0|ss(U.TextureSliceSize)]);break;case 4:if(L){const n=nn;for(let e=0;e<=4;e++)n[2].disableVertexAttribArray(e);n[2].useProgram(n[0]),n[2].enable(n[2].BLEND);const r=nn;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE);const i=nn[1][0];i>-1&&(nn[2].enableVertexAttribArray(i),nn[2].bindBuffer(nn[2].ARRAY_BUFFER,jt),nn[2].vertexAttribPointer(i,2,nn[2].FLOAT,!1,0,0),nn[2].vertexAttribDivisor(i,0));const o=nn[1][1];let u;let s;o>-1&&(nn[2].enableVertexAttribArray(o),nn[2].bindBuffer(nn[2].ARRAY_BUFFER,$t),nn[2].vertexAttribPointer(o,2,nn[2].FLOAT,!1,0,0),nn[2].vertexAttribDivisor(o,0)),nn[2].activeTexture(nn[2].TEXTURE0),nn[2].bindTexture(nn[2].TEXTURE_2D,W.Texture),nn[2].uniform1i(nn[1][5],0),u=[0|us(W.TextureSize),0|ss(W.TextureSize)],nn[2].uniform2f(nn[1][6],u[0],u[1]),s=[0|us(t[0]),0|ss(t[0])],nn[2].uniform2f(nn[1][4],s[0],s[1]);const l=[X,j,H,V];nn[2].uniform4f(nn[1][10],l[0],l[1],l[2],l[3]),f=function(){dl(e,mn,xn.slice());const t=nn[1][2];t>-1&&(nn[2].enableVertexAttribArray(t),nn[2].bindBuffer(nn[2].ARRAY_BUFFER,mn),nn[2].vertexAttribPointer(t,4,nn[2].FLOAT,!1,0,0),nn[2].vertexAttribDivisor(t,0));const n=nn[1][2];nn[2].vertexAttribDivisor(n,1),dl(e,yn,An.slice());const r=nn[1][3];r>-1&&(nn[2].enableVertexAttribArray(r),nn[2].bindBuffer(nn[2].ARRAY_BUFFER,yn),nn[2].vertexAttribPointer(r,4,nn[2].FLOAT,!1,0,0),nn[2].vertexAttribDivisor(r,0));const i=nn[1][3];nn[2].vertexAttribDivisor(i,1);const o=0|xn.length,u=nn;u[2].drawArraysInstanced(u[2].TRIANGLES,0,6,o),He(xn),He(An),f=function(){}}}xn.push((A=as(fs(s[0])*t[1],ds(s[0])*t[1]),y=os(us(s[1])*t[1],ss(s[1])*t[1]),[0|fs(A),0|ds(A),0|us(y),0|ss(y)])),An.push([0|fs(W.TextureSlicePosition),0|ds(W.TextureSlicePosition),0|us(W.TextureSliceSize),0|ss(W.TextureSliceSize)]);break;case 5:if(L){const n=un;for(let e=0;e<=4;e++)n[2].disableVertexAttribArray(e);n[2].useProgram(n[0]),n[2].enable(n[2].BLEND);const r=un;r[2].blendEquation(r[2].FUNC_ADD),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE);const i=un[1][0];i>-1&&(un[2].enableVertexAttribArray(i),un[2].bindBuffer(un[2].ARRAY_BUFFER,jt),un[2].vertexAttribPointer(i,2,un[2].FLOAT,!1,0,0),un[2].vertexAttribDivisor(i,0));const o=un[1][1];let u;o>-1&&(un[2].enableVertexAttribArray(o),un[2].bindBuffer(un[2].ARRAY_BUFFER,$t),un[2].vertexAttribPointer(o,2,un[2].FLOAT,!1,0,0),un[2].vertexAttribDivisor(o,0)),u=[0|us(t[0]),0|ss(t[0])],un[2].uniform2f(un[1][4],u[0],u[1]);const s=[$,q,Y,G];un[2].uniform4f(un[1][5],s[0],s[1],s[2],s[3]),f=function(){dl(e,mn,xn.slice());const t=un[1][2];t>-1&&(un[2].enableVertexAttribArray(t),un[2].bindBuffer(un[2].ARRAY_BUFFER,mn),un[2].vertexAttribPointer(t,4,un[2].FLOAT,!1,0,0),un[2].vertexAttribDivisor(t,0));const n=un[1][2];un[2].vertexAttribDivisor(n,1);const r=0|xn.length,i=un;i[2].drawArraysInstanced(i[2].TRIANGLES,0,6,r),He(xn),He(An),f=function(){}}}xn.push((S=as(fs(s[0])*t[1],ds(s[0])*t[1]),b=os(us(s[1])*t[1],ss(s[1])*t[1]),[0|fs(S),0|ds(S),0|us(b),0|ss(b)]));break;case 6:var Z,K,Q;switch(f(),a=null,null!=c[0]&&null!=c[1]?(Z=0,c[0][0],K=c[1][0],Q=c[1][1]):Z=1,Z){case 0:{const e=fn;for(let t=0;t<=4;t++)e[2].disableVertexAttribArray(t);e[2].useProgram(e[0]),e[2].enable(e[2].BLEND);const n=fn;n[2].blendEquation(n[2].FUNC_ADD),n[2].blendFuncSeparate(n[2].SRC_ALPHA,n[2].ONE_MINUS_SRC_ALPHA,n[2].ONE,n[2].ONE);const r=fn[1][0];r>-1&&(fn[2].enableVertexAttribArray(r),fn[2].bindBuffer(fn[2].ARRAY_BUFFER,jt),fn[2].vertexAttribPointer(r,2,fn[2].FLOAT,!1,0,0),fn[2].vertexAttribDivisor(r,0));const i=fn[1][1];let u,s;let c;let a;i>-1&&(fn[2].enableVertexAttribArray(i),fn[2].bindBuffer(fn[2].ARRAY_BUFFER,$t),fn[2].vertexAttribPointer(i,2,fn[2].FLOAT,!1,0,0),fn[2].vertexAttribDivisor(i,0)),u=[s=us(Q)*t[1]|0,c=ss(Q)*t[1]|0],fn[2].uniform2f(fn[1][4],u[0],u[1]),fn[2].activeTexture(fn[2].TEXTURE0),fn[2].bindTexture(fn[2].TEXTURE_2D,K),fn[2].uniform1i(fn[1][10],0),a=[0|us(t[0]),0|ss(t[0])],fn[2].uniform2f(fn[1][3],a[0],a[1]);const f=o;fn[2].uniform1f(fn[1][5],f);const d=fn[1][2];d>-1&&(fn[2].enableVertexAttribArray(d),fn[2].bindBuffer(fn[2].ARRAY_BUFFER,Nt),fn[2].vertexAttribPointer(d,4,fn[2].FLOAT,!1,0,0),fn[2].vertexAttribDivisor(d,0));const h=fn[1][2];fn[2].vertexAttribDivisor(h,1),fn[2].activeTexture(fn[2].TEXTURE1),fn[2].bindTexture(fn[2].TEXTURE_2D,l),fn[2].uniform1i(fn[1][11],1);const w=fn;w[2].drawArraysInstanced(w[2].TRIANGLES,0,6,500);break}}break;case 7:{f(),a=null;const e=dn;for(let t=0;t<=4;t++)e[2].disableVertexAttribArray(t);e[2].useProgram(e[0]),e[2].enable(e[2].BLEND);const n=dn;n[2].blendEquation(n[2].FUNC_ADD),n[2].blendFuncSeparate(n[2].SRC_ALPHA,n[2].ONE_MINUS_SRC_ALPHA,n[2].ONE,n[2].ONE);const r=dn[1][0];r>-1&&(dn[2].enableVertexAttribArray(r),dn[2].bindBuffer(dn[2].ARRAY_BUFFER,jt),dn[2].vertexAttribPointer(r,2,dn[2].FLOAT,!1,0,0),dn[2].vertexAttribDivisor(r,0));const i=dn[1][1];let u,s;let c;let d;i>-1&&(dn[2].enableVertexAttribArray(i),dn[2].bindBuffer(dn[2].ARRAY_BUFFER,$t),dn[2].vertexAttribPointer(i,2,dn[2].FLOAT,!1,0,0),dn[2].vertexAttribDivisor(i,0)),u=[s=2*t[1]|0,c=2*t[1]|0],dn[2].uniform2f(dn[1][4],u[0],u[1]),d=[0|us(t[0]),0|ss(t[0])],dn[2].uniform2f(dn[1][3],d[0],d[1]);const h=o;dn[2].uniform1f(dn[1][5],h);const w=dn[1][2];w>-1&&(dn[2].enableVertexAttribArray(w),dn[2].bindBuffer(dn[2].ARRAY_BUFFER,Nt),dn[2].vertexAttribPointer(w,4,dn[2].FLOAT,!1,0,0),dn[2].vertexAttribDivisor(w,0));const p=dn[1][2];dn[2].vertexAttribDivisor(p,1),dn[2].activeTexture(dn[2].TEXTURE0),dn[2].bindTexture(dn[2].TEXTURE_2D,l),dn[2].uniform1i(dn[1][8],0);const g=dn;g[2].drawArraysInstanced(g[2].TRIANGLES,0,6,1e3);break}case 8:{if(L){const n=on;for(let e=0;e<=4;e++)n[2].disableVertexAttribArray(e);n[2].useProgram(n[0]),n[2].enable(n[2].BLEND);const r=on;r[2].blendEquationSeparate(r[2].MIN,r[2].MAX),r[2].blendFuncSeparate(r[2].SRC_ALPHA,r[2].ONE_MINUS_SRC_ALPHA,r[2].ONE,r[2].ONE);const i=on[1][0];i>-1&&(on[2].enableVertexAttribArray(i),on[2].bindBuffer(on[2].ARRAY_BUFFER,jt),on[2].vertexAttribPointer(i,2,on[2].FLOAT,!1,0,0),on[2].vertexAttribDivisor(i,0));const o=on[1][1];let u;let s;o>-1&&(on[2].enableVertexAttribArray(o),on[2].bindBuffer(on[2].ARRAY_BUFFER,$t),on[2].vertexAttribPointer(o,2,on[2].FLOAT,!1,0,0),on[2].vertexAttribDivisor(o,0)),on[2].activeTexture(on[2].TEXTURE0),on[2].bindTexture(on[2].TEXTURE_2D,J.Texture),on[2].uniform1i(on[1][6],0),u=[0|us(J.TextureSize),0|ss(J.TextureSize)],on[2].uniform2f(on[1][7],u[0],u[1]),s=[0|us(t[0]),0|ss(t[0])],on[2].uniform2f(on[1][5],s[0],s[1]),f=function(){dl(e,mn,xn.slice());const t=on[1][3];t>-1&&(on[2].enableVertexAttribArray(t),on[2].bindBuffer(on[2].ARRAY_BUFFER,mn),on[2].vertexAttribPointer(t,4,on[2].FLOAT,!1,0,0),on[2].vertexAttribDivisor(t,0));const n=on[1][3];on[2].vertexAttribDivisor(n,1),dl(e,yn,An.slice());const r=on[1][4];r>-1&&(on[2].enableVertexAttribArray(r),on[2].bindBuffer(on[2].ARRAY_BUFFER,yn),on[2].vertexAttribPointer(r,4,on[2].FLOAT,!1,0,0),on[2].vertexAttribDivisor(r,0));const i=on[1][4];on[2].vertexAttribDivisor(i,1),fl(e,En,Tn.slice());const o=on[1][2];o>-1&&(on[2].enableVertexAttribArray(o),on[2].bindBuffer(on[2].ARRAY_BUFFER,En),on[2].vertexAttribPointer(o,2,on[2].FLOAT,!1,0,0),on[2].vertexAttribDivisor(o,0));const u=on[1][2];on[2].vertexAttribDivisor(u,1);const s=0|xn.length,l=on;l[2].drawArraysInstanced(l[2].TRIANGLES,0,6,s),He(xn),He(An),He(Tn),f=function(){}}}const n=null!=u?1===(T=u).tag?[T.fields[0],T.fields[1]]:[0,10]:[0,10];for(let e=n[0];e<=n[1];e++){let n;const r=as(3*e,3*e);n=as(fs(s[0])+fs(r),ds(s[0])+ds(r)),xn.push((E=os(us(s[1])*t[1],ss(s[1])*t[1]),[0|fs(n),0|ds(n),0|us(E),0|ss(E)])),An.push([0|fs(J.TextureSlicePosition),0|ds(J.TextureSlicePosition),0|us(J.TextureSliceSize),0|ss(J.TextureSliceSize)]);const i=e/9,o=.2*(1-i);Tn.push([o,i])}break}}};let h=0;const w=Zi([],{Equals:Le,GetHashCode:Ce});hn.size>10&&(dr((function(t){vl(e,t[1])}),hn),hn.clear()),yl(e),hl(e,us(r.Resolution),ss(r.Resolution)),wl(e,us(r.Resolution),ss(r.Resolution));const p=function(e,n,r){const i=t(e);if(null!=i){const e=i[1],t=i[0];return new Ql(t,e,n,r)}return null};!function t(r,i,o,u,c,g){var v,x,m;e:for(;;){const T=r,E=i,C=o,P=u,R=c,M=g;var A,y;switch(1===M.tag&&Le(M.fields[0].Shader,new ms(2,"World"))?(A=0,y=M.fields[0]):A=1,A){case 0:{let n;ml(e,Cn),Al(e,0,s),Al(e,1,l),n=new Float64Array([e.COLOR_ATTACHMENT0,e.COLOR_ATTACHMENT1]),e.drawBuffers(n),wl(e,us(E),ss(E));const r=as(fs(y.Position)+fs(C),ds(y.Position)+ds(C));for(let e=0;e<=y.Children.length-1;e++)t(T,E,r,P,new ms(0,"Default"),y.Children[e]);f(),a=null,yl(e),hl(e,us(E),ss(E));const i=an;for(let e=0;e<=4;e++)i[2].disableVertexAttribArray(e);i[2].useProgram(i[0]),i[2].enable(i[2].BLEND);const o=an;o[2].blendEquation(o[2].FUNC_ADD),o[2].blendFuncSeparate(o[2].SRC_ALPHA,o[2].ONE_MINUS_SRC_ALPHA,o[2].ONE,o[2].ONE);const u=an[1][0];u>-1&&(an[2].enableVertexAttribArray(u),an[2].bindBuffer(an[2].ARRAY_BUFFER,jt),an[2].vertexAttribPointer(u,2,an[2].FLOAT,!1,0,0),an[2].vertexAttribDivisor(u,0));const c=an[1][1];c>-1&&(an[2].enableVertexAttribArray(c),an[2].bindBuffer(an[2].ARRAY_BUFFER,$t),an[2].vertexAttribPointer(c,2,an[2].FLOAT,!1,0,0),an[2].vertexAttribDivisor(c,0)),an[2].activeTexture(an[2].TEXTURE0),an[2].bindTexture(an[2].TEXTURE_2D,s),an[2].uniform1i(an[1][3],0);const d=an;d[2].drawArrays(d[2].TRIANGLES,0,6);break}case 1:if(0===M.tag)d([E,P],R,p(M.fields[0].Texture,M.fields[0].TextureSlicePosition,M.fields[0].TextureSliceSize),null!=M.fields[0].HeightMap?(v=M.fields[0].HeightMap,p(v.Texture,v.TextureSlicePosition,v.TextureSliceSize)):null,M.fields[0].Effect,[as(fs(M.fields[0].Position)+fs(C),ds(M.fields[0].Position)+ds(C)),M.fields[0].Size]);else if(3===M.tag){f(),a=null;const n=pn(T,us(M.fields[0].Size),ss(M.fields[0].Size));let r;ml(e,Pn),Al(e,0,n),hl(e,us(M.fields[0].Size),ss(M.fields[0].Size)),wl(e,us(M.fields[0].Size),ss(M.fields[0].Size)),r=new Float64Array([e.COLOR_ATTACHMENT0]),e.drawBuffers(r);for(let e=0;e<=M.fields[0].Children.length-1;e++)t(T+1,M.fields[0].Size,hs(),1,new ms(0,"Default"),M.fields[0].Children[e]);f(),a=null,yl(e),hl(e,us(E),ss(E)),d([E,P],M.fields[0].Shader,new Ql(n,M.fields[0].Size,hs(),M.fields[0].Size),null,null,[(x=hs(),as(fs(x)+fs(C),ds(x)+ds(C))),M.fields[0].Size])}else{if(2===M.tag){M.fields[0].Last=M.fields[0].Render(n),r=T,i=E,o=C,u=P,c=R,g=M.fields[0].Last;continue e}if(4===M.tag){r=T,i=E,o=C,u=P,c=R,g=M.fields[0].Last;continue e}if(5===M.tag){r=T,i=E,o=C,u=P,c=R,g=M.fields[0].Last;continue e}if(6===M.tag);else if(7===M.tag){if(M.fields[0].Count<5){r=T,i=E,o=C,u=P,c=R,g=M.fields[0].Child;continue e}if(7!==M.tag)throw new Error("The match cases were incomplete");if(null==M.fields[0].Texture){ve(M.fields[0],w);let n,r;var S,b;switch(null!=(r=fr(h,wn))&&Le(r.Size,M.fields[0].Size)?(S=0,b=r):S=1,S){case 0:n=b;break;case 1:if(null==r){const t=gl(e,us(M.fields[0].Size),ss(M.fields[0].Size)),r=gl(e,us(M.fields[0].Size),ss(M.fields[0].Size)),i=new ec(M.fields[0].Size,t,r);wn.push(i),n=i}else{const t=r;vl(e,t.GroupTexture);const i=gl(e,us(M.fields[0].Size),ss(M.fields[0].Size));vl(e,t.HeightMapTexture);const o=gl(e,us(M.fields[0].Size),ss(M.fields[0].Size)),u=new ec(M.fields[0].Size,i,o);wn[h]=u,n=u}}let i,o;h+=1,f(),a=null,ml(e,Pn),Al(e,0,n.GroupTexture),hl(e,us(n.Size),ss(M.fields[0].Size)),wl(e,us(M.fields[0].Size),ss(M.fields[0].Size)),i=new Float64Array([e.COLOR_ATTACHMENT0]),e.drawBuffers(i),t(T,M.fields[0].Size,hs(),1,new ms(0,"Default"),M.fields[0].Child),M.fields[0].Texture=n.GroupTexture,ml(e,Pn),Al(e,0,n.HeightMapTexture),hl(e,us(n.Size),ss(M.fields[0].Size)),wl(e,us(M.fields[0].Size),ss(M.fields[0].Size)),o=new Float64Array([e.COLOR_ATTACHMENT0]),e.drawBuffers(o),t(T,M.fields[0].Size,hs(),1,new ms(1,"HeightMap"),M.fields[0].Child),M.fields[0].HeightMapTexture=n.HeightMapTexture,f(),a=null,yl(e),hl(e,us(E),ss(E))}d([E,P],R,new Ql(M.fields[0].Texture,M.fields[0].Size,hs(),M.fields[0].Size),new Ql(M.fields[0].HeightMapTexture,M.fields[0].Size,hs(),M.fields[0].Size),null,[(m=hs(),as(fs(m)+fs(C),ds(m)+ds(C))),M.fields[0].Size])}else{const e=as(fs(M.fields[0].Position)+fs(C),ds(M.fields[0].Position)+ds(C));let n;n=Xn(M.fields[0].Shader,R);for(let r=0;r<=M.fields[0].Children.length-1;r++)t(T,E,e,P,n,M.fields[0].Children[r])}}}break}}(0,r.Resolution,as(0,0),r.Scale,new ms(0,"Default"),r.Content),f(),dr((function(e){e.Texture=null,e.HeightMapTexture=null}),w)}}}}(gc,vc);function Ec(e){pc.width=wc.clientWidth,pc.height=wc.clientHeight,Tl(new zs(3,"Resolution",~~pc.clientWidth,~~pc.clientHeight))}function Cc(e){const t=et();if(xc.length>0&&rt(t,mc())>=0){let e,n,r;dr((function(e){bl(e[1][1]),xc.splice(e[0],1)}),e=mr(n=lr((function(e){return rt(t,e[1][0])>=0}),r=pr((e,t)=>[e,t],xc))))}if(Ac.length>0){const e=function(e,t){e:for(;;){const n=e,r=t;if(Ac.length>0){const i=Ac[0];if(Ac.splice(0,1),0===i.tag){if(4===i.fields[0].tag){bc(!0),e=n,t=r;continue e}{const o=Kl(r,i.fields[0]);du(Tl,o[1]),e=n,t=o[0];continue e}}if(6===i.fields[0].tag){xc.push([i.fields[0].fields[0],i.fields[0].fields[1]]),mc(gr((function(e){return e[0]}),xc,{Compare:rt})[0]),e=n,t=r;continue e}{const o=Rl(et(),n,i.fields[0]);du(bl,o[1]),e=o[0],t=r;continue e}}return[n,r]}}(yc(),Sc());yc()===e[0]||(yc(e[0]),bc(!0)),Sc()===e[1]||Sc(e[1])}}function Pc(e){var t;bc()&&(bc(!1),Sc((t=dc(yc()),new _s(Sc().Scale,Sc().Resolution,t,Sc().MouseItem,Sc().DragItem,Sc().ClickItem,Sc().HoverItem,Sc().BlurItem))),function(e){const t=new Set([]);dr((function(e){let n;n=ve(e,t)}),Fl.keys()),function e(n){e:for(;;){const r=n;switch(r.tag){case 2:n=r.fields[0].Last;continue e;case 5:r.fields[0].Rendered||(r.fields[0].Last=r.fields[0].Render()),e(r.fields[0].Last),r.fields[0].Rendered=!1;break;case 1:case 3:r.fields[0].Children.forEach(e);break;case 0:case 6:break;case 7:n=r.fields[0].Child;continue e;default:t.delete(r.fields[0].Key);n=r.fields[0].Last;continue e}break}}(e),dr((function(e){Fl.delete(e)}),t),Bl.clear()}(Sc().Content)),Tc(et())(Sc())(yc())}function Rc(e){Cc(),Pc();window.requestAnimationFrame(Rc)}window.isTouch?(pc.ontouchstart=function(e){const t=e.touches[0].clientX,n=e.touches[0].clientY;Tl(new zs(0,"MouseDown",~~t,~~n)),e.preventDefault()},pc.ontouchmove=function(e){const t=e.touches[0].clientX,n=e.touches[0].clientY;Tl(new zs(1,"MouseMove",~~t,~~n,!1)),e.preventDefault()},pc.ontouchend=function(e){Tl(new zs(2,"MouseUp",0,0)),e.preventDefault()}):(pc.onmousemove=function(e){Tl(new zs(1,"MouseMove",~~e.x,~~e.y,!1))},pc.onmousedown=function(e){Tl(new zs(0,"MouseDown",~~e.x,~~e.y))},pc.onmouseup=function(e){Tl(new zs(2,"MouseUp",~~e.x,~~e.y))},pc.onmousewheel=function(e){Tl(new zs(0,"MouseDown",~~e.x,~~e.y)),Tl(new zs(1,"MouseMove",~~e.x+~~e.wheelDeltaX,~~e.y+~~e.wheelDeltaY,!0)),Tl(new zs(2,"MouseUp",~~e.x,~~e.y)),Tl(new zs(1,"MouseMove",~~e.x,~~e.y,!1))}),window.addEventListener("keydown",(function(e){dr((function(t){const n=e.key;1===n.length?t(n[0]):"Backspace"===n&&t("\b")}),Xn(Jl(),[],(function(e){return[e]})))})),window.onresize=function(e){Ec()},Ec(),function(){let e;ll(e=il.Delay((function(){return il.Bind(hc("Sprites.json"),(function(e){El((function(t){return wi(t,e)}));Rc();return il.Zero()}))})))}(),n.d(t,"getJson",(function(){return hc})),n.d(t,"holder",(function(){return wc})),n.d(t,"canvas",(function(){return pc})),n.d(t,"context",(function(){return gc})),n.d(t,"getTexure",(function(){return vc})),n.d(t,"postponedQueue",(function(){return xc})),n.d(t,"postponedQueueMinTime",(function(){return mc})),n.d(t,"messageQueue",(function(){return Ac})),n.d(t,"gameState",(function(){return yc})),n.d(t,"hostState",(function(){return Sc})),n.d(t,"redraw",(function(){return bc})),n.d(t,"renderer",(function(){return Tc})),n.d(t,"resize",(function(){return Ec})),n.d(t,"updateFrame",(function(){return Cc})),n.d(t,"renderFrame",(function(){return Pc})),n.d(t,"mainLoop",(function(){return Rc}))}]);