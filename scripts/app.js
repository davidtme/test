!function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";var r;function i(e,n){switch(n){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function o(e,n,t){const i=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(null!=i){const[e,o,u,c]=i;if(!function(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}(t=t||function(e,n){if(n&r.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}(u,n)).test(c))return function(e,n){const[t,r,i,o]=e;return{sign:r||"",prefix:i||"",digits:o,radix:n}}(i,t)}return null}function u(e,n,t,r){try{return[!0,function(e,n,t,r,u){const c=o(e,n,u);if(null!=c){let e=Number.parseInt(c.sign+c.digits,c.radix);if(!Number.isNaN(e)){const[n,o]=i(!0,r);!t&&10!==c.radix&&e>=n&&e<=o&&(e=e<<32-r>>32-r);const[u,s]=i(t,r);if(e>=u&&e<=s)return e}}throw new Error("Input string was not in a correct format.")}(e,n,t,r)]}catch(e){}return[!1,0]}function c(e){return-2147483648===e?e:-e}t.r(n),function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"}(r||(r={}));var s=null;try{s=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function l(e,n,t){this.low=0|e,this.high=0|n,this.unsigned=!!t}function f(e){return!0===(e&&e.__isLong__)}l.prototype.GetHashCode=function(){let e=this.unsigned?1:0;return e=((e=(e<<5)+e^this.high)<<5)+e^this.low},l.prototype.Equals=function(e){return D(this,e)},l.prototype.CompareTo=function(e){return H(this,e)},l.prototype.toString=function(e){return L(this,e)},l.prototype.toJSON=function(){return L(this)},l.prototype.__isLong__,Object.defineProperty(l.prototype,"__isLong__",{value:!0});var a={},d={};function h(e,n){var t,r,i;return n?(i=0<=(e>>>=0)&&e<256)&&(r=d[e])?r:(t=g(e,(0|e)<0?-1:0,!0),i&&(d[e]=t),t):(i=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(t=g(e,e<0?-1:0,!1),i&&(a[e]=t),t)}function w(e,n){if(isNaN(e))return n?A:b;if(n){if(e<0)return A;if(e>=y)return M}else{if(e<=-S)return F;if(e+1>=S)return P}return e<0?j(w(-e,n)):g(e%v|0,e/v|0,n)}function g(e,n,t){return new l(e,n,t)}var m=Math.pow;function p(e,n,t){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return b;if("number"==typeof n?(t=n,n=!1):n=!!n,(t=t||10)<2||36<t)throw RangeError("radix");var r=e.indexOf("-");if(r>0)throw Error("interior hyphen");if(0===r)return j(p(e.substring(1),n,t));for(var i=w(m(t,8)),o=b,u=0;u<e.length;u+=8){var c=Math.min(8,e.length-u),s=parseInt(e.substring(u,u+c),t);if(c<8)o=G(W(o,w(m(t,c))),w(s));else o=G(o=W(o,i),w(s))}return o.unsigned=n,o}function x(e,n){return"number"==typeof e?w(e,n):"string"==typeof e?p(e,n):g(e.low,e.high,"boolean"==typeof n?n:e.unsigned)}var v=4294967296,y=v*v,S=y/2,E=h(1<<24),b=h(0),A=h(0,!0),T=h(1),C=h(1,!0),R=h(-1),P=g(-1,2147483647,!1),M=g(-1,-1,!0),F=g(0,-2147483648,!1);function O(e){return e.unsigned?e.low>>>0:e.low}function z(e){return e.unsigned?(e.high>>>0)*v+(e.low>>>0):e.high*v+(e.low>>>0)}function L(e,n){if((n=n||10)<2||36<n)throw RangeError("radix");if(k(e))return"0";if(B(e)){if(D(e,F)){var t=w(n),r=X(e,t),i=V(W(r,t),e);return L(r,n)+O(i).toString(n)}return"-"+L(j(e),n)}for(var o=w(m(n,6),e.unsigned),u=e,c="";;){var s=X(u,o),l=(O(V(u,W(s,o)))>>>0).toString(n);if(k(u=s))return l+c;for(;l.length<6;)l="0"+l;c=""+l+c}}function k(e){return 0===e.high&&0===e.low}function B(e){return!e.unsigned&&e.high<0}function _(e){return 1==(1&e.low)}function D(e,n){return f(n)||(n=x(n)),(e.unsigned===n.unsigned||e.high>>>31!=1||n.high>>>31!=1)&&(e.high===n.high&&e.low===n.low)}function U(e,n){return H(e,n)<0}function N(e,n){return H(e,n)>0}function I(e,n){return H(e,n)>=0}function H(e,n){if(f(n)||(n=x(n)),D(e,n))return 0;var t=B(e),r=B(n);return t&&!r?-1:!t&&r?1:e.unsigned?n.high>>>0>e.high>>>0||n.high===e.high&&n.low>>>0>e.low>>>0?-1:1:B(V(e,n))?-1:1}function j(e){return!e.unsigned&&D(e,F)?F:G(q(e),T)}function G(e,n){f(n)||(n=x(n));var t=e.high>>>16,r=65535&e.high,i=e.low>>>16,o=65535&e.low,u=n.high>>>16,c=65535&n.high,s=n.low>>>16,l=0,a=0,d=0,h=0;return d+=(h+=o+(65535&n.low))>>>16,a+=(d+=i+s)>>>16,l+=(a+=r+c)>>>16,l+=t+u,g((d&=65535)<<16|(h&=65535),(l&=65535)<<16|(a&=65535),e.unsigned)}function V(e,n){return f(n)||(n=x(n)),G(e,j(n))}function W(e,n){if(k(e))return e.unsigned?A:b;if(f(n)||(n=x(n)),s)return g(s.mul(e.low,e.high,n.low,n.high),s.get_high(),e.unsigned);if(k(n))return e.unsigned?A:b;if(D(e,F))return _(n)?F:b;if(D(n,F))return _(e)?F:b;if(B(e))return B(n)?W(j(e),j(n)):j(W(j(e),n));if(B(n))return j(W(e,j(n)));if(U(e,E)&&U(n,E))return w(z(e)*z(n),e.unsigned);var t=e.high>>>16,r=65535&e.high,i=e.low>>>16,o=65535&e.low,u=n.high>>>16,c=65535&n.high,l=n.low>>>16,a=65535&n.low,d=0,h=0,m=0,p=0;return m+=(p+=o*a)>>>16,h+=(m+=i*a)>>>16,m&=65535,h+=(m+=o*l)>>>16,d+=(h+=r*a)>>>16,h&=65535,d+=(h+=i*l)>>>16,h&=65535,d+=(h+=o*c)>>>16,d+=t*a+r*l+i*c+o*u,g((m&=65535)<<16|(p&=65535),(d&=65535)<<16|(h&=65535),e.unsigned)}function X(e,n){if(f(n)||(n=x(n)),k(n))throw Error("division by zero");var t,r,i;if(s)return e.unsigned||-2147483648!==e.high||-1!==n.low||-1!==n.high?g((e.unsigned?s.div_u:s.div_s)(e.low,e.high,n.low,n.high),s.get_high(),e.unsigned):e;if(k(e))return e.unsigned?A:b;if(e.unsigned){if(n.unsigned||(n=function(e){return e.unsigned?e:g(e.low,e.high,!0)}(n)),N(n,e))return A;if(N(n,K(e,1)))return C;i=A}else{if(D(e,F))return D(n,T)||D(n,R)?F:D(n,F)?T:D(t=Y(X($(e,1),n),1),b)?B(n)?T:R:i=G(t,X(r=V(e,W(n,t)),n));if(D(n,F))return e.unsigned?A:b;if(B(e))return B(n)?X(j(e),j(n)):j(X(j(e),n));if(B(n))return j(X(e,j(n)));i=b}for(r=e;I(r,n);){t=Math.max(1,Math.floor(z(r)/z(n)));for(var o=Math.ceil(Math.log(t)/Math.LN2),u=o<=48?1:m(2,o-48),c=w(t),l=W(c,n);B(l)||N(l,r);)l=W(c=w(t-=u,e.unsigned),n);k(c)&&(c=T),i=G(i,c),r=V(r,l)}return i}function q(e){return g(~e.low,~e.high,e.unsigned)}function Y(e,n){return f(n)&&(n=O(n)),0==(n&=63)?e:n<32?g(e.low<<n,e.high<<n|e.low>>>32-n,e.unsigned):g(0,e.low<<n-32,e.unsigned)}function $(e,n){return f(n)&&(n=O(n)),0==(n&=63)?e:n<32?g(e.low>>>n|e.high<<32-n,e.high>>n,e.unsigned):g(e.high>>n-32,e.high>=0?0:-1,e.unsigned)}function K(e,n){if(f(n)&&(n=O(n)),0===(n&=63))return e;var t=e.high;return n<32?g(e.low>>>n|t<<32-n,t>>>n,e.unsigned):g(32===n?t:t>>>n-32,0,e.unsigned)}var J=l;const Z=G,Q=W,ee=X,ne=function(e,n){return f(n)||(n=x(n)),s?g((e.unsigned?s.rem_u:s.rem_s)(e.low,e.high,n.low,n.high),s.get_high(),e.unsigned):V(e,W(X(e,n),n))},te=j,re=function(e,n){return f(n)||(n=x(n)),g(e.low&n.low,e.high&n.high,e.unsigned)},ie=H,oe=g,ue=function(e,n,t){return t?function(e,n){return new l(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)}(e,n):function(e,n){return new l(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)}(e,n)},ce=w,se=O,le=function(e,n){return n?function(e){var n=e.high,t=e.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&n,n>>>8&255,n>>>16&255,n>>>24]}(e):function(e){var n=e.high,t=e.low;return[n>>>24,n>>>16&255,n>>>8&255,255&n,t>>>24,t>>>16&255,t>>>8&255,255&t]}(e)},fe=z,ae=L;function de(e,n,t){let r=e,i=0;switch(t){case 0:i=r=e<<24>>24;break;case 4:r=e<<24>>>24;break;case 1:i=r=e<<16>>16;break;case 5:r=e<<16>>>16;break;case 2:i=r=e>>0;break;case 6:r=e>>>0}return g(r,i>>31,n)}function he(e,n,t,r,i){const u=o(e,n,i);if(null!=u){const n=(e,n)=>{const t=Math.max(e.length,n.length);return e.padStart(t,"0")<=n.padStart(t,"0")},r="-"===u.sign,i=function(e,n,t){switch(n){case 2:return e?"1111111111111111111111111111111111111111111111111111111111111111":t?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return e?"1777777777777777777777":t?"1000000000000000000000":"777777777777777777777";case 10:return e?"18446744073709551615":t?"9223372036854775808":"9223372036854775807";case 16:return e?"FFFFFFFFFFFFFFFF":t?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}(t||10!==u.radix,u.radix,r);if(n(u.digits.toUpperCase(),i))return p(e=r?u.sign+u.digits:u.digits,t,u.radix)}throw new Error("Input string was not in a correct format.")}function we(e,n,t,r){try{return[!0,he(e,n,t)]}catch(e){}return[!1,b]}function ge(e){return null!=e&&"function"==typeof e.Dispose}function me(e,n,t){return e.has(n)?[!0,e.get(n)]:[!1,t]}function pe(e,n){return!n.has(e)&&(n.add(e),!0)}class xe{constructor(e){this.factory=e,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function ve(e){const n=e;return"number"==typeof n.offset?n.offset:1===e.kind?0:-6e4*e.getTimezoneOffset()}function ye(e,n){return(e=e<0&&null!=n&&10!==n?4294967295+e+1:e).toString(n)}class Se{static id(e){return Se.idMap.has(e)||Se.idMap.set(e,++Se.count),Se.idMap.get(e)}}function Ee(e){let n=0,t=5381;const r=e.length;for(;n<r;)t=33*t^e.charCodeAt(n++);return t}function be(e){return 2654435761*e|0}function Ae(e){return 0===e.length?0:e.reduce((e,n)=>(e<<5)+e^n)}function Te(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return be(e);case"string":return Ee(e);default:return be(Se.id(e))}}function Ce(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return be(e);case"string":return Ee(e);default:if("function"==typeof e.GetHashCode)return e.GetHashCode();if(Re(e)){const n=e,t=n.length,r=new Array(t);for(let e=0;e<t;e++)r[e]=Ce(n[e]);return Ae(r)}return Ee(String(e))}}function Re(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Pe(e,n,t){if(null==e)return null==n;if(null==n)return!1;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}function Me(e,n){return Pe(e,n,Fe)}function Fe(e,n){return e===n||(null==e?null==n:null!=n&&("object"==typeof e&&("function"==typeof e.Equals?e.Equals(n):Re(e)?Re(n)&&Me(e,n):e instanceof Date&&(n instanceof Date&&0===Oe(e,n)))))}function Oe(e,n){let t,r;return"offset"in e&&"offset"in n?(t=e.getTime(),r=n.getTime()):(t=e.getTime()+ve(e),r=n.getTime()+ve(n)),t===r?0:t<r?-1:1}function ze(e,n){return e===n?0:e<n?-1:1}function Le(e,n,t){if(null==e)return null==n?0:1;if(null==n)return-1;if(e.length!==n.length)return e.length<n.length?-1:1;for(let r=0,i=0;r<e.length;r++)if(0!==(i=t(e[r],n[r])))return i;return 0}function ke(e,n){return Le(e,n,Be)}function Be(e,n){return e===n?0:null==e?null==n?0:-1:null==n?1:"object"!=typeof e?e<n?-1:1:"function"==typeof e.CompareTo?e.CompareTo(n):Re(e)?Re(n)&&ke(e,n):e instanceof Date?n instanceof Date&&Oe(e,n):1}function _e(e,n,t){return e(n,t)<0?n:t}function De(e,n,t){return e(n,t)>0?n:t}function Ue(e){let n=e;return e=>void 0===e?n:void(n=e)}Se.idMap=new WeakMap,Se.count=0;const Ne={None:0,LowerFirst:1,SnakeCase:2,SnakeCaseAllCaps:3,KebabCase:4};function Ie(e,n){return e.replace(/[a-z]?[A-Z]/g,e=>1===e.length?e.toLowerCase():e.charAt(0)+n+e.charAt(1).toLowerCase())}function He(e,n){switch(n){case Ne.LowerFirst:return e.charAt(0).toLowerCase()+e.slice(1);case Ne.SnakeCase:return Ie(e,"_");case Ne.SnakeCaseAllCaps:return Ie(e,"_").toUpperCase();case Ne.KebabCase:return Ie(e,"-");case Ne.None:default:return e}}const je="__CURRIED__";function Ge(e,n){if(null==n)return null;if(n.length>1)return n;let t;switch(e){case 2:t=(e,t)=>n(e)(t);break;case 3:t=(e,t,r)=>n(e)(t)(r);break;case 4:t=(e,t,r,i)=>n(e)(t)(r)(i);break;case 5:t=(e,t,r,i,o)=>n(e)(t)(r)(i)(o);break;case 6:t=(e,t,r,i,o,u)=>n(e)(t)(r)(i)(o)(u);break;case 7:t=(e,t,r,i,o,u,c)=>n(e)(t)(r)(i)(o)(u)(c);break;case 8:t=(e,t,r,i,o,u,c,s)=>n(e)(t)(r)(i)(o)(u)(c)(s);break;default:throw new Error("Uncurrying to more than 8-arity is not supported: "+e)}return t[je]=n,t}function Ve(e,n,t){if(null==n)return null;if(je in n){n=n[je];for(let e=0;e<t.length;e++)n=n(t[e]);return n}switch(e){case 1:return e=>n.apply(null,t.concat([e]));case 2:return e=>r=>n.apply(null,t.concat([e,r]));case 3:return e=>r=>i=>n.apply(null,t.concat([e,r,i]));case 4:return e=>r=>i=>o=>n.apply(null,t.concat([e,r,i,o]));case 5:return e=>r=>i=>o=>u=>n.apply(null,t.concat([e,r,i,o,u]));case 6:return e=>r=>i=>o=>u=>c=>n.apply(null,t.concat([e,r,i,o,u,c]));case 7:return e=>r=>i=>o=>u=>c=>s=>n.apply(null,t.concat([e,r,i,o,u,c,s]));case 8:return e=>r=>i=>o=>u=>c=>s=>l=>n.apply(null,t.concat([e,r,i,o,u,c,s,l]));default:throw new Error("Partially applying to more than 8-arity is not supported: "+e)}}function We(e,n){function t(e,n,r,i){const o=r[i];if(0!==o){const e=o[0],t=o[1];e>1&&(n=function(e,n){if(null==n)return null;if(je in n)return n[je];switch(e){case 2:return e=>t=>n(e,t);case 3:return e=>t=>r=>n(e,t,r);case 4:return e=>t=>r=>i=>n(e,t,r,i);case 5:return e=>t=>r=>i=>o=>n(e,t,r,i,o);case 6:return e=>t=>r=>i=>o=>u=>n(e,t,r,i,o,u);case 7:return e=>t=>r=>i=>o=>u=>c=>n(e,t,r,i,o,u,c);case 8:return e=>t=>r=>i=>o=>u=>c=>s=>n(e,t,r,i,o,u,c,s);default:throw new Error("Currying to more than 8-arity is not supported: "+e)}}(e,n)),t>1&&(n=Ge(t,n))}const u=e(n);return i+1===r.length?u:e=>t(u,e,r,i+1)}return r=>t(e,r,n,0)}function Xe(e,n,t){if(e.has(n))throw new Error("An item with the same key has already been added. Key: "+n);e.set(n,t)}function qe(e,n){if(e.has(n))return e.get(n);throw new Error(`The given key '${n}' was not present in the dictionary.`)}const Ye=/(?:Z|[+-](\d+):?([0-5]?\d)?)\s*$/;function $e(e,n){const t=new Date(e);return t.kind=0|(null==n?0:n),t}function Ke(){return $e(-621355968e5,0)}function Je(){return $e(0xe677d21fdbff,0)}function Ze(e){let n=new Date(e);if(isNaN(n.getTime())){const t=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*([+-]\d+(?::\d+)?)?\s*$/.exec(e);if(null==t)throw new Error("The string is not a valid Date.");{let e=null,r=0;if(null!=t[2]){const e=t[2].split(":");r=3600*parseInt(e[0],10)+60*parseInt(e[1]||"0",10)+parseFloat(e[2]||"0"),null!=t[3]&&"PM"===t[3].toUpperCase()&&(r+=720)}if(null!=t[4]){if(null!=t[1])e=new Date(t[1]+" UTC");else{const n=new Date;e=new Date(n.getUTCFullYear()+"/"+(n.getUTCMonth()+1)+"/"+n.getUTCDate())}const n=t[4].substr(1).split(":");let i=60*parseInt(n[0],10)+parseInt(n[1]||"0",10);"+"===t[4][0]&&(i*=-1),r+=60*i}else if(null!=t[1])e=new Date(t[1]);else{const n=new Date;e=new Date(n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate())}n=new Date(e.getTime()+1e3*r),n=new Date(n.getTime()+6e4*(n.getTimezoneOffset()-e.getTimezoneOffset()))}}return n}function Qe(e,n=!1){const t=Ze(e),r=Ye.exec(e),i=null!=r?n&&"Z"===r[0]?1:2:0;return $e(t.getTime(),i)}function en(){return $e(Date.now(),2)}function nn(e,n){const t=$e(e.getTime()+n,e.kind);if(2===e.kind){const n=e.getTimezoneOffset(),r=t.getTimezoneOffset();return n!==r?$e(t.getTime()+6e4*(r-n),e.kind):t}return t}function tn(e,n){return e.getTime()===n.getTime()}const rn=Oe;function on(e,n){return t=e,"number"==typeof(r=n)?nn(t,-r):t.getTime()-r.getTime();var t,r}var un={GetHashCode(){return Ae([this.s,this.e].concat(this.c))},Equals(e){return!this.cmp(e)},CompareTo(e){return this.cmp(e)}},cn=28,sn=1,ln=1e6,fn=-29,an=29,dn="[big.js] ",hn=dn+"Invalid ",wn=hn+"decimal places",gn=hn+"rounding mode",mn=void 0,pn=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function xn(e,n){var t,r,i;if(0===n&&1/n<0)n="-0";else if(!pn.test(n+=""))throw Error(hn+"number");for(e.s="-"==n.charAt(0)?(n=n.slice(1),-1):1,(t=n.indexOf("."))>-1&&(n=n.replace(".","")),(r=n.search(/e/i))>0?(t<0&&(t=r),t+=+n.slice(r+1),n=n.substring(0,r)):t<0&&(t=n.length),i=n.length,r=0;r<t&&r<i&&"0"==n.charAt(r);)++r;if(r==i)e.c=[e.e=0];else for(e.e=t-r-1,e.c=[],t=0;r<i;)e.c[t++]=+n.charAt(r++);return e=vn(e,Sn.DP,Sn.RM)}function vn(e,n,t,r){var i=e.c,o=e.e+n+1;if(o<i.length){if(1===t)r=i[o]>=5;else if(2===t)r=i[o]>5||5==i[o]&&(r||o<0||i[o+1]!==mn||1&i[o-1]);else if(3===t)r=r||!!i[0];else if(r=!1,0!==t)throw Error(gn);if(o<1)i.length=1,r?(e.e=-n,i[0]=1):i[0]=e.e=0;else{if(i.length=o--,r)for(;++i[o]>9;)i[o]=0,o--||(++e.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(t<0||t>3||t!==~~t)throw Error(gn);return e}function yn(e,n,t,r){var i,o,u=e.constructor,c=!e.c[0];if(t!==mn){if(t!==~~t||t<(3==n)||t>ln)throw Error(3==n?hn+"precision":wn);for(t=r-(e=new u(e)).e,e.c.length>++r&&vn(e,t,u.RM),2==n&&(r=e.e+t+1);e.c.length<r;)e.c.push(0)}if(i=e.e,t=(o=e.c.join("")).length,2!=n&&(1==n||3==n&&r<=i||i<=u.NE||i>=u.PE))o=o.charAt(0)+(t>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>t)for(i-=t;i--;)o+="0";else i<t&&(o=o.slice(0,i)+"."+o.slice(i));else t>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&(!c||4==n)?"-"+o:o}un.abs=function(){var e=new this.constructor(this);return e.s=1,e},un.cmp=function(e){var n,t=this.constructor,r=new t(this),i=(e=new t(e),r.c),o=e.c,u=r.s,c=e.s,s=r.e,l=e.e;if(!i[0]||!o[0])return i[0]?u:o[0]?-c:0;if(u!=c)return u;if(n=u<0,s!=l)return s>l^n?1:-1;for(c=Math.max(i.length,o.length),u=0;u<c;u++)if((s=u<i.length?i[u]:0)!=(l=u<o.length?o[u]:0))return s>l^n?1:-1;return 0},un.div=function(e){var n=this.constructor,t=new n(this),r=(e=new n(e),t.c),i=e.c,o=t.s==e.s?1:-1,u=n.DP;if(u!==~~u||u<0||u>ln)throw Error(wn);if(!i[0])throw Error("[big.js] Division by zero");if(!r[0])return new n(0*o);var c,s,l,f,a,d=i.slice(),h=c=i.length,w=r.length,g=r.slice(0,c),m=g.length,p=e,x=p.c=[],v=0,y=u+(p.e=t.e-e.e)+1;for(p.s=o,o=y<0?0:y,d.unshift(0);m++<c;)g.push(0);do{for(l=0;l<10;l++){if(c!=(m=g.length))f=c>m?1:-1;else for(a=-1,f=0;++a<c;)if(i[a]!=g[a]){f=i[a]>g[a]?1:-1;break}if(!(f<0))break;for(s=m==c?i:d;m;){if(g[--m]<s[m]){for(a=m;a&&!g[--a];)g[a]=9;--g[a],g[m]+=10}g[m]-=s[m]}for(;!g[0];)g.shift()}x[v++]=f?l:++l,g[0]&&f?g[m]=r[h]||0:g=[r[h]]}while((h++<w||g[0]!==mn)&&o--);return x[0]||1==v||(x.shift(),p.e--),v>y&&vn(p,u,n.RM,g[0]!==mn),p},un.eq=function(e){return!this.cmp(e)},un.gt=function(e){return this.cmp(e)>0},un.gte=function(e){return this.cmp(e)>-1},un.lt=function(e){return this.cmp(e)<0},un.lte=function(e){return this.cmp(e)<1},un.minus=un.sub=function(e){var n,t,r,i,o=this.constructor,u=new o(this),c=(e=new o(e),u.s),s=e.s;if(c!=s)return e.s=-s,u.plus(e);var l=u.c.slice(),f=u.e,a=e.c,d=e.e;if(!l[0]||!a[0])return a[0]?(e.s=-s,e):new o(l[0]?u:0);if(c=f-d){for((i=c<0)?(c=-c,r=l):(d=f,r=a),r.reverse(),s=c;s--;)r.push(0);r.reverse()}else for(t=((i=l.length<a.length)?l:a).length,c=s=0;s<t;s++)if(l[s]!=a[s]){i=l[s]<a[s];break}if(i&&(r=l,l=a,a=r,e.s=-e.s),(s=(t=a.length)-(n=l.length))>0)for(;s--;)l[n++]=0;for(s=n;t>c;){if(l[--t]<a[t]){for(n=t;n&&!l[--n];)l[n]=9;--l[n],l[t]+=10}l[t]-=a[t]}for(;0===l[--s];)l.pop();for(;0===l[0];)l.shift(),--d;return l[0]||(e.s=1,l=[d=0]),e.c=l,e.e=d,e},un.mod=function(e){var n,t=this.constructor,r=new t(this),i=(e=new t(e),r.s),o=e.s;if(!e.c[0])throw Error("[big.js] Division by zero");return r.s=e.s=1,n=1==e.cmp(r),r.s=i,e.s=o,n?new t(r):(i=t.DP,o=t.RM,t.DP=t.RM=0,r=r.div(e),t.DP=i,t.RM=o,this.minus(r.times(e)))},un.plus=un.add=function(e){var n,t=this.constructor,r=new t(this),i=(e=new t(e),r.s),o=e.s;if(i!=o)return e.s=-o,r.minus(e);var u=r.e,c=r.c,s=e.e,l=e.c;if(!c[0]||!l[0])return l[0]?e:new t(c[0]?r:0*i);if(c=c.slice(),i=u-s){for(i>0?(s=u,n=l):(i=-i,n=c),n.reverse();i--;)n.push(0);n.reverse()}for(c.length-l.length<0&&(n=l,l=c,c=n),i=l.length,o=0;i;c[i]%=10)o=(c[--i]=c[i]+l[i]+o)/10|0;for(o&&(c.unshift(o),++s),i=c.length;0===c[--i];)c.pop();return e.c=c,e.e=s,e},un.pow=function(e){var n=this.constructor,t=new n(this),r=new n(1),i=new n(1),o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(hn+"exponent");for(o&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return o?i.div(r):r},un.round=function(e,n){var t=this.constructor;if(e===mn)e=0;else if(e!==~~e||e<-ln||e>ln)throw Error(wn);return vn(new t(this),e,n===mn?t.RM:n)},un.sqrt=function(){var e,n,t,r=this.constructor,i=new r(this),o=i.s,u=i.e,c=new r(.5);if(!i.c[0])return new r(i);if(o<0)throw Error(dn+"No square root");0===(o=Math.sqrt(i+""))||o===1/0?((n=i.c.join("")).length+u&1||(n+="0"),u=((u+1)/2|0)-(u<0||1&u),e=new r(((o=Math.sqrt(n))==1/0?"1e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+u)):e=new r(o),u=e.e+(r.DP+=4);do{t=e,e=c.times(t.plus(i.div(t)))}while(t.c.slice(0,u).join("")!==e.c.slice(0,u).join(""));return vn(e,r.DP-=4,r.RM)},un.times=un.mul=function(e){var n,t=this.constructor,r=new t(this),i=(e=new t(e),r.c),o=e.c,u=i.length,c=o.length,s=r.e,l=e.e;if(e.s=r.s==e.s?1:-1,!i[0]||!o[0])return new t(0*e.s);for(e.e=s+l,u<c&&(n=i,i=o,o=n,l=u,u=c,c=l),n=new Array(l=u+c);l--;)n[l]=0;for(s=c;s--;){for(c=0,l=u+s;l>s;)c=n[l]+o[s]*i[l-s-1]+c,n[l--]=c%10,c=c/10|0;n[l]=(n[l]+c)%10}for(c?++e.e:n.shift(),s=n.length;!n[--s];)n.pop();return e.c=n,e},un.toExponential=function(e){return yn(this,1,e,e)},un.toFixed=function(e){return yn(this,2,e,this.e+e)},un.toPrecision=function(e){return yn(this,3,e,e-1)},un.toString=function(){return yn(this)},un.valueOf=un.toJSON=function(){return yn(this,4)};var Sn=function e(){function n(t){var r=this;if(!(r instanceof n))return t===mn?e():new n(t);t instanceof n?(r.s=t.s,r.e=t.e,r.c=t.c.slice(),function(e){if((e=vn(e,cn,0)).c.length>1&&!e.c[0]){let n=e.c.findIndex(e=>e);e.c=e.c.slice(n),e.e=e.e-n}}(r)):xn(r,t),r.constructor=n}return n.prototype=un,n.DP=cn,n.RM=sn,n.NE=fn,n.PE=an,n.version="5.2.2",n}(),En=Sn,bn=En;const An=new En(0);new En(1),new En(-1),new En("79228162514264337593543950335"),new En("-79228162514264337593543950335");function Tn(e){try{return[!0,new En(e.trim())]}catch(e){return[!1,An]}}function Cn(e){return e.replace(/[\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}const Rn=/(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w)/,Pn=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mn(e){return"number"==typeof e||e instanceof J||e instanceof bn}function Fn(e,n){return e instanceof J?ie(e,n)<0:e instanceof bn?e.cmp(n)<0:e<n}function On(e,n){return e instanceof J?Q(e,n):e instanceof bn?e.mul(n):e*n}function zn(e,n){return e instanceof J?String(e)+(0).toFixed(n).substr(1):e.toFixed(n)}function Ln(e,n){return e instanceof J?String(e)+(0).toPrecision(n).substr(1):e.toPrecision(n)}function kn(e,n){return e instanceof J?String(e)+(0).toExponential(n).substr(1):e.toExponential(n)}function Bn(e){return e instanceof J?ae(e.unsigned?e:ue(le(e),!0),16):(Number(e)>>>0).toString(16)}function _n(e){return{input:e,cont:(n=e,e=>Rn.test(n)?function e(n,t){return(...r)=>{let i=n;for(const e of r)i=Nn(i,e);return Rn.test(i)?e(i,t):t(i.replace(/%%/g,"%"))}}(n,e):e(n))};var n}function Dn(e){return e.cont(e=>e)}function Un(e){return e.cont(e=>{throw new Error(e)})}function Nn(e,n){return e.replace(Rn,(e,t,r,i,o,u)=>{let c="";if(Mn(n))switch("x"!==u.toLowerCase()&&(Fn(n,0)?(n=On(n,-1),c="-"):r.indexOf(" ")>=0?c=" ":r.indexOf("+")>=0&&(c="+")),o=null==o?null:parseInt(o,10),u){case"f":case"F":n=zn(n,o=null!=o?o:6);break;case"g":case"G":n=null!=o?Ln(n,o):Ln(n);break;case"e":case"E":n=null!=o?kn(n,o):kn(n);break;case"x":n=Bn(n);break;case"X":n=Bn(n).toUpperCase();break;default:n=String(n)}if(i=parseInt(i,10),isNaN(i))n=c+n;else{const e=r.indexOf("0")>=0,t=r.indexOf("-")>=0,o=t||!e?" ":"0";n="0"===o?c+(n=Gn(n,i-c.length,o,t)):Gn(c+n,i,o,t)}return(t+n).replace(/%/g,"%%")})}function In(e,n){return Array.isArray(n)?n.join(e):Array.from(n).join(e)}function Hn(e,n){const t=function(e,...n){if(0===n.length)return e.trim();const t="["+Cn(n.join(""))+"]+";return e.replace(new RegExp("^"+t),"").replace(new RegExp(t+"$"),"")}(e,"{","}").toLowerCase();if(Pn.test(t))return n?[!0,t]:t;if(n)return[!1,"00000000-0000-0000-0000-000000000000"];throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function jn(){let e="";for(let n=0;n++<36;)e+=51*n&52?(15^n?8^Math.random()*(20^n?16:4):4).toString(16):"-";return e}function Gn(e,n,t,r){t=t||" ",n-=e.length;for(let i=0;i<n;i++)e=r?e+t:t+e;return e}function Vn(e,n,t,r){if(r="number"==typeof r?r:null,(t="number"==typeof t?t:null)<0)throw new Error("Count cannot be less than zero");if(0===t)return[];if(!Array.isArray(n)){if(0===r)return e.split(n,t);const i=arguments.length;n=Array(i-1);for(let e=1;e<i;e++)n[e-1]=arguments[e]}n=(n=n.map(e=>Cn(e))).length>0?n:[" "];let i=0;const o=[],u=new RegExp(n.join("|"),"g");for(;null==t||t>1;){const n=u.exec(e);if(null===n)break;(!r||n.index-i>0)&&(t=null!=t?t-1:t,o.push(e.substring(i,n.index))),i=u.lastIndex}return(!r||e.length-i>0)&&o.push(e.substring(i)),o}function Wn(e,n){return null!=n&&Object.getPrototypeOf(e).constructor===Object.getPrototypeOf(n).constructor}function Xn(e,n){return function(e,n){e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}(e,n||qn),e}function qn(){}function Yn(e,n){if(e===n)return 0;if(null==n)return-1;for(;null!=e.tail;){if(null==n.tail)return 1;const t=Be(e.head,n.head);if(0!==t)return t;e=e.tail,n=n.tail}return null==n.tail?0:-1}function $n(e,n){this.head=e,this.tail=n}function Kn(e,n,...t){this.tag=0|e,this.name=n,this.fields=t}function Jn(e,n){const t={},r=null==n?Object.keys(e):n(e);for(let n=0;n<r.length;n++)t[r[n]]=e[r[n]];return t}function Zn(e,n,t){if(e===n)return!0;if(Wn(e,n)){const r=null==t?Object.keys(e):t(e);for(let t=0;t<r.length;t++)if(!Fe(e[r[t]],n[r[t]]))return!1;return!0}return!1}function Qn(e,n,t){if(e===n)return 0;if(Wn(e,n)){const r=null==t?Object.keys(e):t(e);for(let t=0;t<r.length;t++){const i=Be(e[r[t]],n[r[t]]);if(0!==i)return i}return 0}return-1}function et(){}qn.prototype.toString=function(){return"{"+Object.keys(this).map(e=>e+" = "+String(this[e])).join(";\n ")+"}"},qn.prototype.GetHashCode=function(){return Te(this)},qn.prototype.Equals=function(e){return this===e},$n.prototype.toString=function(){return"["+Array.from(this).map(e=>String(e)).join("; ")+"]"},$n.prototype.toJSON=function(){return Array.from(this)},$n.prototype[Symbol.iterator]=function(){let e=this;return{next:()=>{const n=e;return e=e.tail,{done:null==n.tail,value:n.head}}}},$n.prototype.GetHashCode=function(){return Ae(Array.from(this).map(Ce))},$n.prototype.Equals=function(e){return 0===Yn(this,e)},$n.prototype.CompareTo=function(e){return Yn(this,e)},Kn.prototype.toString=function(){const e=this.fields.length;return 0===e?this.name:1===e?this.name+" "+String(this.fields[0]):this.name+" ("+this.fields.map(e=>String(e)).join(",")+")"},Kn.prototype.toJSON=function(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)},Kn.prototype.GetHashCode=function(){const e=this.fields.map(e=>Ce(e));return e.splice(0,0,be(this.tag)),Ae(e)},Kn.prototype.Equals=function(e){return this===e||Wn(this,e)&&this.tag===e.tag&&Me(this.fields,e.fields)},Kn.prototype.CompareTo=function(e){return this===e?0:Wn(this,e)?this.tag===e.tag?ke(this.fields,e.fields):this.tag<e.tag?-1:1:-1},et.prototype.toString=function(){return"{"+Object.keys(this).map(e=>e+" = "+String(this[e])).join(";\n ")+"}"},et.prototype.toJSON=function(){return Jn(this)},et.prototype.GetHashCode=function(){return Ae(Object.keys(this).map(e=>Ce(this[e])))},et.prototype.Equals=function(e){return Zn(this,e)},et.prototype.CompareTo=function(e){return Qn(this,e)};const nt=Xn((function(e){this.contents=e}),et),tt=Xn((function(e){this.stack=Error().stack,this.message=e}));function rt(e){return Object.keys(e).filter(e=>"message"!==e&&"stack"!==e)}const it=Xn((function(){tt.call(this)}),tt);it.prototype.toString=function(){const e=rt(this),n=e.length;return 0===n?this.message:1===n?this.message+" "+String(this[e[0]]):this.message+" ("+e.map(e=>String(this[e])).join(",")+")"},it.prototype.toJSON=function(){return Jn(this,rt)},it.prototype.GetHashCode=function(){return Ae(rt(this).map(e=>Ce(this[e])))},it.prototype.Equals=function(e){return Zn(this,e,rt)},it.prototype.CompareTo=function(e){return Qn(this,e,rt)};Xn((function(e,n,t){this.arg1=e,this.arg2=0|n,this.arg3=0|t,this.message="The match cases were incomplete"}),it),Xn((function(){}));class ot{constructor(e,n,t,r){this.declaringType=e,this.tag=n,this.name=t,this.fields=r}}class ut{constructor(e,n,t,r,i,o){this.fullname=e,this.generics=n,this.constructor=t,this.fields=r,this.cases=i,this.enumCases=o}toString(){return yt(this)}Equals(e){return st(this,e)}CompareTo(e){return lt(this,e)}}function ct(e){return null!=e.generics?e.generics:[]}function st(e,n){return""===e.fullname?""===n.fullname&&Pe(Ot(e),Ot(n),([e,n],[t,r])=>e===t&&st(n,r)):e.fullname===n.fullname&&Pe(ct(e),ct(n),st)}function lt(e,n){return e.fullname!==n.fullname?e.fullname<n.fullname?-1:1:Le(ct(e),ct(n),lt)}function ft(e,n){return new ut(e,n)}function at(e,n,t,r){return new ut(e,n,t,r)}function dt(e,n,t,r){const i=new ut(e,n,t,null,()=>r().map((e,n)=>"string"==typeof e?new ot(i,n,e):new ot(i,n,e[0],e[1])));return i}function ht(e){return new ut("Microsoft.FSharp.Core.FSharpOption`1",[e])}function wt(e){return new ut("Microsoft.FSharp.Collections.FSharpList`1",[e])}function gt(e){return new ut(e.fullname+"[]",[e])}const mt=new ut("System.Object"),pt=(new ut("Microsoft.FSharp.Core.Unit"),new ut("System.Char"),new ut("System.String")),xt=(new ut("System.Boolean"),new ut("System.SByte"),new ut("System.Byte"),new ut("System.Int16"),new ut("System.UInt16"),new ut("System.Int32"));new ut("System.UInt32"),new ut("System.Single"),new ut("System.Double"),new ut("System.Decimal");function vt(e){if(Array.isArray(e))return e[0];if(e instanceof ot)return e.name;{const n=e.fullname.lastIndexOf(".");return-1===n?e.fullname:e.fullname.substr(n+1)}}function yt(e){const n=null==e.generics||St(e)?[]:e.generics;return n.length>0?e.fullname+"["+n.map(e=>yt(e)).join(",")+"]":e.fullname}function St(e){return e.fullname.endsWith("[]")}function Et(e){return St(e)?e.generics[0]:null}function bt(e){return null!=e.generics&&e.generics.length>0}function At(e){return null!=e.enumCases&&e.enumCases.length>0}function Tt(e){return null==e.generics?e:new ut(e.fullname,e.generics.map(()=>mt))}function Ct(e){return e.generics[0]}function Rt(e){if(At(e))return e.enumCases.map(e=>e[1]);throw new Error(`${e.fullname} is not an enum type`)}function Pt(e,n){if(null!=e.enumCases){if("string"==typeof n){for(const t of e.enumCases)if(t[0]===n)return t;throw new Error(`'${n}' was not found in ${e.fullname}`)}for(const t of e.enumCases)if(t[1]===n)return t;return[null,n]}throw new Error(`${e.fullname} is not an enum type`)}function Mt(e,n){const t=parseInt(n,10);return Pt(e,isNaN(t)?n:t)[1]}function Ft(e){if(null!=e.cases)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}function Ot(e){if(null!=e.fields)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function zt(e){if(Bt(e))return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}function Lt(e){return e instanceof ut?null!=e.cases:e instanceof Kn}function kt(e){return e instanceof ut?null!=e.fields:e instanceof et}function Bt(e){return e.fullname.startsWith("System.Tuple")}function _t(e){return null==e.fields?[]:e.fields.map((e,n)=>["Data"+n,e])}function Dt(e,n){const t=(e.fields||[]).length;if(n.length!==t)throw new Error(`Expected an array of length ${t} but got ${n.length}`);return new e.declaringType.constructor(e.tag,e.name,...n)}function Ut(e,n){const t=Ot(e);if(t.length!==n.length)throw new Error(`Expected an array of length ${t.length} but got ${n.length}`);return null!=e.constructor?new e.constructor(...n):(r=t.reduce((e,[t,r],i)=>(e[t]=n[i],e),{}),Object.assign(Object.create(et.prototype),r));var r}class Nt{constructor(e){this.value=e}toString(){return String(this.value)}toJSON(){return this.value}GetHashCode(){return Ce(this.value)}Equals(e){return null!=e&&Fe(this.value,e instanceof Nt?e.value:e)}CompareTo(e){return null==e?1:Be(this.value,e instanceof Nt?e.value:e)}}function It(e){return null==(e=void 0===e?null:e)||e instanceof Nt?new Nt(e):e}function Ht(e,n){if(null==e){if(!n)throw new Error("Option has no value");return null}return e instanceof Nt?e.value:e}function jt(e,n,t){return null==e?n:null!=t?t(Ht(e)):Ht(e)}function Gt(e,n){return null==e?n():Ht(e)}function Vt(e,n){return null==n?n:It(e(Ht(n)))}const Wt=Xn((function(e,n,t){Kn.call(this,e,n,t)}),Kn);const Xt=Xn((function(e,n,t){Kn.call(this,e,n,t)}),Kn);function qt(e,n){return 0===n.tag?(t=e(n.fields[0]),new Xt(0,"Ok",t)):n;var t}class Yt{constructor(e){this.iter=e}MoveNext(){const e=this.iter.next();return this.current=e.value,!e.done}get Current(){return this.current}Reset(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function $t(e){return new Yt(e[Symbol.iterator]())}function Kt(e){return{next:()=>e.MoveNext()?{done:!1,value:e.Current}:{done:!0,value:null}}}function Jt(e){return nr(()=>vr(n=>n<e.length?[e[n],n+1]:null,0))}function Zt(e,n){return nr(()=>{let t=!1;let r=[e[Symbol.iterator](),null];return vr(()=>{let e;if(!t){if(!(e=r[0].next()).done)return[e.value,r];t=!0,r=[null,n[Symbol.iterator]()]}return(e=r[1].next()).done?null:[e.value,r]},r)})}function Qt(e){return nr(()=>{const n=e[Symbol.iterator]();let t={value:null};return vr(e=>{let r=!1;for(;!r;)if(null==e){const t=n.next();t.done?r=!0:e=t.value[Symbol.iterator]()}else{const n=e.next();n.done?e=null:(t={value:n.value},r=!0)}return null!=e&&null!=t?[t.value,e]:null},null)})}function er(e,n){return Qt(ar(e,n))}function nr(e){return{[Symbol.iterator]:()=>e()[Symbol.iterator]()}}function tr(){return vr(()=>void 0)}function rr(e,n){let t;for(const r=n[Symbol.iterator]();!(t=r.next()).done;)if(e(t.value))return!0;return!1}function ir(e,n){return rr(n=>Fe(n,e),n)}function or(e,n){return nr(()=>vr(n=>{let t=n.next();for(;!t.done;){if(e(t.value))return[t.value,n];t=n.next()}return null},n[Symbol.iterator]()))}function ur(e,n,t){if(Array.isArray(t)||ArrayBuffer.isView(t))return t.reduce(e,n);{let r;for(let i=0,o=t[Symbol.iterator]();!(r=o.next()).done;i++)n=e(n,r.value,i);return n}}function cr(e){const n=e[Symbol.iterator]().next();return n.done?null:It(n.value)}function sr(e,n){if(e<0)return null;if(Array.isArray(n)||ArrayBuffer.isView(n))return e<n.length?It(n[e]):null;for(let t=0,r=n[Symbol.iterator]();;t++){const n=r.next();if(n.done)break;if(t===e)return It(n.value)}return null}function lr(e,n){ur((n,t)=>e(t),null,n)}function fr(e,n){ur((n,t,r)=>e(r,t),null,n)}function ar(e,n){return nr(()=>vr(n=>{const t=n.next();return t.done?null:[e(t.value),n]},n[Symbol.iterator]()))}function dr(e,n){return nr(()=>{let t=0;return vr(n=>{const r=n.next();return r.done?null:[e(t++,r.value),n]},n[Symbol.iterator]())})}function hr(e,n,t){const r=null!=t?t.Compare:Be;return gr((n,t)=>-1===r(e(n),e(t))?n:t,n)}function wr(e,n,t){if(0===n)throw new Error("Step cannot be 0");return nr(()=>vr(e=>n>0&&e<=t||n<0&&e>=t?[e,e+n]:null,e))}function gr(e,n){if(Array.isArray(n)||ArrayBuffer.isView(n))return n.reduce(e);const t=n[Symbol.iterator]();let r=t.next();if(r.done)throw new Error("Seq was empty");let i=r.value;for(;!(r=t.next()).done;)i=e(i,r.value);return i}function mr(e){return Jt((Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):Array.from(e)).reverse())}function pr(e){return[e]}function xr(e,n,t){return ur((n,r)=>t.Add(n,e(r)),t.GetZero(),n)}function vr(e,n){return{[Symbol.iterator]:()=>{let t=n;return{next:()=>{const n=e(t);return null!=n?(t=n[1],{done:!1,value:n[0]}):{done:!0}}}}}}const yr=Xn((function(){}));Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);function Sr(e,n){return fetch(e,function(e,n=Ne.None){function t(e){throw new Error("Cannot infer key and value of "+String(e))}const r={},i=n;for(let n of e){let e=Ne.None;if(null==n&&t(n),"function"==typeof n.toJSON&&(n=n.toJSON(),e=i),Array.isArray(n))switch(n.length){case 0:t(n);break;case 1:r[He(n[0],e)]=!0;break;case 2:const i=n[1];r[He(n[0],e)]=i;break;default:r[He(n[0],e)]=n.slice(1)}else"string"==typeof n?r[He(n,e)]=!0:t(n)}return r}(n,1)).then((function(e){if(e.ok)return e;{const t=ye((n=e).status)+" "+n.statusText+" for URL "+n.url;throw new Error(t)}var n}))}const Er=Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);const br=Xn((function(e,n){this.Hash=e,this.Coders=n}),et);const Ar=Xn((function(){this.cache=new Map([])}));function Tr(){return this instanceof Ar?Ar.call(this):new Ar}function Cr(e,n,t){const r=me(e.cache,n,null);if(r[0])return r[1];{const r=t();return Xe(e.cache,n,r),r}}Tr();const Rr=Tr(),Pr=Xn((function(e,n){const t=new nt(null);this.comparer=n,t.contents=this,this["entries@23"]=new Map([]),this["init@20-1"]=1,lr((function(e){Lr(t.contents,e[0],e[1])}),e)}));function Mr(e,n){const t=0|e.comparer.GetHashCode(n),r=me(e["entries@23"],t,null);return r[0]?[!0,t,r[1].findIndex((function(t){return e.comparer.Equals(n,t[0])}))]:[!1,t,-1]}function Fr(e,n){const t=Mr(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return qe(e["entries@23"],t[1])[t[2]];case 1:return null}}function Or(e){e["entries@23"].clear()}function zr(e){return 0|xr((function(e){return e.length}),e["entries@23"].values(),{GetZero:()=>0,Add:(e,n)=>e+n})}function Lr(e,n,t){const r=Mr(e,n);switch(r[0]&&r[2]>-1?0:1){case 0:{let e;throw e=Dn(_n("An item with the same key has already been added. Key: %A"))(n),new Error(e)}case 1:if(r[0]){qe(e["entries@23"],r[1]).push([n,t])}else e["entries@23"].set(r[1],[[n,t]])}}function kr(e,n){const t=Mr(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return qe(e["entries@23"],t[1]).splice(t[2],1),!0;case 1:return!1}}Pr.prototype[Symbol.iterator]=function(){const e=this;return Kt($t(nr((function(){return er((function(e){return ar((function(e){return e}),e)}),e["entries@23"].values())}))))},Pr.prototype.Add=function(e){Lr(this,e[0],e[1])},Pr.prototype.Clear=function(){Or(this)},Pr.prototype.Contains=function(e){const n=Fr(this,e[0]);switch(null!=n&&Fe(n[1],e[1])?0:1){case 0:return!0;case 1:return!1}},Pr.prototype.CopyTo=function(e,n){fr((function(t,r){e[n+t]=r}),this)},Object.defineProperty(Pr.prototype,"Count",{get:function(){return 0|zr(this)}}),Object.defineProperty(Pr.prototype,"IsReadOnly",{get:function(){return!1}}),Pr.prototype.Remove=function(e){const n=this,t=Fr(n,e[0]);if(null!=t){if(Fe(t[1],e[1])){kr(n,e[0])}return!0}return!1},Object.defineProperty(Pr.prototype,"size",{get:function(){return 0|zr(this)}}),Pr.prototype.clear=function(){Or(this)},Pr.prototype.delete=function(e){return kr(this,e)},Pr.prototype.entries=function(){return ar((function(e){return e}),this)},Pr.prototype.get=function(e){return function(e,n){const t=Fr(e,n);if(null!=t){return t[1]}throw new Error("The item was not found in collection")}(this,e)},Pr.prototype.has=function(e){return function(e,n){const t=Mr(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return!0;case 1:return!1}}(this,e)},Pr.prototype.keys=function(){return ar((function(e){return e[0]}),this)},Pr.prototype.set=function(e,n){return function(e,n,t){const r=Mr(e,n);switch(r[0]&&r[2]>-1?0:1){case 0:qe(e["entries@23"],r[1])[r[2]]=[n,t];break;case 1:if(r[0]){qe(e["entries@23"],r[1]).push([n,t])}else e["entries@23"].set(r[1],[[n,t]])}}(this,e,n),this},Pr.prototype.values=function(){return ar((function(e){return e[1]}),this)};const Br=Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);function _r(e){return function e(n,t){e:for(;;){const r=n,i=t;switch(i.tag){case 1:return r+1|0;case 2:n=e(r+1,i.fields[2]),t=i.fields[3];continue e;default:return 0|r}break}}(0,e)}function Dr(){return new Br(0,"MapEmpty")}function Ur(e){switch(e.tag){case 1:return 1;case 2:return 0|e.fields[4];default:return 0}}function Nr(e,n,t,r){switch(0===e.tag&&0===r.tag?0:1){case 0:return new Br(1,"MapOne",n,t);case 1:{const i=0|Ur(e),o=0|Ur(r);return new Br(2,"MapNode",n,t,e,r,(0|(i<o?o:i))+1)}}}function Ir(e,n,t,r){const i=0|Ur(e),o=0|Ur(r);if(o>i+2){if(2===r.tag){if(Ur(r.fields[2])>i+1){if(2===r.fields[2].tag)return Nr(Nr(e,n,t,r.fields[2].fields[2]),r.fields[2].fields[0],r.fields[2].fields[1],Nr(r.fields[2].fields[3],r.fields[0],r.fields[1],r.fields[3]));throw new Error("rebalance")}return Nr(Nr(e,n,t,r.fields[2]),r.fields[0],r.fields[1],r.fields[3])}throw new Error("rebalance")}if(i>o+2){if(2===e.tag){if(Ur(e.fields[3])>o+1){if(2===e.fields[3].tag)return Nr(Nr(e.fields[2],e.fields[0],e.fields[1],e.fields[3].fields[2]),e.fields[3].fields[0],e.fields[3].fields[1],Nr(e.fields[3].fields[3],n,t,r));throw new Error("re  balance")}return Nr(e.fields[2],e.fields[0],e.fields[1],Nr(e.fields[3],n,t,r))}throw new Error("rebalance")}return Nr(e,n,t,r)}function Hr(e,n,t,r){switch(r.tag){case 1:{const i=0|e.Compare(n,r.fields[0]);return i<0?new Br(2,"MapNode",n,t,new Br(0,"MapEmpty"),r,2):0===i?new Br(1,"MapOne",n,t):new Br(2,"MapNode",n,t,r,new Br(0,"MapEmpty"),2)}case 2:{const i=0|e.Compare(n,r.fields[0]);return i<0?Ir(Hr(e,n,t,r.fields[2]),r.fields[0],r.fields[1],r.fields[3]):0===i?new Br(2,"MapNode",n,t,r.fields[2],r.fields[3],r.fields[4]):Ir(r.fields[2],r.fields[0],r.fields[1],Hr(e,n,t,r.fields[3]))}default:return new Br(1,"MapOne",n,t)}}function jr(e,n,t){e:for(;;){const r=e,i=n,o=t;switch(o.tag){case 1:if(0===(0|r.Compare(i,o.fields[0])))return o.fields[1];throw new Error("key not found");case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){e=r,n=i,t=o.fields[2];continue e}if(0===u)return o.fields[1];e=r,n=i,t=o.fields[3];continue e}default:throw new Error("key not found")}break}}function Gr(e,n,t){e:for(;;){const r=e,i=n,o=t;switch(o.tag){case 1:return 0===(0|r.Compare(i,o.fields[0]))?It(o.fields[1]):null;case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){e=r,n=i,t=o.fields[2];continue e}if(0===u)return It(o.fields[1]);e=r,n=i,t=o.fields[3];continue e}default:return null}break}}function Vr(e,n,t){e:for(;;){const r=e,i=n,o=t;switch(o.tag){case 1:return 0===r.Compare(i,o.fields[0]);case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){e=r,n=i,t=o.fields[2];continue e}if(0===u)return!0;e=r,n=i,t=o.fields[3];continue e}default:return!1}break}}function Wr(e,n){e:for(;;){const t=e,r=n;switch(r.tag){case 1:t(r.fields[0],r.fields[1]);break;case 2:Wr(t,r.fields[2]),t(r.fields[0],r.fields[1]),e=t,n=r.fields[3];continue e}break}}function Xr(e,n){const t=$t(n);try{return function(e,n,t){for(;;){const r=e,i=n,o=t;if(!o.MoveNext())return i;{const u=o.Current;e=r,n=Hr(r,u[0],u[1],i),t=o}}}(e,Dr(),t)}finally{ge(t)&&t.Dispose()}}const qr=Xn((function(e,n){this.stack=e,this.started=n}),et);function Yr(e){for(;;){const n=e;if(null==n.tail)return new $n;if(1===n.head.tag)return n;2!==n.head.tag?e=n.tail:e=new $n(n.head.fields[2],new $n(new Br(1,"MapOne",n.head.fields[0],n.head.fields[1]),new $n(n.head.fields[3],n.tail)))}}function $r(e){return new qr(Yr(new $n(e,new $n)),!1)}function Kr(e){if(e.started){const n=e.stack;if(null==n.tail)return function(){throw new Error("enumeration already finished")}();if(1===n.head.tag)return[n.head.fields[0],n.head.fields[1]];throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration not started")}()}const Jr=Xn((function(e){this.s=e,this.i=$r(this.s)}));function Zr(e){return function(e){return this instanceof Jr?Jr.call(this,e):new Jr(e)}(e)}function Qr(e){return vr((function(e){return e.MoveNext()?[e.Current,e]:null}),Zr(e))}Object.defineProperty(Jr.prototype,"Current",{get:function(){return Kr(this.i)}}),Jr.prototype.MoveNext=function(){return function(e){if(e.started){const n=e.stack;if(null==n.tail)return!1;if(1===n.head.tag)return e.stack=Yr(n.tail),!(null==e.stack.tail);throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return e.started=!0,!(null==e.stack.tail)}(this.i)},Jr.prototype.Reset=function(){this.i=$r(this.s)},Jr.prototype.Dispose=function(){};const ei=Xn((function(e,n){this.comparer=e,this.tree=n}));function ni(e,n){return this instanceof ei?ei.call(this,e,n):new ei(e,n)}function ti(e){return e.tree}function ri(e,n){return jr(e.comparer,n,e.tree)}function ii(e,n){return ni(e.comparer,function e(n,t){switch(t.tag){case 1:return new Br(1,"MapOne",t.fields[0],n(t.fields[0],t.fields[1]));case 2:{const r=e(n,t.fields[2]),i=n(t.fields[0],t.fields[1]),o=e(n,t.fields[3]);return new Br(2,"MapNode",t.fields[0],i,r,o,t.fields[4])}default:return Dr()}}(n,e.tree))}function oi(e){return _r(e.tree)}function ui(e,n){return Vr(e.comparer,n,e.tree)}function ci(e,n,t){return i=e,o=n,ni((r=t).comparer,Hr(r.comparer,i,o,r.tree));var r,i,o}function si(e,n){return ri(n,e)}function li(e,n){return r=e,Gr((t=n).comparer,r,t.tree);var t,r}function fi(e,n){Wr(e,n.tree)}function ai(e,n){return ii(n,e)}function di(e,n){return ni(n,(t=n,r=e,ur((function(e,n){return Hr(t,n[0],n[1],e)}),Dr(),r)));var t,r}function hi(e,n){return ni(n,function(e,n){let t=Dr();for(let r=0;r<=n.length-1;r++){const i=n[r];t=Hr(e,i[0],i[1],t)}return t}(n,e))}function wi(e){return ni(e,new Br(0,"MapEmpty"))}function gi(e,n){return function(e,n){return this instanceof Pr?Pr.call(this,e,n):new Pr(e,n)}(e,n)}ei.prototype.toString=function(){return"map ["+In("; ",ar((function(e){return Dn(_n("(%A, %A)"))(e[0])(e[1])}),this))+"]"},ei.prototype.GetHashCode=function(){const e=function(e,n){return(e<<1)+n+631};let n=0;const t=Zr(ti(this));for(;t.MoveNext();){const r=t.Current;n=e(n,Ce(r[0])),n=e(n,Ce(r[1]))}return 0|Math.abs(n)},ei.prototype.Equals=function(e){return 0===this.CompareTo(e)},ei.prototype[Symbol.iterator]=function(){return Kt(Zr(this.tree))},ei.prototype.CompareTo=function(e){const n=this;let t=0,r=!1;const i=Zr(ti(n));try{const o=Zr(ti(e));try{for(;!r&&0===t;){const e=[i.MoveNext(),o.MoveNext()];if(e[0])if(e[1]){const e=i.Current,r=o.Current,u=0|n.comparer.Compare(e[0],r[0]);t=0!==u?u:Be(e[1],r[1])}else t=1;else e[1]?t=-1:r=!0}return 0|t}finally{ge(o)&&o.Dispose()}}finally{ge(i)&&i.Dispose()}},Object.defineProperty(ei.prototype,"size",{get:function(){return 0|oi(this)}}),ei.prototype.clear=function(){throw new Error("Map cannot be mutated")},ei.prototype.delete=function(e){throw new Error("Map cannot be mutated")},ei.prototype.entries=function(){return Qr(ti(this))},ei.prototype.get=function(e){return ri(this,e)},ei.prototype.has=function(e){return ui(this,e)},ei.prototype.keys=function(){return ar((function(e){return e[0]}),Qr(ti(this)))},ei.prototype.set=function(e,n){throw new Error("Map cannot be mutated")},ei.prototype.values=function(){return ar((function(e){return e[1]}),Qr(ti(this)))};const mi=Xn((function(e,n){const t=new nt(null);this.comparer=n,t.contents=this,this["entries@24"]=new Map([]),this["init@21-2"]=1,lr((function(e){Si(t.contents,e)}),e)}));function pi(e,n){return this instanceof mi?mi.call(this,e,n):new mi(e,n)}function xi(e,n){const t=0|e.comparer.GetHashCode(n),r=me(e["entries@24"],t,null);return r[0]?[!0,t,r[1].findIndex((function(t){return e.comparer.Equals(n,t)}))]:[!1,t,-1]}function vi(e){e["entries@24"].clear()}function yi(e){return 0|xr((function(e){return e.length}),e["entries@24"].values(),{GetZero:()=>0,Add:(e,n)=>e+n})}function Si(e,n){const t=xi(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return!1;case 1:if(t[0]){qe(e["entries@24"],t[1]).push(n);return!0}return e["entries@24"].set(t[1],[n]),!0}}function Ei(e,n){const t=xi(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return!0;case 1:return!1}}function bi(e,n){const t=xi(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return qe(e["entries@24"],t[1]).splice(t[2],1),!0;case 1:return!1}}mi.prototype[Symbol.iterator]=function(){const e=this;return Kt($t(nr((function(){return er((function(e){return ar((function(e){return e}),e)}),e["entries@24"].values())}))))},mi.prototype.Add=function(e){Si(this,e)},mi.prototype.Clear=function(){vi(this)},mi.prototype.Contains=function(e){return Ei(this,e)},mi.prototype.CopyTo=function(e,n){fr((function(t,r){e[n+t]=r}),this)},Object.defineProperty(mi.prototype,"Count",{get:function(){return 0|yi(this)}}),Object.defineProperty(mi.prototype,"IsReadOnly",{get:function(){return!1}}),mi.prototype.Remove=function(e){return bi(this,e)},Object.defineProperty(mi.prototype,"size",{get:function(){return 0|yi(this)}}),mi.prototype.add=function(e){Si(this,e);return this},mi.prototype.add_=function(e){return Si(this,e)},mi.prototype.clear=function(){vi(this)},mi.prototype.delete=function(e){return bi(this,e)},mi.prototype.has=function(e){return Ei(this,e)},mi.prototype.keys=function(){return ar((function(e){return e}),this)},mi.prototype.values=function(){return ar((function(e){return e}),this)},mi.prototype.entries=function(){return ar((function(e){return[e,e]}),this)};const Ai=Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);function Ti(e){return new Ai(2,"SetOne",e)}function Ci(e,n,t,r){return new Ai(1,"SetNode",e,n,t,r)}function Ri(e){switch(e.tag){case 2:return 1;case 1:return 0|e.fields[3];default:return 0}}const Pi=2;function Mi(e,n,t){switch(0===e.tag&&0===t.tag?0:1){case 0:return Ti(n);case 1:{const r=0|Ri(e),i=0|Ri(t);return Ci(n,e,t,(0|(r<i?i:r))+1)}}}function Fi(e,n,t){const r=0|Ri(e),i=0|Ri(t);if(i>r+Pi){if(1===t.tag){if(Ri(t.fields[1])>r+1){if(1===t.fields[1].tag)return Mi(Mi(e,n,t.fields[1].fields[1]),t.fields[1].fields[0],Mi(t.fields[1].fields[2],t.fields[0],t.fields[2]));throw new Error("rebalance")}return Mi(Mi(e,n,t.fields[1]),t.fields[0],t.fields[2])}throw new Error("rebalance")}if(r>i+Pi){if(1===e.tag){if(Ri(e.fields[2])>i+1){if(1===e.fields[2].tag)return Mi(Mi(e.fields[1],e.fields[0],e.fields[2].fields[1]),e.fields[2].fields[0],Mi(e.fields[2].fields[2],n,t));throw new Error("rebalance")}return Mi(e.fields[1],e.fields[0],Mi(e.fields[2],n,t))}throw new Error("rebalance")}return Mi(e,n,t)}function Oi(e,n,t){switch(t.tag){case 2:{const r=0|e.Compare(n,t.fields[0]);return r<0?Ci(n,new Ai(0,"SetEmpty"),t,2):0===r?t:Ci(n,t,new Ai(0,"SetEmpty"),2)}case 0:return Ti(n);default:{const r=0|e.Compare(n,t.fields[0]);return r<0?Fi(Oi(e,n,t.fields[1]),t.fields[0],t.fields[2]):0===r?t:Fi(t.fields[1],t.fields[0],Oi(e,n,t.fields[2]))}}}const zi=Xn((function(e,n){this.stack=e,this.started=n}),et);function Li(e){for(;;){const n=e;if(null==n.tail)return new $n;if(2===n.head.tag)return n;1!==n.head.tag?e=n.tail:e=new $n(n.head.fields[1],new $n(Ti(n.head.fields[0]),new $n(n.head.fields[2],n.tail)))}}function ki(e){return new zi(Li(new $n(e,new $n)),!1)}function Bi(e){if(e.started){const n=e.stack;if(null==n.tail)return function(){throw new Error("Enumeration already started")}();if(2===n.head.tag)return n.head.fields[0];throw new Error("Please report error: Set iterator, unexpected stack for current")}return function(){throw new Error("Enumeration not started")}()}const _i=Xn((function(e){this.s=e,this.i=ki(this.s)}));function Di(e){return function(e){return this instanceof _i?_i.call(this,e):new _i(e)}(e)}function Ui(e,n,t){return 0===n.tag?0===t.tag?0:-1:0===t.tag?1:0|function(e,n,t){e:for(;;){const N=e,I=n,H=t;var r,i,o,u,c,s,l,f,a,d,h,w,g,m,p,x,v,y,S,E,b,A,T,C,R,P,M,F,O,z,L,k,B,_,D,U;switch(null!=I.tail?null!=H.tail?2===H.head.tag?2===I.head.tag?(r=4,u=I.head.fields[0],c=H.head.fields[0],s=I.tail,l=H.tail):1===I.head.tag?0===I.head.fields[1].tag?(r=6,g=I.head.fields[1],m=I.head.fields[0],p=I.head.fields[2],x=H.head.fields[0],v=I.tail,y=H.tail):(r=9,M=I.head.fields[0],F=I.head.fields[1],O=I.head.fields[2],z=I.tail):(r=10,L=H.head.fields[0],k=H.tail):1===H.head.tag?0===H.head.fields[1].tag?2===I.head.tag?(r=5,f=I.head.fields[0],a=H.head.fields[0],d=H.head.fields[2],h=I.tail,w=H.tail):1===I.head.tag?0===I.head.fields[1].tag?(r=7,S=I.head.fields[0],E=I.head.fields[2],b=H.head.fields[0],A=H.head.fields[2],T=I.tail,C=H.tail):(r=9,M=I.head.fields[0],F=I.head.fields[1],O=I.head.fields[2],z=I.tail):(r=11,B=H.head.fields[0],_=H.head.fields[1],D=H.head.fields[2],U=H.tail):2===I.head.tag?(r=8,R=I.head.fields[0],P=I.tail):1===I.head.tag?(r=9,M=I.head.fields[0],F=I.head.fields[1],O=I.head.fields[2],z=I.tail):(r=11,B=H.head.fields[0],_=H.head.fields[1],D=H.head.fields[2],U=H.tail):2===I.head.tag?(r=8,R=I.head.fields[0],P=I.tail):1===I.head.tag?(r=9,M=I.head.fields[0],F=I.head.fields[1],O=I.head.fields[2],z=I.tail):(r=3,i=I.tail,o=H.tail):r=2:r=null!=H.tail?1:0,r){case 0:return 0;case 1:return-1;case 2:return 1;case 3:e=N,n=i,t=o;continue e;case 4:{const r=0|N.Compare(u,c);if(0!==r)return 0|r;e=N,n=s,t=l;continue e}case 5:{const r=0|N.Compare(f,a);if(0!==r)return 0|r;e=N,n=new $n(new Ai(0,"SetEmpty"),h),t=new $n(d,w);continue e}case 6:{const r=0|N.Compare(m,x);if(0!==r)return 0|r;e=N,n=new $n(p,v),t=new $n(g,y);continue e}case 7:{const r=0|N.Compare(S,b);if(0!==r)return 0|r;e=N,n=new $n(E,T),t=new $n(A,C);continue e}case 8:e=N,n=new $n(new Ai(0,"SetEmpty"),new $n(Ti(R),P)),t=H;continue e;case 9:e=N,n=new $n(F,new $n(Ci(M,new Ai(0,"SetEmpty"),O,0),z)),t=H;continue e;case 10:e=N,n=I,t=new $n(new Ai(0,"SetEmpty"),new $n(Ti(L),k));continue e;case 11:e=N,n=I,t=new $n(_,new $n(Ci(B,new Ai(0,"SetEmpty"),D,0),U));continue e}break}}(e,new $n(n,new $n),new $n(t,new $n))}function Ni(e,n){const t=$t(n);try{return function(e,n,t){for(;;){const r=e,i=n,o=t;if(!o.MoveNext())return i;e=r,n=Oi(r,o.Current,i),t=o}}(e,new Ai(0,"SetEmpty"),t)}finally{ge(t)&&t.Dispose()}}Object.defineProperty(_i.prototype,"Current",{get:function(){return Bi(this.i)}}),_i.prototype.MoveNext=function(){return function(e){if(e.started){const n=e.stack;if(null==n.tail)return!1;if(2===n.head.tag)return e.stack=Li(n.tail),!(null==e.stack.tail);throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return e.started=!0,!(null==e.stack.tail)}(this.i)},_i.prototype.Reset=function(){this.i=ki(this.s)},_i.prototype.Dispose=function(){};const Ii=Xn((function(e,n){this.comparer=e,this.tree=n}));function Hi(e,n){return this instanceof Ii?Ii.call(this,e,n):new Ii(e,n)}function ji(e){return e.comparer}function Gi(e){return e.tree}function Vi(e,n){return Hi(n,Ni(n,e))}function Wi(e,n){return pi(e,n)}function Xi(e,n,t,r){return e.fill(r,n,n+t),e}function qi(e,n,t){if(ArrayBuffer.isView(n)){const r=0|n.length,i=new t(r);for(let t=0;t<=r-1;t++)i[t]=e(n[t]);return i}return n.map((function(n){return e(n)}))}function Yi(e,n,t){return function(r){for(;;){const i=r;if(i>=n.length)return!1;if(t.Equals(e,n[i]))return!0;r=i+1}}(0)}function $i(e,n,t){if(e<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=new t(e);for(let t=0;t<=e-1;t++)r[t]=n(t);return r}function Ki(e,n,t){return t.reduce((function(n,t){return e(n,t)}),n)}function Ji(e,n,t,r){return function(e,n,t,r){let i=r;if(n.length!==t.length)throw new Error("Arrays had different lengths");const o=0|n.length;for(let r=1;r<=o;r++)i=e(r-1,n[o-r],t[o-r],i);return i}((function(n,t,r,i){return e(t,r,i)}),n,t,r)}function Zi(e,n,t){let r=t.GetZero();for(let i=0;i<=n.length-1;i++)r=t.Add(r,e(n[i]));return r}function Qi(e,n){return n.from(e)}Ii.prototype.toString=function(){return"set ["+In("; ",ar((function(e){return String(e)}),this))+"]"},Ii.prototype.GetHashCode=function(){let e=0;const n=Di(Gi(this));for(;n.MoveNext();){e=((0|e)<<1)+(0|Ce(n.Current))+631}return 0|Math.abs(e)},Ii.prototype.Equals=function(e){return 0===Ui(ji(this),Gi(this),Gi(e))},Ii.prototype.CompareTo=function(e){return 0|Ui(ji(this),Gi(this),Gi(e))},Ii.prototype[Symbol.iterator]=function(){return Kt(Di(Gi(this)))};const eo=Xn((function(e,n){this.bound=0|e,this.digits=n}),et);function no(e,n){for(;;){const t=e,r=n;if(0===r)return 1;if(r%2!=0)return t*no(t*t,~~(r/2))|0;e=t*t,n=~~(r/2)}}oe(2013265921,0,!1),oe(2013265921,0,!0);$i(28,(function(e){return no(2,e)}),Int32Array);function to(e){return e.bound}function ro(e,n){return e.digits[n]}function io(e,n){return de(ro(e,n),!1,2)}function oo(e,n,t){e.digits[n]=t}function uo(e,n){for(;;){const t=e,r=n;if(0===r)return oe(1,0,!1);if(r%2!=0)return Q(t,uo(Q(t,t),~~(r/2)));e=Q(t,t),n=~~(r/2)}}function co(e,n){for(;;){const t=e,r=n;if(0===r)return 1;if(r%2!=0)return t*co(t*t,~~(r/2))|0;e=t*t,n=~~(r/2)}}const so=24,lo=16777216,fo=oe(16777216,0,!1),ao=oe(16777215,0,!1);oe(16777215,0,!0);function ho(e){return new eo(e,new Int32Array(e))}function wo(e){const n=0|function(e,n){for(;;){const t=e,r=n;if(-1===r||0!==t[r])return r+1|0;e=t,n=r-1}}(e.digits,e.bound-1);return e.bound=n,e}const go=2,mo=3;function po(e){const n=0|(e<0?0:e);if(n<lo){const e=ho(1);return e.digits[0]=n,wo(e)}{const e=ho(go);for(let t=0;t<=go-1;t++)e.digits[t]=~~(n/co(lo,t))%lo;return wo(e)}}const xo=po(1),vo=po(0);function yo(e){return e.bound-1}function So(e){return 0===e.bound}function Eo(e,n){if(e.bound===n.bound){return function(e,n,t){for(;;){const r=e,i=n,o=t;if(-1===o)return!0;if(r[o]!==i[o])return!1;e=r,n=i,t=o-1}}(e.digits,n.digits,e.bound-1)}return!1}function bo(e,n){if(e.bound<n.bound)return-1;if(e.bound>n.bound)return 1;return 0|function(e,n,t){for(;;){const r=e,i=n,o=t;if(-1===o)return 0;if(r[o]!==i[o])return r[o]<i[o]?-1:1;e=r,n=i,t=o-1}}(e.digits,n.digits,e.bound-1)}function Ao(e,n){return-1===bo(e,n)}function To(e,n,t){for(var r;;){const i=e,o=n,u=t;if(!(ie(o,oe(0,0,!1))>0))break;{const c=Z(io(i,u),o);oo(i,u,(r=re(c,ao),~~se(r))),e=i,n=ee(c,fo),t=u+1}}}function Co(e,n){var t;const r=0|to(e),i=ho(r+1|0),o=de(n,!1,2);let u=oe(0,0,!1);for(let n=0;n<=r-1;n++){const r=Z(Z(u,io(i,n)),Q(io(e,n),o));oo(i,n,(t=re(r,ao),~~se(t))),u=ee(r,fo)}return To(i,u,r),wo(i)}function Ro(e,n){const t=1===to(e),r=1===to(n);return t&&r?function(e,n){var t;const r=ho(2),i=Q(de(e,!1,2),de(n,!1,2));return oo(r,0,(t=re(i,ao),~~se(t))),oo(r,1,~~se(ee(i,fo))),wo(r)}(ro(e,0),ro(n,0)):t?Co(n,ro(e,0)):r?Co(e,ro(n,0)):function(e,n){var t;const r=ho(e.bound+n.bound|0);for(let i=0;i<=e.bound-1;i++){const o=de(e.digits[i],!1,2);let u=oe(0,0,!1),c=0|i;for(let e=0;e<=n.bound-1;e++){const i=de(n.digits[e],!1,2),s=Z(Z(de(r.digits[c],!1,2),u),Q(o,i));r.digits[c]=(t=re(s,ao),~~se(t)),u=ee(s,fo),c+=1}To(r,u,c)}return wo(r)}(e,n)}const Po=Xn((function(e,n,t,r,i,o,u){this.bigL=0|e,this.twoToBigL=0|n,this.k=0|t,this.bigK=0|r,this.bigN=0|i,this.split=0|o,this.splits=u}),et);function Mo(e,n,t,r){return new Po(e,co(2,e),n,t,r,~~(so/e),$i(~~(so/e),(function(n){return co(2,e*n)}),Int32Array))}const Fo=[Mo(1,28,268435456,268435456),Mo(2,26,67108864,134217728),Mo(3,24,16777216,50331648),Mo(4,22,4194304,16777216),Mo(5,20,1048576,5242880),Mo(6,18,262144,1572864),Mo(7,16,65536,458752),Mo(8,14,16384,131072),Mo(9,12,4096,36864),Mo(10,10,1024,10240),Mo(11,8,256,2816),Mo(12,6,64,768),Mo(13,4,16,208)];$i(so,(function(e){return co(2,e)-1}),Int32Array),$i(so,(function(e){return co(2,e)}),Int32Array),$i(so,(function(e){return uo(oe(2,0,!1),e)}),Array);Fo[0].bigN;function Oo(e,n){return Ro(e,n)}function zo(e,n,t,r){const i=[e.digits,yo(e)],o=[t.digits,yo(t)],u=de(n,!1,2);let c=0,s=Q(u,de(o[0][0],!1,2));for(;ie(s,oe(0,0,!1))>0||c<o[1];){if(c>i[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let e,n;const t=re(s,ao);let l;e=n=~~se(t),l=ee(s,fo),e<=i[0][c+r]?i[0][c+r]=i[0][c+r]-e:(i[0][c+r]=i[0][c+r]+(lo-e),l=Z(l,oe(1,0,!1))),s=c<o[1]?Z(l,Q(u,de(o[0][c+1],!1,2))):l,c+=1}wo(e)}function Lo(e,n,t,r){const i=[e.digits,yo(e)],o=[t.digits,yo(t)],u=de(n,!1,2);let c=0,s=Q(u,de(o[0][0],!1,2));for(;ie(s,oe(0,0,!1))>0||c<o[1];){if(c>i[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let e,n;const t=re(s,ao);let l;e=n=~~se(t),l=ee(s,fo),e<lo-i[0][c+r]?i[0][c+r]=i[0][c+r]+e:(i[0][c+r]=e-(lo-i[0][c+r]),l=Z(l,oe(1,0,!1))),s=c<o[1]?Z(l,Q(u,de(o[0][c+1],!1,2))):l,c+=1}wo(e)}function ko(e,n,t){const r=[yo(n),yo(e)];if(r[1]<r[0]+t)return 0;{let s;if(0===r[0])if(r[1]===t)s=~~(e.digits[t]/n.digits[0]);else{const t=ee(Z(Q(de(e.digits[r[1]],!1,2),fo),de(e.digits[r[1]-1],!1,2)),de(n.digits[0],!1,2));s=~~se(t)}else if(r[1]===r[0]+t)s=~~(e.digits[r[1]]/(n.digits[r[0]]+1));else{const t=ee(Z(Q(de(e.digits[r[1]],!1,2),fo),de(e.digits[r[1]-1],!1,2)),Z(de(n.digits[r[0]],!1,2),oe(1,0,!1)));s=~~se(t)}if(0===s){return 1!=(o=t,u=e,c=0,(i=n).bound+o<u.bound+c?-1:i.bound+o>u.bound+o?1:0|function(e,n,t){e:for(;;){const r=e,i=n,u=t;if(-1===u)return 0;{const s=0|(u<o?0:r[u-o]),l=0|(u<c?0:i[u-c]);if(s===l){e=r,n=i,t=u-1;continue e}return s<l?-1:1}}}(i.digits,u.digits,i.bound+o-1))?1:0}return 0|s}var i,o,u,c}function Bo(e,n){if(So(n))throw new Error;if(yo(e)<yo(n))return[vo,e];{const i=new eo((t=e).bound,(r=t.digits,Int32Array,r.slice())),o=ho(yo(e)-yo(n)+1+1);let u=0|yo(e);const c=0|yo(n);let s=u-c|0;const l=function(e){};let f=!1;for(;!f;){l([o,i,s,u]);const e=0|ko(i,n,s);e>0?(zo(i,e,n,s),Lo(o,e,xo,s),l([o,i,s,u])):(f=0===e&&0===s)||(u===c+s?(l([o,i,s-1,u]),s-=1):(l([o,i,s-1,u-1]),s-=1,u-=1))}return[wo(o),wo(i)]}var t,r}po(2);function _o(e){return po(e)}function Do(e){return function(e){const n=ie(e,oe(0,0,!1))<0?oe(0,0,!1):e,t=ho(mo);for(let e=0;e<=mo-1;e++)t.digits[e]=~~se(ne(ee(n,uo(fo,e)),fo));return wo(t)}(e)}function Uo(e){const n=0|yo(e),t=function(e,t,r){for(;;){const i=e,o=t,u=r;if(yo(u)>n)return new $n([o,u],i);e=new $n([o,u],i),t=o+1,r=Oo(u,u)}}(new $n,0,po(10)),r=function e(n,t,r,i){if(null!=i.tail){const o=Bo(r,i.head[1]);if(n&&So(o[0])){return e(n,t,o[1],i.tail)}{const r=e(!1,t,o[1],i.tail);return e(n,r,o[0],i.tail)}}{const e=0|function(e){if(1===e.bound)return 0|e.digits[0];{let n=0;for(let t=e.bound-1;t>=0;t--)n=e.digits[t]+lo*n;return 0|n}}(r);return n&&0===e?t:new $n(ye(e),t)}}(!0,new $n,e,t);if(null==r.tail)return"0";{let e;return In("",e=Qi(r,Array))}}function No(e){return e.bound<=1}function Io(e){return 0<e.bound?0|e.digits[0]:0}const Ho=Xn((function(e,n){this.signInt=e,this.v=n}),et);function jo(e,n){return this instanceof Ho?Ho.call(this,e,n):new Ho(e,n)}function Go(e){return No(e)&&Io(e)<Ho.smallLim?Ho.smallPosTab[Io(e)]:e}function Vo(e){return e.signInt}function Wo(e){return e.v}function Xo(e,n){const t=[Vo(e),Vo(n)];switch(-1===t[0]?-1===t[1]?1:0===t[1]?8:1===t[1]?3:9:0===t[0]?-1===t[1]?6:0===t[1]?4:1===t[1]?5:9:1===t[0]?-1===t[1]?2:0===t[1]?7:1===t[1]?0:9:9){case 0:case 1:return Eo(Wo(e),Wo(n));case 2:case 3:return!!So(Wo(e))&&So(Wo(n));case 4:return!0;case 5:case 6:return So(Wo(n));case 7:case 8:return So(Wo(e));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}function qo(e,n){const t=[Vo(e),Vo(n)];switch(-1===t[0]?-1===t[1]?1:0===t[1]?8:1===t[1]?3:9:0===t[0]?-1===t[1]?6:0===t[1]?4:1===t[1]?5:9:1===t[0]?-1===t[1]?2:0===t[1]?7:1===t[1]?0:9:9){case 0:return Ao(Wo(e),Wo(n));case 1:return Ao(Wo(n),Wo(e));case 2:return!1;case 3:return!So(Wo(e))||!So(Wo(n));case 4:return!1;case 5:return!So(Wo(n));case 6:case 7:return!1;case 8:return!So(Wo(e));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}function Yo(e){return e>=0?jo.call(this,1,Go(_o(e))):-2147483648===e?jo.call(this,-1,Go(Do(te(de(e,!1,2))))):jo.call(this,-1,Go(_o(c(e))))}function $o(){return Ho.one}function Ko(){return Ho.two}function Jo(){return Ho.zero}function Zo(e){for(;;){const n=e;if(null==n.tail)return null;if(null==n.tail.tail)return It(n.head);e=n.tail}}function Qo(e,n,t){for(;;){const r=e,i=n,o=t;if(null==o.tail)return i;e=r,n=r(i,o.head),t=o.tail}}function eu(e){return Qo((function(e,n){return new $n(n,e)}),new $n,e)}function nu(e){return eu(ur((function(e,n){return new $n(n,e)}),new $n,e))}function tu(e){return Qo((function(e,n){return e+1}),0,e)}function ru(e,n){return Qo((function(e,n){return new $n(n,e)}),n,eu(e))}function iu(e,n){return nu(er(e,n))}function ou(e,n){return eu(Qo((function(n,t){return new $n(e(t),n)}),new $n,n))}function uu(e,n){Qo((function(n,t){e(t)}),null,n)}function cu(e){let n=new $n;for(let t=function(e){if(Re(e))return e.length;{let n=0;for(const t of e)n++;return n}}(e)-1;t>=0;t--)n=new $n(e[t],n);return n}function su(e,n){return function(e,n,t){e:for(;;){const r=e,i=n,o=t;if(null!=o.tail){const u=r(i,o.head);if(null==u){e=r,n=i+1,t=o.tail;continue e}return u}return null}}(e,0,n)}function lu(e,n){return su((function(n,t){return e(n,t)?It(t):null}),n)}function fu(e,n){return lu((function(n,t){return e===n}),n)}function au(e,n){return eu(Qo((function(n,t){return e(t)?new $n(t,n):n}),new $n,n))}function du(e,n){let t=new $n;for(let r=1;r<=e;r++)t=new $n(n(e-r),t);return t}function hu(e,n){if(null!=n.tail)return Qo(e,n.head,n.tail);throw new Error("List was empty")}Ho.smallLim=4096,Ho.smallPosTab=$i(Ho.smallLim,_o,Array),Ho.one=Yo(1),Ho.two=Yo(2),Ho.zero=Yo(0),Ho.prototype.toString=function(){const e=this;switch(0|Vo(e)){case-1:return So(Wo(e))?"0":"-"+Uo(Wo(e));case 0:return"0";case 1:return Uo(Wo(e));default:throw new Error("signs should be +/- 1 or 0")}},Ho.prototype.Equals=function(e){return e instanceof Ho&&Xo(this,e)},Ho.prototype.GetHashCode=function(){return 0|(0===Vo(e=this)?1:Vo(e)+function(e){let n=0;for(let t=0;t<=e.bound-1;t++)n=e.digits[t]+(n<<3);return 0|n}(Wo(e))|0);var e},Ho.prototype.CompareTo=function(e){if(e instanceof Ho)return 0|(qo(n=this,t=e)?-1:Xo(n,t)?0:1);throw new Error("the objects are not comparable\\nParameter name: obj");var n,t};Jo(),$o(),Ko();Jo(),$o();function wu(e,n){const t=new Date(e);return t.offset=null!=n?n:-6e4*(new Date).getTimezoneOffset(),t}function gu(){return wu(-621355968e5,0)}function mu(e){const n=Ze(e),t=Ye.exec(e),r=null==t?-6e4*n.getTimezoneOffset():"Z"===t[0]?0:36e5*parseInt(t[1],10)+6e4*parseInt(t[2],10);return wu(n.getTime(),r)}function pu(e=0,n=0,t=0,r=0,i=0){switch(arguments.length){case 1:return o=arguments[0],fe(ee(o,1e4));case 3:e=0,n=arguments[0],t=arguments[1],r=arguments[2],i=0}var o;return 864e5*e+36e5*n+6e4*t+1e3*r+i}function xu(e){const n=e.search("\\."),t=e.search("\\:");if(-1===n&&-1===t){const n=parseInt(e,0);if(isNaN(n))throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`);return pu(n,0,0,0,0)}if(t>0){const n=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(e);if(null!=n&&null!=n[4]&&null!=n[5]){let t=0,r=0,i=0;const o=null!=n[1]&&"-"===n[1]?-1:1,u=+n[4],c=+n[5];if(null!=n[3]&&(t=+n[3]),null!=n[7]&&(i=+n[7]),null!=n[8])switch(n[8].length){case 1:r=100*+n[8];break;case 2:r=10*+n[8];break;case 3:r=+n[8];break;case 4:r=+n[8]/10;break;case 5:r=+n[8]/100;break;case 6:r=+n[8]/1e3;break;case 7:r=+n[8]/1e4;break;default:throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}return o*pu(t,u,c,i,r)}}throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}function vu(e){return void 0===e}function yu(e,n,t){try{return"Expecting "+e+" but instead got:"+(t?"\n":" ")+JSON.stringify(n,null,4)}catch(n){return"Expecting "+e+" but decoder failed. Couldn't report given value due to circular structure."+(t?"\n":" ")}}function Su(e,n){const t=2===n.tag?yu(n.fields[0],n.fields[1],!0):1===n.tag?yu(n.fields[0],n.fields[1],!1)+"\nReason: "+n.fields[2]:3===n.tag?yu(n.fields[0],n.fields[1],!0):4===n.tag?yu(n.fields[0],n.fields[1],!0)+"\nNode `"+n.fields[2]+"` is unkown.":5===n.tag?"Expecting "+n.fields[0]+".\n"+JSON.stringify(n.fields[1],null,4):7===n.tag?"The following errors were found:\n\n"+In("\n\n",n.fields[0]):6===n.tag?"The following `failure` occurred with the decoder: "+n.fields[0]:yu(n.fields[0],n.fields[1],!1);return 7===n.tag?t:"Error at: `"+e+"`\n"+t}function Eu(e,n,t){let r;return 1===(r=Ve(1,n,[e])(t)).tag?new Xt(1,"Error",Su(r.fields[0][0],r.fields[0][1])):new Xt(0,"Ok",r.fields[0])}function bu(e,n){try{return Eu("$",e,JSON.parse(n))}catch(e){if(e instanceof SyntaxError)return new Xt(1,"Error","Given an invalid JSON: "+e.message);throw e}}function Au(e){return function(n){if("number"==typeof n){const t=n;if(isFinite(t)&&Math.floor(t)===t){if(-128<=t&&t<=127)return new Xt(0,"Ok",(t+128&255)-128);{const n=[e,new Er(1,"BadPrimitiveExtra","a sbyte",t,"Value was either too large or too small for a sbyte")];return new Xt(1,"Error",n)}}{const n=[e,new Er(1,"BadPrimitiveExtra","a sbyte",t,"Value is not an integral value")];return new Xt(1,"Error",n)}}if("string"==typeof n){let t;if((t=u(n,511,!1,8))[0])return new Xt(0,"Ok",t[1]);{const t=[e,new Er(0,"BadPrimitive","a sbyte",n)];return new Xt(1,"Error",t)}}{const t=[e,new Er(0,"BadPrimitive","a sbyte",n)];return new Xt(1,"Error",t)}}}function Tu(e){return function(n){if("number"==typeof n){const t=n;if(isFinite(t)&&Math.floor(t)===t){if(0<=t&&t<=255)return new Xt(0,"Ok",255&t);{const n=[e,new Er(1,"BadPrimitiveExtra","a byte",t,"Value was either too large or too small for a byte")];return new Xt(1,"Error",n)}}{const n=[e,new Er(1,"BadPrimitiveExtra","a byte",t,"Value is not an integral value")];return new Xt(1,"Error",n)}}if("string"==typeof n){let t;if((t=u(n,511,!0,8))[0])return new Xt(0,"Ok",t[1]);{const t=[e,new Er(0,"BadPrimitive","a byte",n)];return new Xt(1,"Error",t)}}{const t=[e,new Er(0,"BadPrimitive","a byte",n)];return new Xt(1,"Error",t)}}}function Cu(e){return function(n){if("number"==typeof n){const t=n;if(isFinite(t)&&Math.floor(t)===t){if(-32768<=t&&t<=32767)return new Xt(0,"Ok",(t+32768&65535)-32768);{const n=[e,new Er(1,"BadPrimitiveExtra","an int16",t,"Value was either too large or too small for an int16")];return new Xt(1,"Error",n)}}{const n=[e,new Er(1,"BadPrimitiveExtra","an int16",t,"Value is not an integral value")];return new Xt(1,"Error",n)}}if("string"==typeof n){let t;if((t=u(n,511,!1,16))[0])return new Xt(0,"Ok",t[1]);{const t=[e,new Er(0,"BadPrimitive","an int16",n)];return new Xt(1,"Error",t)}}{const t=[e,new Er(0,"BadPrimitive","an int16",n)];return new Xt(1,"Error",t)}}}function Ru(e){return function(n){if("number"==typeof n){const t=n;if(isFinite(t)&&Math.floor(t)===t){if(0<=t&&t<=65535)return new Xt(0,"Ok",65535&t);{const n=[e,new Er(1,"BadPrimitiveExtra","an uint16",t,"Value was either too large or too small for an uint16")];return new Xt(1,"Error",n)}}{const n=[e,new Er(1,"BadPrimitiveExtra","an uint16",t,"Value is not an integral value")];return new Xt(1,"Error",n)}}if("string"==typeof n){let t;if((t=u(n,511,!0,16))[0])return new Xt(0,"Ok",t[1]);{const t=[e,new Er(0,"BadPrimitive","an uint16",n)];return new Xt(1,"Error",t)}}{const t=[e,new Er(0,"BadPrimitive","an uint16",n)];return new Xt(1,"Error",t)}}}function Pu(e){return function(n){if("number"==typeof n){const t=n;if(isFinite(t)&&Math.floor(t)===t){if(-2147483648<=t&&t<=2147483647)return new Xt(0,"Ok",~~t);{const n=[e,new Er(1,"BadPrimitiveExtra","an int",t,"Value was either too large or too small for an int")];return new Xt(1,"Error",n)}}{const n=[e,new Er(1,"BadPrimitiveExtra","an int",t,"Value is not an integral value")];return new Xt(1,"Error",n)}}if("string"==typeof n){let t;if((t=u(n,511,!1,32))[0])return new Xt(0,"Ok",t[1]);{const t=[e,new Er(0,"BadPrimitive","an int",n)];return new Xt(1,"Error",t)}}{const t=[e,new Er(0,"BadPrimitive","an int",n)];return new Xt(1,"Error",t)}}}function Mu(e){return function(n){if("number"==typeof n){const t=n;if(isFinite(t)&&Math.floor(t)===t){if(0<=t&&t<=4294967295)return new Xt(0,"Ok",t>>>0);{const n=[e,new Er(1,"BadPrimitiveExtra","an uint32",t,"Value was either too large or too small for an uint32")];return new Xt(1,"Error",n)}}{const n=[e,new Er(1,"BadPrimitiveExtra","an uint32",t,"Value is not an integral value")];return new Xt(1,"Error",n)}}if("string"==typeof n){let t;if((t=u(n,511,!0,32))[0])return new Xt(0,"Ok",t[1]);{const t=[e,new Er(0,"BadPrimitive","an uint32",n)];return new Xt(1,"Error",t)}}{const t=[e,new Er(0,"BadPrimitive","an uint32",n)];return new Xt(1,"Error",t)}}}const Fu=(()=>{const e=oe(0,2147483648,!1),n=oe(4294967295,2147483647,!1);return function(t){return function(r){if("number"==typeof r){const i=r;if(isFinite(i)&&Math.floor(i)===i){if(fe(e)<=i&&i<=fe(n))return new Xt(0,"Ok",ce(i,!1));{const e=[t,new Er(1,"BadPrimitiveExtra","an int64",i,"Value was either too large or too small for an int64")];return new Xt(1,"Error",e)}}{const e=[t,new Er(1,"BadPrimitiveExtra","an int64",i,"Value is not an integral value")];return new Xt(1,"Error",e)}}if("string"==typeof r){let e;if((e=we(r,511,!1))[0])return new Xt(0,"Ok",e[1]);{const e=[t,new Er(0,"BadPrimitive","an int64",r)];return new Xt(1,"Error",e)}}{const e=[t,new Er(0,"BadPrimitive","an int64",r)];return new Xt(1,"Error",e)}}}})();(()=>{const e=oe(0,0,!0),n=oe(4294967295,4294967295,!0)})();function Ou(e,n){if("string"==typeof n){const r=function(e){try{return null==e||""===e.trim()?[!1,Ke()]:[!0,Qe(e)]}catch(e){return[!1,Ke()]}}(n,Ke());if(r[0]){const e=1===(t=r[1]).kind?t:$e(t.getTime(),1);return new Xt(0,"Ok",e)}{const t=[e,new Er(0,"BadPrimitive","a datetime",n)];return new Xt(1,"Error",t)}}{const t=[e,new Er(0,"BadPrimitive","a datetime",n)];return new Xt(1,"Error",t)}var t}function zu(e,n){if("string"==typeof n){const t=function(e){try{return[!0,mu(e)]}catch(e){return[!1,gu()]}}(n,gu());if(t[0])return new Xt(0,"Ok",t[1]);{const t=[e,new Er(0,"BadPrimitive","a datetimeoffset",n)];return new Xt(1,"Error",t)}}{const t=[e,new Er(0,"BadPrimitive","a datetime",n)];return new Xt(1,"Error",t)}}function Lu(e,n){if("string"==typeof n){const t=function(e){try{return[!0,xu(e)]}catch(e){return[!1,0]}}(n);if(t[0])return new Xt(0,"Ok",t[1]);{const t=[e,new Er(0,"BadPrimitive","a timespan",n)];return new Xt(1,"Error",t)}}{const t=[e,new Er(0,"BadPrimitive","a timespan",n)];return new Xt(1,"Error",t)}}function ku(e,n,t){let r;if(1===(r=Ve(1,n,[e])(t)).tag){if(null==t)return new Xt(0,"Ok",null);if(1===r.tag)return new Xt(1,"Error",r.fields[0]);throw new Error("The match cases were incomplete")}return new Xt(0,"Ok",It(r.fields[0]))}function Bu(e,n,t){var r;const i=jt(n,In(".",new $n("$",e))),o="an object with path `"+In(".",e)+"`";return new Xt(1,"Error",[i,new Er(4,"BadPath",o,t,(r=Zo(e),jt(r,"")))])}function _u(e,n,t,r){const i=t+".["+ye(e)+"]";if(Array.isArray(r)){const t=r;if(e<t.length)return n(i,t[e]);{const n="a longer array. Need index `"+ye(e)+"` but there are only `"+ye(0|t.length)+"` entries",o=[i,new Er(5,"TooSmallArray",n,r)];return new Xt(1,"Error",o)}}{const e=[i,new Er(0,"BadPrimitive","an array",r)];return new Xt(1,"Error",e)}}function Du(e,n,t){if(Array.isArray(t)){let r=-1;const i=t;let o;return qt(eu,o=Ki((function(t,i){if(r+=1,0===t.tag){const o=e(n+".["+ye(r)+"]",i);return 0===o.tag?new Xt(0,"Ok",new $n(o.fields[0],t.fields[0])):new Xt(1,"Error",o.fields[0])}return t}),new Xt(0,"Ok",new $n),i))}{const e=[n,new Er(0,"BadPrimitive","a list",t)];return new Xt(1,"Error",e)}}function Uu(e,n,t){if(Array.isArray(t)){let r=-1;const i=t,o=Xi(new Array(i.length),0,i.length,null);return Ki((function(t,i){if(r+=1,0===t.tag){const o=e(n+".["+ye(r)+"]",i);return 0===o.tag?(t.fields[0][r]=o.fields[0],new Xt(0,"Ok",t.fields[0])):new Xt(1,"Error",o.fields[0])}return t}),new Xt(0,"Ok",o),i)}{const e=[n,new Er(0,"BadPrimitive","an array",t)];return new Xt(1,"Error",e)}}function Nu(e,n,t){return new Xt(0,"Ok",e)}function Iu(e,n,t,r){const i=n(t,r);return 0===i.tag?e(i.fields[0],t,r):new Xt(1,"Error",i.fields[0])}function Hu(e,n,t,r){const i=n(t,r);return 1===i.tag?new Xt(1,"Error",i.fields[0]):new Xt(0,"Ok",e(i.fields[0]))}function ju(e,n,t,r){let i;return 1===(i=Ve(1,t,[n])(r)).tag?(e.push(i.fields[0]),null):i.fields[0]}const Gu=Xn((function(e,n){const t=this;t.errors=[],t.required={Field:(r,i)=>ju(t.errors,e,(function(e,n){return function(e,n,t,r){if(null!==r&&Object.getPrototypeOf(r||!1)===Object.prototype){const i=r[e];return vu(i)?new Xt(1,"Error",[t,new Er(3,"BadField","an object with a field named `"+e+"`",r)]):n(t+"."+e,i)}return new Xt(1,"Error",[t,new Er(2,"BadType","an object",r)])}(r,i,e,n)}),n),At:(r,i)=>ju(t.errors,e,(function(e,n){return function(e,n,t,r){let i;return null==(i=Qo((function(n,t){if(null==n[2]){if(null==n[1]){const t=Bu(e,n[0],r);return[n[0],n[1],t]}if(null!==n[1]&&Object.getPrototypeOf(n[1]||!1)===Object.prototype){const i=n[1][t];if(vu(i)){const t=Bu(e,null,r);return[n[0],i,t]}return[n[0]+"."+t,i,null]}{const e=new Xt(1,"Error",[n[0],new Er(2,"BadType","an object",n[1])]);return[n[0],n[1],e]}}return[n[0],n[1],n[2]]}),[t,r,null],e))[2]?n(i[0],i[1]):i[2]}(r,i,e,n)}),n),Raw:r=>ju(t.errors,e,r,n)},t.optional={Field:(r,i)=>ju(t.errors,e,(function(e,n){return function(e,n,t,r){if(null!==r&&Object.getPrototypeOf(r||!1)===Object.prototype){const i=r[e];return vu(i)?new Xt(0,"Ok",null):ku(t+"."+e,n,i)}return new Xt(1,"Error",[t,new Er(2,"BadType","an object",r)])}(r,i,e,n)}),n),At:(r,i)=>ju(t.errors,e,(function(e,n){return function(e,n,t,r){let i;return null==(i=Qo((function(n,t){if(null==n[2]){if(null==n[1]){const t=Bu(e,n[0],r);return[n[0],n[1],t]}if(null!==n[1]&&Object.getPrototypeOf(n[1]||!1)===Object.prototype){const e=n[1][t];return[n[0]+"."+t,e,null]}{const e=new Xt(1,"Error",[n[0],new Er(2,"BadType","an object",n[1])]);return[n[0],n[1],e]}}return[n[0],n[1],n[2]]}),[t,r,null],e))[2]?vu(i[1])?new Xt(0,"Ok",null):ku(i[0],n,i[1]):i[2]}(r,i,e,n)}),n),Raw(r){let i;if(1!==(i=Ve(1,r,[e])(n)).tag)return It(i.fields[0]);var o,u;switch(1===i.fields[0][1].tag?(o=0,u=i.fields[0][1].fields[1]):2===i.fields[0][1].tag?(o=0,u=i.fields[0][1].fields[1]):3===i.fields[0][1].tag?o=1:4===i.fields[0][1].tag?o=1:5===i.fields[0][1].tag?o=2:6===i.fields[0][1].tag?o=2:7===i.fields[0][1].tag?o=2:(o=0,u=i.fields[0][1].fields[1]),o){case 0:return null==u?null:(t.errors.push(i.fields[0]),null);case 1:return null;case 2:return t.errors.push(i.fields[0]),null}}}}));function Vu(e,n,t){const r=function(e,n){return this instanceof Gu?Gu.call(this,e,n):new Gu(e,n)}(n,t);let i;i=e(r);const o=nu(r.errors);if(null!=o.tail){if(tu(o)>1){const e=ou((function(e){return Su(e[0],e[1])}),o),t=[n,new Er(7,"BadOneOf",e)];return new Xt(1,"Error",t)}return new Xt(1,"Error",o.head)}return new Xt(0,"Ok",i)}function Wu(e){return ni(n={Compare:Be},Xr(n,e));var n}function Xu(e,n,t,r){var i,o,u,c,s,l;if(n.length!==r.length){const f=[t,(o=0|n.length,u=0|r.length,c=Dn(_n("Expected %i %s but got %i")),s=c(o),l=s(e),i=l(u),new Er(6,"FailMessage",i))];return new Xt(1,"Error",f)}{const e=new Xt(0,"Ok",new $n);return Ji(Ge(3,We((function(e){return function(n){return function(r){if(0===r.tag){return qt((function(e){return new $n(e,r.fields[0])}),n(t,e))}return r}}}),[0,[0,2],0])),r,n,e)}}function qu(e,n,t,r,i,o){let u;const c=Ft(t);var s;if(s=function(e){return vt(e)===r},null!=(u=c.find(s))){const t=u;if(0===o.length){const e=Dt(t,[]);return new Xt(0,"Ok",e)}{let r;return qt((function(e){return Dt(t,Qi(e,Array))}),Xu("union fields",r=qi((function(t){return $u(e,n,!1,t[1])}),_t(t),Array),i,o))}}{const e=[i,new Er(6,"FailMessage","Cannot find case "+r+" in "+yt(t))];return new Xt(1,"Error",e)}}function Yu(e,n,t,r){const i=new nt(null);let o;const u=yt(r);let c;if(o=ci(u,i,e),kt(r)){let e;const t=Ot(r);e=qi((function(e){return[n?vt(e).slice(null,1).toLowerCase()+vt(e).slice(1,vt(e).length):vt(e),$u(o,n,!1,e[1])]}),t,Array),c=function(n){return function(t){const i=function(e,n,t){if(null===t||Object.getPrototypeOf(t||!1)!==Object.prototype){const e=[n,new Er(0,"BadPrimitive","an object",t)];return new Xt(1,"Error",e)}{const o=new Xt(0,"Ok",new $n);return r=function(e,r){return 0===r.tag?qt((function(e){return new $n(e,r.fields[0])}),e[1](n+"."+e[0])(t[e[0]])):r},i=o,e.reduceRight((function(e,n){return r(n,e)}),i)}var r,i}(e,n,t);return qt((function(e){return Ut(r,Qi(e,Array))}),i)}}}else if(Lt(r))c=function(e){return function(t){if("string"==typeof t){return qu(o,n,r,t,e,[])}if(Array.isArray(t)){const i=t;let u;const c=i[0];return qu(o,n,r,u=c,e,i.slice(1,i.length))}{const n=[e,new Er(0,"BadPrimitive","a string or array",t)];return new Xt(1,"Error",n)}}};else{if(!t){let e;const n=yt(r);throw e=Dn(_n("Cannot generate auto decoder for %s. Please pass an extra decoder."))(n),new Error(e)}c=function(e){return function(n){return new Xt(1,"Error",[e,new Er(2,"BadType","an extra coder for "+yt(r),n)])}}}return i.contents=c,c}function $u(e,n,t,r){var i,o;const u=yt(r),c=li(u,e);if(null==c){if(St(r)){let t;const i=Et(r);return t=$u(e,n,!1,i),function(e){return function(n){return Uu(Ge(2,t),e,n)}}}if(At(r)){const e=yt(Ct(r));return"System.SByte"===e?function(e){return function(n){const t=Au(e)(n);if(1===t.tag)return new Xt(1,"Error",t.fields[0]);{let i,o;if(o=Rt(r),i=ir(t.fields[0],o)){const e=Mt(r,t.fields[0].toString());return new Xt(0,"Ok",e)}{const t=[e,new Er(1,"BadPrimitiveExtra",yt(r),n,"Unkown value provided for the enum")];return new Xt(1,"Error",t)}}}}:"System.Byte"===e?function(e){return function(n){const t=Tu(e)(n);if(1===t.tag)return new Xt(1,"Error",t.fields[0]);{let i,o;if(o=Rt(r),i=ir(t.fields[0],o)){const e=Mt(r,t.fields[0].toString());return new Xt(0,"Ok",e)}{const t=[e,new Er(1,"BadPrimitiveExtra",yt(r),n,"Unkown value provided for the enum")];return new Xt(1,"Error",t)}}}}:"System.Int16"===e?function(e){return function(n){const t=Cu(e)(n);if(1===t.tag)return new Xt(1,"Error",t.fields[0]);{let u,c;if(c=Rt(r),u=ir(t.fields[0],c)){const e=Mt(r,(i=(i=t.fields[0])<0&&null!=o&&10!==o?65535+i+1:i).toString(o));return new Xt(0,"Ok",e)}{const t=[e,new Er(1,"BadPrimitiveExtra",yt(r),n,"Unkown value provided for the enum")];return new Xt(1,"Error",t)}}var i,o}}:"System.UInt16"===e?function(e){return function(n){const t=Ru(e)(n);if(1===t.tag)return new Xt(1,"Error",t.fields[0]);{let i,o;if(o=Rt(r),i=ir(t.fields[0],o)){const e=Mt(r,t.fields[0].toString());return new Xt(0,"Ok",e)}{const t=[e,new Er(1,"BadPrimitiveExtra",yt(r),n,"Unkown value provided for the enum")];return new Xt(1,"Error",t)}}}}:"System.Int32"===e?function(e){return function(n){const t=Pu(e)(n);if(1===t.tag)return new Xt(1,"Error",t.fields[0]);{let i,o;if(o=Rt(r),i=ir(t.fields[0],o)){const e=Mt(r,ye(t.fields[0]));return new Xt(0,"Ok",e)}{const t=[e,new Er(1,"BadPrimitiveExtra",yt(r),n,"Unkown value provided for the enum")];return new Xt(1,"Error",t)}}}}:"System.UInt32"===e?function(e){return function(n){const t=Mu(e)(n);if(1===t.tag)return new Xt(1,"Error",t.fields[0]);{let i,o;if(o=Rt(r),i=ir(t.fields[0],o)){const e=Mt(r,t.fields[0].toString());return new Xt(0,"Ok",e)}{const t=[e,new Er(1,"BadPrimitiveExtra",yt(r),n,"Unkown value provided for the enum")];return new Xt(1,"Error",t)}}}}:(i=Un(_n("Cannot generate auto decoder for %s.\nThoth.Json.Net only support the folluwing enum types:\n- sbyte\n- byte\n- int16\n- uint16\n- int\n- uint32\nIf you can't use one of these types, please pass an extra decoder.\n                    ")),function(e){const n=i(e);return function(e){const t=n(e);return function(e){return t(e)}}})(yt(r))}if(bt(r)){if(Bt(r)){let t;const i=zt(r);return t=qi((function(t){return $u(e,n,!1,t)}),i,Array),function(e){return function(n){if(Array.isArray(n)){return qt((function(e){return Qi(e,Array)}),Xu("tuple elements",t,e,n))}{const t=[e,new Er(0,"BadPrimitive","an array",n)];return new Xt(1,"Error",t)}}}}{const i=yt(Tt(r));if("Microsoft.FSharp.Core.FSharpOption`1[System.Object]"===i){let t,i;const o=ct(r)[0];return i=$u(e,n,!0,o),t=function(e){return function(n){return t=Ge(2,i),r=e,null==(o=n)?new Xt(0,"Ok",null):qt((function(e){return It(e)}),t(r,o));var t,r,o}}}if("Microsoft.FSharp.Collections.FSharpList`1[System.Object]"===i){let t,i;const o=ct(r)[0];return i=$u(e,n,!1,o),t=function(e){return function(n){return Du(Ge(2,i),e,n)}}}if("Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]"===i){let t;const i=ct(r)[0];let u;t=$u(e,n,!1,i);const c=ct(r)[1];let f;u=$u(e,n,!1,c);const a=cu([function(e){return function(n){return function(e,n,t,r){if(null===r||Object.getPrototypeOf(r||!1)!==Object.prototype){const e=[t,new Er(0,"BadPrimitive","an object",r)];return new Xt(1,"Error",e)}return ur((function(i,o){if(0===i.tag){let u;if(0===(u=Ve(1,e,[t])(o)).tag){const e=n(t+"."+o,r[o]);if(0===e.tag){const n=new $n([u.fields[0],e.fields[0]],i.fields[0]);return new Xt(0,"Ok",n)}return new Xt(1,"Error",e.fields[0])}return new Xt(1,"Error",u.fields[0])}return i}),new Xt(0,"Ok",new $n),Object.keys(r))}(Ge(2,t),Ge(2,u),e,n)}},(s=Ge(2,t),l=Ge(2,u),o=function(e){return function(n){return Iu((function(e,n,t){return Iu((function(n,t,r){return Nu([e,n])}),(function(e,n){return _u(1,l,e,n)}),n,t)}),(function(e,n){return _u(0,s,e,n)}),e,n)}},function(e){return function(n){return Du(Ge(2,o),e,n)}})]);return f=function(e){return function(n){return t=e,r=n,function(e,n){e:for(;;){const i=e,o=n;if(null==i.tail){const e=[t,new Er(7,"BadOneOf",o)];return new Xt(1,"Error",e)}{const u=Eu(t,Ge(2,i.head),r);if(1===u.tag){e=i.tail,n=ru(o,new $n(u.fields[0],new $n));continue e}return new Xt(0,"Ok",u.fields[0])}}}(a,new $n);var t,r}},function(e){return function(n){return Hu((function(e){return Wu(e)}),Ge(2,f),e,n)}}}if("Microsoft.FSharp.Collections.FSharpSet`1[System.Object]"===i){let t;const i=ct(r)[0];return t=$u(e,n,!1,i),function(e){return function(n){const r=Uu(Ge(2,t),e,n);if(0===r.tag){let e;const n=Vi(r.fields[0],{Compare:Be});return new Xt(0,"Ok",e=n)}return new Xt(1,"Error",r.fields[0])}}}return Yu(e,n,t,r)}}return"System.Boolean"===u?function(e){return function(n){return function(e,n){if("boolean"==typeof n)return new Xt(0,"Ok",n);{const t=[e,new Er(0,"BadPrimitive","a boolean",n)];return new Xt(1,"Error",t)}}(e,n)}}:"Microsoft.FSharp.Core.Unit"===u?function(e){return function(n){return function(e,n){if(null==n)return new Xt(0,"Ok",null);{const t=[e,new Er(0,"BadPrimitive","null",n)];return new Xt(1,"Error",t)}}(e,n)}}:"System.String"===u?function(e){return function(n){return function(e,n){if("string"==typeof n)return new Xt(0,"Ok",n);{const t=[e,new Er(0,"BadPrimitive","a string",n)];return new Xt(1,"Error",t)}}(e,n)}}:"System.SByte"===u?Au:"System.Byte"===u?Tu:"System.Int16"===u?Cu:"System.UInt16"===u?Ru:"System.Int32"===u?Pu:"System.UInt32"===u?Mu:"System.Double"===u?function(e){return function(n){return function(e,n){if("number"==typeof n)return new Xt(0,"Ok",n);{const t=[e,new Er(0,"BadPrimitive","a float",n)];return new Xt(1,"Error",t)}}(e,n)}}:"System.Single"===u?function(e){return function(n){return function(e,n){if("number"==typeof n)return new Xt(0,"Ok",n);{const t=[e,new Er(0,"BadPrimitive","a float32",n)];return new Xt(1,"Error",t)}}(e,n)}}:"System.DateTime"===u?function(e){return function(n){return Ou(e,n)}}:"System.DateTimeOffset"===u?function(e){return function(n){return zu(e,n)}}:"System.TimeSpan"===u?function(e){return function(n){return Lu(e,n)}}:"System.Guid"===u?function(e){return function(n){return function(e,n){if("string"==typeof n){const t=Hn(n,!0);if(t[0])return new Xt(0,"Ok",t[1]);{const t=[e,new Er(0,"BadPrimitive","a guid",n)];return new Xt(1,"Error",t)}}{const t=[e,new Er(0,"BadPrimitive","a guid",n)];return new Xt(1,"Error",t)}}(e,n)}}:"System.Object"===u?function(e){return function(e){return new Xt(0,"Ok",e)}}:Yu(e,n,t,r)}{const e=c;return function(n){return function(t){return e.contents(n)(t)}}}var s,l}function Ku(e){if(null!=e){return ai((function(e,n){return new nt(n[1])}),e.Coders)}return wi({Compare:ze})}Object.defineProperty(Gu.prototype,"Required",{get:function(){return this.required}}),Object.defineProperty(Gu.prototype,"Optional",{get:function(){return this.optional}});Xn((function(){}));const Ju=Xn((function(e,n){this.width=e,this.height=n}),et);function Zu(){return ft("Models.Size")}function Qu(e,n){return this instanceof Ju?Ju.call(this,e,n):new Ju(e,n)}function ec(e){return e.width}function nc(e){return e.height}Ju.prototype.toString=function(){return"("+ye(0|ec(this))+","+ye(0|nc(this))+")"};const tc=Xn((function(e,n){this.x=e,this.y=n}),et);function rc(){return ft("Models.Position")}function ic(e,n){return this instanceof tc?tc.call(this,e,n):new tc(e,n)}function oc(e){return e.x}function uc(e){return e.y}function cc(){return ic(0,0)}tc.prototype.toString=function(){return"("+ye(0|oc(this))+","+ye(0|uc(this))+")"};const sc=Xn((function(e){this.name=e,this.data=new Wt(0,"Choice1Of4",null)}));function lc(e){return this instanceof sc?sc.call(this,e):new sc(e)}function fc(e){return e.name}const ac=Xn((function(e,n,t){this.Texture=e,this.TextureSliceSize=n,this.TextureSlicePosition=t}),et);const dc=Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);const hc=Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);const wc=Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);const gc=Xn((function(e,n,t,r,i,o,u){this.Position=e,this.Size=n,this.Texture=t,this.TextureSliceSize=r,this.TextureSlicePosition=i,this.HeightMap=o,this.Effect=u}),et);const mc=Xn((function(e,n,t,r,i,o,u,c,s,l){this.Position=e,this.Children=n,this.Shader=t,this.Scale=0|r,this.ActiveArea=i,this.Enter=o,this.Clicked=u,this.Dragging=c,this.Blur=s,this.Leave=l}),et);const pc=Xn((function(e,n,t,r){this.Size=e,this.Children=n,this.Shader=t,this.ActiveArea=r}),et);const xc=Xn((function(e,n){this.Key=e,this.Last=n}),et);const vc=Xn((function(e,n){this.Render=e,this.Last=n}),et);const yc=Xn((function(e,n,t){this.Render=e,this.Rendered=n,this.Last=t}),et);const Sc=Xn((function(e,n,t,r,i){this.Count=0|e,this.Texture=n,this.HeightMapTexture=t,this.Size=r,this.Child=i}),et);const Ec=Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);const bc=Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);const Ac=Xn((function(e,n,t,r){this.Point=e,this.Start=n,this.End=t,this.Direction=r}),et);Xn((function(e,n,t,r){this.Point=e,this.Start=n,this.End=t,this.Direction=r}),et);const Tc=Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);const Cc=Xn((function(e,n){this.Id=e,this.Actions=n}),et);const Rc=Xn((function(e,n){this.Position=e,this.Items=n}),et);const Pc=Xn((function(e,n,t,r,i){this.Visible=e,this.Items=n,this.Offset=0|t,this.Hover=r,this.Selected=i}),et);const Mc=Xn((function(e,n,t,r,i,o,u,c,s){this.SomeValue=e,this.Dragger=n,this.WorldMapSize=t,this.WorldMap=r,this.ActivePoint=i,this.HoverPoint=o,this.Players=u,this.Menu=c,this.Weather=s}),et);const Fc=Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);const Oc=Xn((function(e,n,t,r,i,o,u,c){this.Scale=0|e,this.Resolution=n,this.Content=t,this.MouseItem=r,this.DragItem=i,this.ClickItem=o,this.HoverItem=u,this.BlurItem=c}),et);const zc=Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);const Lc=Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);const kc=Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);const Bc=Xn((function(e,n,t,r){this.TextureName=e,this.SlicePosition=n,this.SliceSize=t,this.RenderOffset=r}),et);const _c=Xn((function(e,n,t,r,i,o){this.Options=e,this.TextureName=n,this.SlicePosition=t,this.SliceSize=r,this.RenderOffset=i,this.HeightMap=o}),et);const Dc=Xn((function(e){this.Layers=e}),et);const Uc=Xn((function(e,n,t){this.Name=e,this.Frames=n,this.Size=t}),et);function Nc(){return at("Models.SpriteResource",[],Uc,()=>[["Name",pt],["Frames",gt(at("Models.Frame",[],Dc,()=>[["Layers",gt(at("Models.Layer",[],_c,()=>[["Options",gt(dt("Models.LayerOption",[],kc,()=>["NoHighlight",["Shadow",[xt,xt]],"Ground","Leaf",["AutoHeightMap",[xt]]]))],["TextureName",pt],["SlicePosition",rc()],["SliceSize",Zu()],["RenderOffset",rc()],["HeightMap",ht(at("Models.LayerHeightMap",[],Bc,()=>[["TextureName",pt],["SlicePosition",rc()],["SliceSize",Zu()],["RenderOffset",rc()]]))]]))]]))],["Size",Zu()]])}function Ic(e){return String(e)}function Hc(e){const n={};return lr((function(e){n[e[0]]=e[1]}),e),n}function jc(e){return String(e)}Xn((function(){}));const Gc=new br("",wi({Compare:ze}));function Vc(e){var n,t;return Hc([["x",(n=0|oc(e),n)],["y",(t=0|uc(e),t)]])}function Wc(e){var n,t;return Hc([["width",(n=0|ec(e),n)],["height",(t=0|nc(e),t)]])}const Xc=(()=>{let e,n,t;t=new br(jn(),ci("System.Int64",[jc,Fu],Gc.Coders)),n=new br(jn(),ci("System.Decimal",[Ic,function(e){return function(n){return function(e,n){if("number"==typeof n){let e;return e=new bn(n),new Xt(0,"Ok",e)}if("string"==typeof n){const t=Tn(n);if(t[0])return new Xt(0,"Ok",t[1]);{const t=[e,new Er(0,"BadPrimitive","a decimal",n)];return new Xt(1,"Error",t)}}{const t=[e,new Er(0,"BadPrimitive","a decimal",n)];return new Xt(1,"Error",t)}}(e,n)}}],t.Coders));const r=function(e){return function(n){return Vu((function(e){return ic(e.Required.Field("x",Ge(2,Pu)),e.Required.Field("y",Ge(2,Pu)))}),e,n)}};e=new br(jn(),ci("Models.Position",[Vc,r],n.Coders));const i=function(e){return function(n){return Vu((function(e){return Qu(e.Required.Field("width",Ge(2,Pu)),e.Required.Field("height",Ge(2,Pu)))}),e,n)}};return new br(jn(),ci("Models.Size",[Wc,i],e.Coders))})();!function(){this instanceof yr?yr.call(this):new yr}();class qc{constructor(e=!1){this._id=0,this._cancelled=e,this._listeners=new Map}get isCancelled(){return this._cancelled}cancel(){if(!this._cancelled){this._cancelled=!0;for(const[,e]of this._listeners)e()}}addListener(e){const n=this._id;return this._listeners.set(this._id++,e),n}removeListener(e){return this._listeners.delete(e)}register(e,n){const t=this,r=this.addListener(null==n?e:()=>e(n));return{Dispose(){t.removeListener(r)}}}}class Yc extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,Yc.prototype)}}class $c{constructor(){this.callCount=0}static get maxTrampolineCallCount(){return 2e3}incrementAndCheck(){return this.callCount++>$c.maxTrampolineCallCount}hijack(e){this.callCount=0,setTimeout(e,0)}}function Kc(e){return n=>{if(n.cancelToken.isCancelled)n.onCancel(new Yc);else if(n.trampoline.incrementAndCheck())n.trampoline.hijack(()=>{try{e(n)}catch(e){n.onError(e)}});else try{e(n)}catch(e){n.onError(e)}}}function Jc(e,n){return Kc(t=>{e({onSuccess:e=>{try{n(e)(t)}catch(e){t.onError(e)}},onError:t.onError,onCancel:t.onCancel,cancelToken:t.cancelToken,trampoline:t.trampoline})})}function Zc(e){return Kc(n=>n.onSuccess(e))}const Qc=new class{Bind(e,n){return Jc(e,n)}Combine(e,n){return this.Bind(e,()=>n)}Delay(e){return Kc(n=>e()(n))}For(e,n){const t=e[Symbol.iterator]();let r=t.next();return this.While(()=>!r.done,this.Delay(()=>{const e=n(r.value);return r=t.next(),e}))}Return(e){return Zc(e)}ReturnFrom(e){return e}TryFinally(e,n){return Kc(t=>{e({onSuccess:e=>{n(),t.onSuccess(e)},onError:e=>{n(),t.onError(e)},onCancel:e=>{n(),t.onCancel(e)},cancelToken:t.cancelToken,trampoline:t.trampoline})})}TryWith(e,n){return Kc(t=>{e({onSuccess:t.onSuccess,onCancel:t.onCancel,cancelToken:t.cancelToken,trampoline:t.trampoline,onError:e=>{try{n(e)(t)}catch(e){t.onError(e)}}})})}Using(e,n){return this.TryFinally(n(e),()=>e.Dispose())}While(e,n){return e()?this.Bind(n,()=>this.While(e,n)):this.Return(void 0)}Zero(){return Kc(e=>e.onSuccess(void 0))}};function es(e){}function ns(e){return n=n=>e.then(n[0]).catch(e=>(e instanceof Yc?n[2]:n[1])(e)),Kc(e=>n([e.onSuccess,e.onError,e.onCancel]));var n}const ts=new qc;function rs(e,n){return function(e,n){return is(e,n)}(e,n)}function is(e,n,t,r,i){"function"!=typeof n&&(i=n,n=null);const o=new $c;e({onSuccess:n||es,onError:t||es,onCancel:r||es,cancelToken:i||ts,trampoline:o})}function os(e,n){let t,r;t=Qi(r=iu((function(e){return cu([e[0],e[1]])}),n),Array);const i=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),i}function us(e,n,t){e.clearColor(0,0,0,0),e.clear(~~e.COLOR_BUFFER_BIT|~~e.DEPTH_BUFFER_BIT)}function cs(e,n,t){e.viewport(0,0,n,t)}function ss(e,n,t){const r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n,t,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),r}function ls(e,n){e.deleteTexture(n)}function fs(e,n){const t=e.createFramebuffer();return e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t}function as(e,n){e.deleteFramebuffer(n)}function ds(e,n){e.bindFramebuffer(e.FRAMEBUFFER,n)}function hs(e){e.bindFramebuffer(e.FRAMEBUFFER,null)}const ws=Ue(null),gs=Ue((function(e){throw new Error("Dispatch not set")}));function ms(e){gs()(new Lc(1,"Game",e))}function ps(e){gs()(new Lc(0,"Host",e))}const xs=Ue((function(e){throw new Error("getSprite not set")})),vs=2400;function ys(){const e=en();let n=e;const t=function(e){const t=nn(n,e);return n=t,t};let r;const i=new dc(3,"Normal"),o=new Pc(!1,cu(["Build Fence","Pick Apple","Chop Down Tree","Collect Rock","Walk"]),-46,null,null);let u,c;var s;return u=di(c=ou((function(e){return[e.Id,e]}),cu([new Cc("Player1",cu([new Tc(1,"Idle",new Ac([0,1],Ke(),Ke(),new bc(2,"East"))),new Tc(1,"Idle",new Ac([0,1],n,t((s=5,pu(0,0,s))),new bc(2,"East"))),new Tc(0,"Move",new Ac([1,1],n,t(vs),new bc(2,"East"))),new Tc(0,"Move",new Ac([2,1],n,t(vs),new bc(2,"East"))),new Tc(0,"Move",new Ac([2,2],n,t(vs),new bc(1,"South"))),new Tc(0,"Move",new Ac([1,2],n,t(vs),new bc(3,"West"))),new Tc(0,"Move",new Ac([1,1],n,t(vs),new bc(0,"North"))),new Tc(1,"Idle",new Ac([1,1],n,Je(),new bc(2,"East")))])),new Cc("Player2",new $n(new Tc(1,"Idle",new Ac([1,2],e,Je(),new bc(1,"South"))),new $n))])),{Compare:ze}),[r=new Mc("Hello world",[0,0],[10,10],di(au((function(e){return tu(e[1].Items)>0}),function(e){return eu(ur((function(e,n){return Qo((function(e,n){return new $n(n,e)}),e,n)}),new $n,e))}(du(10,(function(e){return du(10,(function(n){const t=5===n&&5===e?cu(["Temp Floor","Tree - Main"]):new $n("Temp Floor",new $n);return[[n,e],new Rc([n,e],t)]}))})))),{Compare:ke}),null,null,u,o,i),cu([new Fc(5,"UpdatePlayer","Player1"),new Fc(5,"UpdatePlayer","Player2")])]}function Ss(e,n,t){var r,i,o,u,c,s,l,f,a,d,h,w,g,m,p,x,v;switch(t.tag){case 1:return[(r=[n.Dragger[0]+t.fields[0],n.Dragger[1]+t.fields[1]],i=new Pc(!1,n.Menu.Items,n.Menu.Offset,n.Menu.Hover,n.Menu.Selected),new Mc(n.SomeValue,r,n.WorldMapSize,n.WorldMap,n.ActivePoint,n.HoverPoint,n.Players,i,n.Weather)),new $n];case 3:return[(null,new Mc(n.SomeValue,n.Dragger,n.WorldMapSize,n.WorldMap,n.ActivePoint,null,n.Players,n.Menu,n.Weather)),new $n];case 2:return[(o=[t.fields[0],t.fields[1]],new Mc(n.SomeValue,n.Dragger,n.WorldMapSize,n.WorldMap,n.ActivePoint,o,n.Players,n.Menu,n.Weather)),new $n];case 4:return[(u=[t.fields[0],t.fields[1]],c=[t.fields[0],t.fields[1]],s=new Pc(!0,n.Menu.Items,n.Menu.Offset,n.Menu.Hover,n.Menu.Selected),new Mc(n.SomeValue,n.Dragger,n.WorldMapSize,n.WorldMap,c,u,n.Players,s,n.Weather)),new $n];case 5:{let r;if(null!=(r=li(t.fields[0],n.Players))){const i=r;let o;if(Fe(o=au((function(n){return n.tag,rn(e,n.fields[0].End)<=0}),i.Actions),i.Actions))return[n,new $n];{const e=new Cc(i.Id,o);return[(l=ci(t.fields[0],e,n.Players),new Mc(n.SomeValue,n.Dragger,n.WorldMapSize,n.WorldMap,n.ActivePoint,n.HoverPoint,l,n.Menu,n.Weather)),nu(nr((function(){let e;var n,r,i;return n=function(e){return e.tag,e.fields[0].End},r=o,null==(e=eu(Qo((function(e,t){const r=n(t);return null==r?e:new $n(Ht(r),e)}),new $n,r))).tail?tr():pr(new Fc(6,"Postponed",(i={Compare:rn},hu((function(e,n){return i.Compare(n,e)>0?e:n}),e)),new Fc(5,"UpdatePlayer",t.fields[0])))})))]}}return[n,new $n]}case 7:return[(a=n.Menu.Offset+t.fields[0]|0,f=new Pc(n.Menu.Visible,n.Menu.Items,a,n.Menu.Hover,n.Menu.Selected),new Mc(n.SomeValue,n.Dragger,n.WorldMapSize,n.WorldMap,n.ActivePoint,n.HoverPoint,n.Players,f,n.Weather)),new $n];case 8:return Fe(t.fields[0],n.Menu.Selected)?[(d=new Pc(!1,n.Menu.Items,n.Menu.Offset,n.Menu.Hover,n.Menu.Selected),new Mc(n.SomeValue,n.Dragger,n.WorldMapSize,n.WorldMap,n.ActivePoint,n.HoverPoint,n.Players,d,n.Weather)),new $n]:[(g=0|(m=0|De(ze,0,t.fields[0]),p=tu(n.Menu.Items)-1|0,_e(ze,p,m)),w=g,h=new Pc(n.Menu.Visible,n.Menu.Items,n.Menu.Offset,n.Menu.Hover,w),new Mc(n.SomeValue,n.Dragger,n.WorldMapSize,n.WorldMap,n.ActivePoint,n.HoverPoint,n.Players,h,n.Weather)),new $n];case 9:return[(x=new Pc(n.Menu.Visible,n.Menu.Items,n.Menu.Offset,t.fields[0],n.Menu.Selected),new Mc(n.SomeValue,n.Dragger,n.WorldMapSize,n.WorldMap,n.ActivePoint,n.HoverPoint,n.Players,x,n.Weather)),new $n];case 6:return[n,new $n];case 10:return[(v=1===n.Weather.tag?new dc(2,"Rain"):2===n.Weather.tag?new dc(3,"Normal"):3===n.Weather.tag?new dc(0,"Fog"):new dc(1,"Snow"),new Mc(n.SomeValue,n.Dragger,n.WorldMapSize,n.WorldMap,n.ActivePoint,n.HoverPoint,n.Players,n.Menu,v)),new $n];default:return[n,new $n]}}function Es(e,n){return{Equals:(e,t)=>n(e,t),GetHashCode:n=>e(n)}}function bs(){return Es(Ce,Fe)}const As=new Map([]),Ts=new Map([]),Cs=gi([],bs()),Rs=gi([],bs()),Ps=Xn((function(e,n,t,r){this.PerRow=0|e,this.DefaultWidth=0|n,this.Height=0|t,this.Widths=r}),et);new Ps(25,20,22,new Int32Array([6,6,10,14,13,15,15,6,9,9,12,11,6,11,6,11,13,7,12,13,11,12,13,10,12,13,6,6,12,11,12,12,12,12,13,13,13,10,9,13,13,5,11,12,9,17,13,13,13,13,13,13,10,13,12,17,12,12,11,8,11,8,12,11,8,11,11,10,11,10,9,11,12,6,6,10,5,18,12,11,11,11,9,10,6,12,10,18,9,12,9,8,6,8,11])),new Ps(7,65,65,new Int32Array([19,25,31,38,38,62,58,14,25,25,38,42,19,25,19,21,38,38,38,38,38,38,38,38,38,38,21,21,42,42,42,33,69,54,50,50,54,46,42,54,54,25,29,54,46,67,54,54,42,54,50,42,46,54,54,71,54,54,46,25,21,25,35,38,25,33,38,33,38,33,25,38,38,21,21,38,21,58,38,38,38,38,25,29,21,38,38,54,38,38,33,36,15,36,41]));const Ms=Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);const Fs=Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);Xn((function(){}));function Os(e,n,t){return function(r){let i;const o=Qu(oc((i=ks(r,0,0))[1])-oc(i[0]),uc(i[1])-uc(i[0]));let u,c;const s=new Ms(0,"Left");switch((c=jt(n,s)).tag){case 1:u=~~((ec(e)-ec(o))/2);break;case 2:u=ec(e)-ec(o);break;default:u=0}let l,f;const a=new Fs(0,"Top");switch((f=jt(t,a)).tag){case 1:l=~~((nc(e)-nc(o))/2);break;case 2:l=nc(e)-nc(o);break;default:l=0}return Bs(u,l)(r)}}function zs(e){let n;const t=me(As,e,null);if(null!=(n=t[0]?t[1]:null)){return n}{const n=lc(e);return Xe(As,e,n),n}}function Ls(e,n,t,r,i,o,u,c){var s,l;let f,a;if(f=jt(e,0),a=jt(n,0),null!=c){const e=c,n=new gc(ic(f+oc(e.RenderOffset),a+uc(e.RenderOffset)),Qu(0|jt(r,0|ec(e.SliceSize)),0|jt(i,0|nc(e.SliceSize))),zs(e.TextureName),e.SliceSize,e.SlicePosition,null!=e.HeightMap?(s=e.HeightMap,new ac(zs(s.TextureName),s.SliceSize,s.SlicePosition)):null,(d=function(e){switch(e.tag){case 3:return new wc(0,"Leaf");case 1:return new wc(1,"Shadow",e.fields[0],e.fields[1]);default:return null}},h=e.Options,null!=(l=function(e){e:for(;;){const n=e;if(n>=h.length)return null;{const t=d(h[n]);if(null==t){e=n+1;continue e}return t}}}(0))?l:null));return new Ec(0,"Sprite",n)}{let e,n,c;e=jt(r,32),n=jt(i,32),c=jt(t,"");const s=new gc(ic(f,a),Qu(e,n),zs(c),Gt(o,(function(){return Qu(e,n)})),Gt(u,(function(){return ic(0,0)})),null,null);return new Ec(0,"Sprite",s)}var d,h}function ks(e,n,t){let r=ic(0,0),i=ic(0,0);return uu((function(e){var o,u,c,s,l,f,a,d,h,w,g,m;e:for(;;){const p=e;switch(p.tag){case 1:r=ic((o=0|oc(r),_e(ze,0|oc(p.fields[0].ActiveArea[0])+n,o)),(u=0|uc(r),_e(ze,0|uc(p.fields[0].ActiveArea[0])+t,u))),i=ic((c=0|oc(i),De(ze,0|oc(p.fields[0].ActiveArea[1])+n,c)),(s=0|uc(i),De(ze,0|uc(p.fields[0].ActiveArea[1])+t,s)));break;case 2:e=p.fields[0].Last;continue e;case 3:r=ic((l=0|oc(r),_e(ze,0|oc(p.fields[0].ActiveArea[0])+n,l)),(f=0|uc(r),_e(ze,0|uc(p.fields[0].ActiveArea[0])+t,f))),i=ic((a=0|oc(i),De(ze,0|oc(p.fields[0].ActiveArea[1])+n,a)),(d=0|uc(i),De(ze,0|uc(p.fields[0].ActiveArea[1])+t,d)));break;case 4:case 5:e=p.fields[0].Last;continue e;case 7:e=p.fields[0].Child;continue e;case 6:break;default:r=ic((h=0|oc(r),_e(ze,oc(p.fields[0].Position)+n|0,h)),(w=0|uc(r),_e(ze,uc(p.fields[0].Position)+t|0,w))),i=ic((g=0|oc(i),De(ze,oc(p.fields[0].Position)+ec(p.fields[0].Size)+n|0,g)),(m=0|uc(i),De(ze,uc(p.fields[0].Position)+nc(p.fields[0].Size)+t|0,m)))}break}}),e),[r,i]}function Bs(e,n,t,r,i,o,u,c,s){return function(l){let f,a,d,h,w;var g,m;switch(f=au((function(e){return 6!==e.tag}),l),a=jt(e,0),d=jt(n,0),h=jt(r,1),w=ks(f,a,d),null==f.tail?g=1:1===f.head.tag?null==f.tail.tail?(g=0,m=f.head.fields[0]):g=2:g=6===f.head.tag&&null==f.tail.tail?1:2,g){case 0:{let e,n;const r=ic(a,d);let l,f,h;if(n=ic(oc(r)+oc(m.Position),uc(r)+uc(m.Position)),null!=m.Shader){l=m.Shader}else l=t;if(null!=m.Enter){f=m.Enter}else f=i;if(null!=m.Leave){h=m.Leave}else h=o;return e=new mc(n,m.Children,l,m.Scale,[w[0],w[1]],f,null!=m.Clicked?m.Clicked:u,null!=m.Dragging?m.Dragging:c,null!=m.Blur?m.Blur:s,h),new Ec(1,"Relative",e)}case 1:return new Ec(6,"Empty");case 2:{let e;const n=ic(a,d),r=Qi(f,Array);return e=new mc(n,r,t,h,[w[0],w[1]],i,u,c,s,o),new Ec(1,"Relative",e)}}}}function _s(e){return new Ec(2,"Dynamic",new vc(e,e(en())))}function Ds(e,n,t){return function(r){let i;const o=new hc(0,"Default");let u,c;return i=jt(t,o),c=Qi(r,Array),u=new pc(Qu(e,n),c,i,[ic(0,0),ic(e,n)]),new Ec(3,"SubRender",u)}}function Us(e,n){return function(t){return r=function(){let r,i;const o=me(Ts,e,null);if(null!=(i=o[0]?o[1]:null))r=i;else{let t;t=n(),Ts.set(e,t),r=t}return new Ec(4,"Stateful",new xc(e,t(r)))},new Ec(5,"NoCache",new yc(r,!0,r()));var r}}const Ns=Ue(Qu(0,0)),Is=Ue(Qu(0,0)),Hs=Ue(null),js=Xn((function(e,n,...t){Kn.call(this,e,n,...t)}),Kn);function Gs(){Cs.clear()}function Vs(e,n){const t=me(Cs,e,null);if(t[0])return t[1];{const t=n(new js(0,"DoNotUseModelInsideDependsOn"),e);return r=e,i=t,Cs.size>5e4&&Gs(),Cs.set(r,i),t}var r,i}function Ws(e,n,t,r){const i=[];let o;if(function n(r,o,u,c){e:for(;;){const s=r,l=o,f=u,a=c;switch(a.tag){case 1:{let r;const i=ic(oc(a.fields[0].ActiveArea[0])*f,uc(a.fields[0].ActiveArea[0])*f);let o;r=ic(oc(i)+oc(l),uc(i)+uc(l));const u=ic(oc(a.fields[0].ActiveArea[1])*f,uc(a.fields[0].ActiveArea[1])*f);if(o=ic(oc(u)+oc(l),uc(u)+uc(l)),oc(e)>=oc(r)&&uc(e)>=uc(r)&&oc(e)<oc(o)&&uc(e)<uc(o)){let e;const r=ic(oc(a.fields[0].Position)*f,uc(a.fields[0].Position)*f);let i;e=ic(oc(r)+oc(l),uc(r)+uc(l));const o=t(a.fields[0]);if(null!=o){i=ru(new $n([Ht(o),a.fields[0]],new $n),s)}else i=s;const u=Ve(1,n,[i,e,f]);a.fields[0].Children.forEach(u)}break}case 3:{const t=Qu(ec(a.fields[0].Size)*f,nc(a.fields[0].Size)*f);if(oc(e)>=oc(l)&&uc(e)>=uc(l)&&oc(e)<oc(l)+ec(t)&&uc(e)<uc(l)+nc(t)){const e=Ve(1,n,[s,l,f]);a.fields[0].Children.forEach(e)}break}case 2:case 4:case 5:r=s,o=l,u=f,c=a.fields[0].Last;continue e;case 6:break;case 7:r=s,o=l,u=f,c=a.fields[0].Child;continue e;default:if(tu(s)>0){let n;const t=ic(oc(a.fields[0].Position)*f,uc(a.fields[0].Position)*f);n=ic(oc(t)+oc(l),uc(t)+uc(l));const r=Qu(ec(a.fields[0].Size)*f,nc(a.fields[0].Size)*f);oc(e)>=oc(n)&&uc(e)>=uc(n)&&oc(e)<oc(n)+ec(r)&&uc(e)<uc(n)+nc(r)&&i.splice(0,0,s)}}break}}(new $n,ic(0,0),n,r),null!=(o=cr(i))){return cr(o)}return null}function Xs(e,n){var t,r;const i=function(e,n,t,r,i,o){const u=t-i|0,c=r-o|0,s=0|~~(u/e.Scale),l=0|(u>=0?t-u%e.Scale:t+(0-u)%e.Scale),f=0|~~(c/e.Scale),a=0|(c>=0?r-c%e.Scale:r+(0-c)%e.Scale);n([s,f]);const d=new Wt(2,"Choice3Of3",[l,a]);return new Oc(e.Scale,e.Resolution,e.Content,d,e.DragItem,e.ClickItem,e.HoverItem,e.BlurItem)},o=function(e,n){var t,r,i;switch(null==e?t=null==n?1:2:null!=n?(t=0,r=Ht(e),i=Ht(n)):t=2,t){case 0:return r===i;case 1:return!0;case 2:return!1}};switch(n.tag){case 1:var u,c,s,l;switch(null!=e.DragItem&&null!=e.DragItem.Dragging&&1===e.MouseItem.tag?(e.DragItem.Dragging,Math.abs(e.MouseItem.fields[0][0]-n.fields[0])>2||Math.abs(e.MouseItem.fields[0][1]-n.fields[1])>2||n.fields[2]?(u=0,c=e.DragItem.Dragging,s=e.MouseItem.fields[0][0],l=e.MouseItem.fields[0][1]):u=1):u=1,u){case 0:return[i(e,c,n.fields[0],n.fields[1],s,l),new $n];case 1:var f,a,d,h;switch(null!=e.DragItem&&null!=e.DragItem.Dragging&&2===e.MouseItem.tag?(f=0,a=e.DragItem.Dragging,d=e.MouseItem.fields[0][0],h=e.MouseItem.fields[0][1]):f=1,f){case 0:return[i(e,a,n.fields[0],n.fields[1],d,h),new $n];case 1:{let t,r;if(t=Vt((function(e){return e[1]}),r=Ws(ic(n.fields[0],n.fields[1]),e.Scale,(function(e){return e.Enter}),e.Content)),o(e.HoverItem,t))return[e,new $n];var w,g,m,p;switch(null!=e.HoverItem&&null!=e.HoverItem.Leave?(w=0,g=e.HoverItem.Leave):w=1,w){case 0:g()}switch(null!=t&&null!=t.Enter?(m=0,p=t.Enter):m=1,m){case 0:p()}return[new Oc(e.Scale,e.Resolution,e.Content,e.MouseItem,e.DragItem,e.ClickItem,t,e.BlurItem),new $n]}}}case 2:var x,v,y,S;if(!o(e.ClickItem,e.BlurItem))switch(null!=e.ClickItem&&null!=e.ClickItem.Blur?(x=0,v=e.ClickItem.Blur):x=1,x){case 0:v()}switch(null!=e.ClickItem&&null!=e.ClickItem.Clicked&&1===e.MouseItem.tag?(y=0,S=e.ClickItem.Clicked):y=1,y){case 0:S()}return[(null,t=new Wt(0,"Choice1Of3",null),new Oc(e.Scale,e.Resolution,e.Content,t,e.DragItem,e.ClickItem,e.HoverItem,null)),new $n];case 3:{const t=Qu(n.fields[0],n.fields[1]);let r;return r=(0|De(ze,n.fields[0],n.fields[1]))>1e3?2:1,Ns(t),Is(Qu(~~(ec(t)/r),~~(nc(t)/r))),Gs(),[new Oc(r,t,e.Content,e.MouseItem,e.DragItem,e.ClickItem,e.HoverItem,e.BlurItem),new $n(new zc(4,"Redraw"),new $n)]}case 4:case 5:case 6:return[e,new $n];default:{const t=ic(n.fields[0],n.fields[1]);let i,o,u,c;return i=Vt((function(e){return e[1]}),o=Ws(t,e.Scale,(function(e){return e.Dragging}),e.Content)),u=Vt((function(e){return e[1]}),c=Ws(t,e.Scale,(function(e){return e.Clicked}),e.Content)),[(r=new Wt(1,"Choice2Of3",[n.fields[0],n.fields[1]]),new Oc(e.Scale,e.Resolution,e.Content,r,i,u,e.HoverItem,e.ClickItem)),new $n]}}}const qs=Xn((function(e,n,t,r){this.Texture=e,this.TextureSize=n,this.TextureSlicePosition=t,this.TextureSliceSize=r}),et);const Ys=Xn((function(e,n,t,r,i){this.Size=e,this.GroupTexture=n,this.GroupFrameBuffer=t,this.HeightMapTexture=r,this.HeightMapFrameBuffer=i}),et);function $s(e){return Bs()(nu(nr((function(){return ar((function(e){return Ls(null,null,null,null,null,null,null,e)}),e.Frames[0].Layers)}))))}const Ks=Xn((function(e,n,t,r){this.Start=e,this.Sprite=n,this.Slot=0|t,this.Result=r}),et);const Js=new xe((function(){let e;return hi(e=qi((function(e){var n,t;return[e,xs()((n="'"===e?"Apostrophe":"("===e?"Open Parenthesis":")"===e?"Close Parenthesis":"-"===e?"Minus":e,t=Dn(_n("Menu Font - %s")),t(n)))]}),"ABCDEFGHIJKLMNOPQRSTUVWXYZ-'()".split(""),Array),{Compare:ze})}));function Zs(e,n){return Vs([e,n],(function(e,n){const t=function(e){return si(e,Js.Value)};let r,i,o=0,u=0;r=qi((function(e){return Vn(e,[" "],null,0)}),i=Vn(n[1].toUpperCase(),["\r\n"],null,0),Array);const c=[];c.push([]);for(let e=0;e<=r.length-1;e++){const i=r[e];for(let e=0;e<=i.length-1;e++){const r=i[e],s=r.length-1+Zi((function(e){return 0|ec(t(e).Size)}),r.split(""),{GetZero:()=>0,Add:(e,n)=>e+n})|0;o+s>n[0]&&(u+=10,o=0,c.push([])),lr((function(e){if(" "===e)o+=4;else{const n=t(e),r=0|ec(n.Size),i=0|o;o=o+r+1,c[c.length-1].push(Ls(i,null,null,null,null,null,null,n.Frames[0].Layers[0]))}}),(r+" ").split(""))}}let s;return s=dr((function(e,n){return Bs(null,10*e)(nu(n))}),c),nu(s)}))}Xn((function(e){this.Start=e}),et);Xn((function(e,n){this.Value=e,this.Active=n}),et);const Qs=Xn((function(e,n,t,r,i,o){this.Point=e,this.Start=n,this.End=t,this.SpriteResource=r,this.Slot=0|i,this.Result=o}),et);function el(e){return e.filter((function(e){if(0===e.Options.length)return!0;{let n;return!(n=e.Options.some((function(e){return 1===e.tag})))}}))}function nl(e,n,t){var r,i,o;let u,c;var s;if(null!=(c=null!=(s=t.Actions).tail?It(s.head):null)){const e=c,n=1===e.tag?[e.fields[0].Point,e.fields[0].Start,e.fields[0].End,e.fields[0].Direction,"Idle"]:[e.fields[0].Point,e.fields[0].Start,e.fields[0].End,e.fields[0].Direction,"Walk"];u=[n[0],n[1],n[2],(r=1===n[3].tag?"South":2===n[3].tag?"East":3===n[3].tag?"West":"North",i=Dn(_n("Player - %s - %s")),o=i(r),o(n[4]))]}else u=null;if(null!=u){const t=u[1],r=u[3],i=u[0],o=u[2];return Us(e,(function(){return new Qs(i,t,o,xs()(r),-1,new Ec(6,"Empty"))}))((function(e){return _s((function(u){Me(e.Point,i)&&tn(e.Start,t)&&tn(e.End,o)&&e.SpriteResource.Name===r||(e.Point=i,e.Start=t,e.End=o,e.SpriteResource=xs()(r),e.Slot=-1);const c=0|e.SpriteResource.Frames.length;let s;let l,f,a,d;s=on(e.End,e.Start);const h=on(u,e.Start)/s*c;if(l=De(ze,0,f=_e(ze,c-1|0,a=~~(d=Math.floor(h)))),e.Slot!==l){let t;if(n){const n=e.SpriteResource.Frames[l].Layers;t=n.filter((function(e){return e.Options.some((function(e){return 1===e.tag}))}))}else{const n=e.SpriteResource.Frames[l].Layers;t=el(n)}e.Result=Bs()(nu(nr((function(){return ar((function(e){return Ls(null,null,null,null,null,null,null,e)}),t)}))))}return e.Result}))}))}return new Ec(6,"Empty")}function tl(e,n){const t=nu(nr((function(){return ar((function(e){return xs()(e)}),e.Items)})));return Bs(64*e.Position[0],64*e.Position[1])(new $n(Bs(-128,-128)(cu([Ds(320,256,new hc(3,"Color",1,1,1,.1*n))(new $n(Bs(128,128)(nu(nr((function(){return er((function(e){return er((function(e){return 0!==e.Options.length&&Yi(new kc(0,"NoHighlight"),e.Options,{Equals:Fe,GetHashCode:Ce})?tr():pr(Ls(null,null,null,null,null,null,null,e))}),e.Frames[0].Layers)}),t)})))),new $n)),Ds(320,256,new hc(6,"OutlineColor",1,1,1,.4*n))(new $n(Bs(128,128)(nu(nr((function(){return er((function(e){return er((function(e){return 0!==e.Options.length&&Yi(new kc(0,"NoHighlight"),e.Options,{Equals:Fe,GetHashCode:Ce})?tr():pr(Ls(null,null,null,null,null,null,null,e))}),e.Frames[0].Layers)}),t)})))),new $n))])),new $n))}function rl(e){return Bs(e.Dragger[0],e.Dragger[1],null,null,null,null,null,(function(e){let n;ms(n=new Fc(1,"Drag",e[0],e[1]))}))(cu([Vs([e.WorldMapSize,e.WorldMap,e.Players,e.Weather],(function(e,n){const t=$i(n[0][1],(function(e){return $i(n[0][0],(function(e){return[]}),Array)}),Array);fi((function(e,n){t[e[1]][e[0]].push(new Wt(0,"Choice1Of2",n.Items))}),n[1]);const r=[];return fi((function(e,n){const i=null!=n.Actions.tail?(n.Actions.head.tag,n.Actions.head.fields[0].Point):null;if(null!=i){const e=0|i[1],o=0|i[0];t[e][o].push(new Wt(1,"Choice2Of2",n)),"Player1"===n.Id&&r.push([[o,e],n])}}),n[2]),Bs()(nu(nr((function(){return Zt(pr(Vs(t,(function(e,n){return Bs(null,null,new hc(2,"World"))(nu(nr((function(){return er((function(e){const t=n[e];return er((function(n){let r,i;const o=t[n];var u,c;return u=function(e){return 0===e.tag?e.fields[0]:null},c=o,r=nu(i=nr(()=>vr(e=>{let n=e.next();for(;!n.done;){const t=u(n.value);if(null!=t)return[Ht(t),e];n=e.next()}return null},c[Symbol.iterator]()))),pr(Bs(64*n,64*e,null,null,(function(){ms(new Fc(2,"Hover",n,e))}),(function(){ms(new Fc(3,"Leave",n,e))}),(function(){ms(new Fc(4,"Select",n,e))}))(new $n(function(e,n){const t=me(Rs,e,null);if(t[0])return t[1].Count=t[1].Count+1,new Ec(7,"Reuseable",t[1]);{const t=n(new js(0,"DoNotUseModelInsideDependsOn"),e);let r;const i=Qu(oc((r=ks(new $n(t,new $n),0,0))[1])-oc(r[0]),uc(r[1])-uc(r[0])),o=new Sc(1,null,null,i,t);return Xe(Rs,e,o),new Ec(7,"Reuseable",o)}}(r,(function(e,n){return Bs()(nu(nr((function(){return er((function(e){return er((function(e){let n;return ar((function(e){return Ls(null,null,null,null,null,null,null,e)}),n=function(e){let n;return(n=el(e)).filter((function(e){return e.Options.some((function(e){return 2===e.tag}))}))}(xs()(e).Frames[0].Layers))}),e)}),n)}))))})),new $n)))}),wr(0,1,t.length-1))}),wr(0,1,n.length-1))}))))}))),nr((function(){return Zt(1===n[3].tag?tr():0===n[3].tag?tr():pr(Ds(ec(Is()),nc(Ns()))(nu(nr((function(){return ar((function(e){return Vs([e,t[e],"Shadow"],(function(e,n){return Bs(null,null,new hc(9,"Shadow"))(nu(nr((function(){return er((function(e){return er((function(t){return 1===t.tag?pr(Bs(64*e,64*n[0])(new $n(nl(Dn(_n("%s - Shadow"))(t.fields[0].Id),!0,t.fields[0]),new $n))):tr()}),n[1][e])}),wr(0,1,n[1].length-1))}))))}))}),wr(0,1,t.length-1))}))))),nr((function(){return Zt(ar((function(e){return Vs([e,t[e]],(function(e,n){return Bs(null,null,new hc(2,"World"))(nu(nr((function(){return er((function(e){return er((function(t){return 1===t.tag?pr(Bs(64*e,64*n[0])(new $n(nl(Dn(_n("%s - Normal"))(t.fields[0].Id),!1,t.fields[0]),new $n))):pr(Bs(64*e,64*n[0],null,null,(function(){ms(new Fc(2,"Hover",e,n[0]))}),(function(){ms(new Fc(3,"Leave",e,n[0]))}),(function(){ms(new Fc(4,"Select",e,n[0]))}))(nu(nr((function(){return er((function(e){let n;return ar((function(e){return Ls(null,null,null,null,null,null,null,e)}),n=function(e){let n;return(n=el(e)).filter((function(e){if(0===e.Options.length)return!0;{let n;return!(n=e.Options.some((function(e){return 2===e.tag})))}}))}(xs()(e).Frames[0].Layers))}),t.fields[0])})))))}),n[1][e])}),wr(0,1,n[1].length-1))}))))}))}),wr(0,1,t.length-1)),nr((function(){return er((function(e){return pr(Bs(64*e[0][0],64*e[0][1])(new $n(Bs(-64,-128)(new $n(Ds(192,256,new hc(5,"Outline",.25))(new $n(Bs(64,128)(new $n(nl(Dn(_n("%s - Normal"))(e[1].Id),!1,e[1]),new $n)),new $n)),new $n)),new $n)))}),r)})))})))})))}))))})),Vs([e.WorldMap,e.ActivePoint,e.HoverPoint],(function(e,n){return Bs()(nu(nr((function(){var e,t;return Zt(null!=n[1]?(e=0|n[1][1],null!=(t=li([0|n[1][0],e],n[0]))?pr(Vs(t,(function(e,n){return tl(n,1)}))):tr()):tr(),nr((function(){if(Fe(n[1],n[2]))return tr();if(null!=n[2]){const e=0|n[2][1];let t;if(null!=(t=li([0|n[2][0],e],n[0]))){return pr(Vs(t,(function(e,n){return tl(n,.5)})))}return tr()}return tr()})))}))))}))]))}const il=[.5,.5,.5,1];function ol(e){return Vs("hud",(function(e,n){return Bs()(new $n(Bs(null,null,null,null,null,null,(function(){ms(new Fc(10,"ChangeWeather"))}))(nu(nr((function(){const e=Zs(100,"Change Weather");let n,t;var r,i;return t=ks(e,0,0),r=t[0],n=Qu(oc(i=t[1])-oc(r),uc(i)-uc(r)+6),Zt(pr(Bs(null,null,new hc(4,"BlockColor",il))(new $n(Ls(null,null,null,ec(n)+10,nc(n)+5),new $n))),nr((function(){return pr(Bs(5,5,new hc(3,"Color",66/255,50/255,34/255,1))(nu(nr((function(){return e})))))})))})))),new $n))}))}function ul(e){return Bs()(nu(nr((function(){return Zt(pr(rl(e)),nr((function(){return Zt(1===e.Weather.tag?pr(Bs(null,null,new hc(7,"Snow"))(new $n(Ls(0,0,null,ec(Is()),nc(Is())),new $n))):2===e.Weather.tag?pr(Bs(null,null,new hc(8,"Rain"))(new $n(Ls(0,0,null,ec(Is()),nc(Is())),new $n))):tr(),nr((function(){return Zt(pr(Vs([(n=e).Dragger,n.ActivePoint,n.Menu],(function(e,n){return Bs()(nu(nr((function(){switch(n[2].Visible&&null!=n[1]?0:1){case 0:{const e=0|n[1][1],t=0|n[1][0];let r,i,o;r=Vs("Menu Sprites",(function(e,n){return[xs()("Menu - Empty"),xs()("Menu - Top"),xs()("Menu - Bottom"),xs()("Menu - Book")]})),o=_e(ze,5,0|~~(nc(Is())/nc(r[0].Size))),i=De(ze,3,o);const u=nc(r[0].Size)*(i-1)+nc(r[1].Size)+nc(r[2].Size)|0,c=Qu(ec(r[1].Size)+ec(r[3].Size)+10,u),s=64*t+n[0][0]-ec(c)-10|0,l=s>=0;let f,a,d,h;return a=De(ze,5,0|(l?s:64*t+n[0][0]+64+10)),f=_e(ze,ec(Is())-ec(r[0].Size)-5|0,a),h=De(ze,5,64*e+n[0][1]-(~~(u/2)-32)|0),pr(Bs(f,d=_e(ze,nc(Is())-u-5|0,h))(cu([Os(c,l?new Ms(0,"Left"):new Ms(2,"Right"),new Fs(1,"Middle"))(new $n(Vs("Menu Extra Icons",(function(e,n){return Bs()(nu(nr((function(){const e=xs()("Menu - Build"),n=xs()("Menu - Grow");let t,i;const o=Qu(ec(r[3].Size)+ec(e.Size),nc(r[3].Size)+nc(e.Size));let u;i=Qu(ec(o)+ec(n.Size),nc(o)+nc(n.Size));const c=Qu(0,4);return u=Qu(2*ec(c),2*nc(c)),t=Qu(ec(i)+ec(u),nc(i)+nc(u)),pr(Bs(null,null,null,null,(function(){}),null,(function(){}))(cu([Os(t,new Ms(0,"Left"),new Fs(0,"Top"))(new $n($s(r[3]),new $n)),Os(t,new Ms(0,"Left"),new Fs(1,"Middle"))(new $n($s(e),new $n)),Os(t,new Ms(0,"Left"),new Fs(2,"Bottom"))(new $n($s(n),new $n))])))}))))})),new $n)),Bs(null,null,null,null,null,null,null,(function(e){ms(new Fc(7,"MenuDrag",e[1]))}))(new $n(Os(c,l?new Ms(2,"Right"):new Ms(0,"Left"))(nu(nr((function(){const e=Qu(ec(r[1].Size),u);return Zt(pr(Vs("Menu Background",(function(n,t){return Bs(null,null,null,null,null,null,(function(){}))(cu([Os(e,new Ms(1,"Center"))(new $n($s(r[1]),new $n)),Os(e,new Ms(1,"Center"),new Fs(1,"Middle"))(nu(nr((function(){const e=$s(r[0]);return ar((function(n){return Bs(null,n*nc(r[0].Size))(new $n(e,new $n))}),wr(0,1,i-2))})))),Os(e,new Ms(1,"Center"),new Fs(2,"Bottom"))(new $n($s(r[2]),new $n))]))}))),nr((function(){const t=xs()("Menu - Item"),i=$s(t);return pr(Vs(n[2],(function(n,o){return Os(e,new Ms(1,"Center"),new Fs(1,"Middle"))(new $n(Ds(ec(t.Size),u-nc(r[1].Size)-nc(r[2].Size))(new $n(Bs(null,o.Offset)(new $n(Vs([o.Items,o.Selected,o.Hover],(function(e,n){return Bs()(nu(nr((function(){return Zt(er((function(e){let r;if(r=fu(e,n[0]),Fe(e,n[1]))return tr();if(null!=r){const o=r;return pr(Bs(null,e*nc(t.Size),null,null,(function(){ms(new Fc(9,"MenuHover",e))}),(function(){ms(new Fc(9,"MenuHover",null))}),(function(){ms(new Fc(8,"MenuSelectChange",e))}))(nu(nr((function(){return Zt(Fe(e,n[2])?pr($s(xs()("Menu - Hover"))):pr(i),nr((function(){return pr(Os(t.Size,new Ms(1,"Center"),new Fs(1,"Middle"))(new $n($s(xs()(Dn(_n("Menu Icons - %s - Idle"))(o))),new $n)))})))})))))}return tr()}),wr(0,1,tu(n[0])-1)),nr((function(){var e,r,i,o,u,c;if(null!=n[1]){const s=0|n[1];let l;if(null!=(l=fu(s,n[0]))){const n=l;return pr(Bs(null,s*nc(t.Size))(cu([Bs(null,null,null,null,(function(){ms(new Fc(9,"MenuHover",s))}),null,(function(){ms(new Fc(8,"MenuSelectChange",s))}))(cu([(e=xs()("Menu - Active"),$s(e)),Os(t.Size,new Ms(1,"Center"),new Fs(1,"Middle"))(new $n((r=xs()((i=Dn(_n("Menu Icons - %s - Active")),i(n))),u="Menu Icon Active",c=r,Us(u,(function(){return new Ks(en(),c,-1,null)}))((function(e){return _s((function(n){let t,r,i;if(e.Sprite.Name!==c.Name&&(e.Start=n,e.Sprite=c,e.Slot=-1,e.Result=null),r=De(ze,0,i=~~(on(n,e.Start)/750%e.Sprite.Frames.length)),(t=_e(ze,e.Sprite.Frames.length-1|0,r))!==e.Slot||null==e.Result){e.Slot=t;const n=Bs()(nu(nr((function(){return ar((function(e){return Ls(null,null,null,null,null,null,null,e)}),e.Sprite.Frames[e.Slot].Layers)}))));e.Result=n}return e.Result}))}))),new $n))])),Bs(0,73)(new $n((o=n,Vs(o,(function(e,n){return Bs()(nu(nr((function(){const e=xs()("Menu - Name Top"),t=xs()("Menu - Name Middle"),r=xs()("Menu - Name Bottom"),i=Zs(ec(t.Size)-20,n);let o,u;u=ks(i,0,0),o=Qu(oc(u[1])-oc(u[0]),uc(u[1])-uc(u[0])+6);const c=Qu(ec(e.Size),nc(e.Size)+nc(o)+nc(r.Size));return Zt(pr(Os(c,null,new Fs(0,"Top"))(new $n($s(e),new $n))),nr((function(){return Zt(pr(Os(c,null,new Fs(2,"Bottom"))(new $n($s(r),new $n))),nr((function(){return Zt(pr(Os(c,new Ms(1,"Center"),new Fs(1,"Middle"))(nu(nr((function(){return ar((function(e){return Ls(null,null,null,null,nc(o),null,null,e)}),t.Frames[0].Layers)}))))),nr((function(){return pr(Bs(null,null,new hc(3,"Color",66/255,50/255,34/255,1))(new $n(Os(c,new Ms(0,"Left"),new Fs(1,"Middle"))(nu(nr((function(){return ar((function(e){return Os(c,new Ms(1,"Center"))(new $n(e,new $n))}),i)})))),new $n)))})))})))})))}))))}))),new $n))])))}return tr()}return tr()})))}))))})),new $n)),new $n)),new $n))})))})))})))),new $n))])))}case 1:return tr()}}))))}))),nr((function(){return pr(ol())})));var n})))})))}))))}function cl(e){let n;var t,r;return r=function(){var n;return Sr((n=Dn(_n("data/%s")),n(e)),new $n).then((function(e){return e.text().then((function(e){const n=function(e,n){const t=bu(e,n);if(1===t.tag)throw new Error(t.fields[0]);return t.fields[0]}(Ge(2,function(e,n,t){const r=t.ResolveType(),i=jt(e,!1);let o,u;const c=yt(r);let s,l;return u=String(i)+c,s=jt(l=Vt((function(e){return e.Hash}),n),""),Cr(Rr,o=s+u,(function(){return $u(Ku(n),i,!1,r)}))}(!0,Xc,{ResolveType:()=>wt(Nc())})),e);return Promise.resolve(di(ou((function(e){return[e.Name,e]}),n),{Compare:ze}))}))}))},t={then(e,n){try{return r().then(e,n)}catch(e){if(Fe(n,null))return Promise.reject(e);try{return Promise.resolve(n(e))}catch(e){return Promise.reject(e)}}},catch(e){try{return r().catch(e)}catch(n){try{return Promise.resolve(e(n))}catch(e){return Promise.reject(e)}}}},ns(n=new Promise((function(e,n){try{let r;(r=Promise.resolve(t)).then(e,n)}catch(e){n(e)}})))}const sl=document.getElementById("App"),ll=document.createElement("canvas");sl.appendChild(ll);const fl=ll.getContext("experimental-webgl");function al(e){const n=e.data;switch(n.tag){case 2:return[n.fields[0][0],n.fields[0][1]];case 0:if(""===fc(e))return e.data=new Wt(3,"Choice4Of4",null),null;{e.data=new Wt(1,"Choice2Of4",null);const n=document.createElement("img");return n.onload=function(t){const r=Qu(0|~~n.width,0|~~n.height),i=function(e,n){const t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),t}(fl,n);var o,u;o=i,u=r,e.data=new Wt(2,"Choice3Of4",[o,u])},n.src="data/"+fc(e),null}default:return null}}const dl=[],hl=Ue(Ke()),wl=[];gs((function(e){wl.push(e)}));const gl=Ue((()=>{const e=ys();return uu(ms,e[1]),e[0]})()),ml=Ue(new Oc(1,Qu(0,0),new Ec(6,"Empty"),new Wt(0,"Choice1Of3",null),null,null,null,null)),pl=Ue(!0),xl=function(e,n){var t,r,i,o,u,c,s,l,f,a,d,h,w,g,m,p,x,v,y,S,E,b,A,T,C,R,P,M,F,O,z,L,k,B,_,D,U,N,I,H,j,G,V,W,X,q,Y,$,K,J,Z,Q,ee,ne;let te;const re=Math.fround(-1),ie=Math.fround(1),oe=Math.fround(-1),ue=Math.fround(1);let ce;te=os(e,cu([[re,oe],[ie,oe],[ie,ue],[re,oe],[ie,ue],[re,ue]]));const se=Math.fround(0),le=Math.fround(1),fe=Math.fround(0),ae=Math.fround(1);ce=os(e,cu([[se,fe],[le,fe],[le,ae],[se,fe],[le,ae],[se,ae]]));const de=(t=e.createShader(e.VERTEX_SHADER),e.shaderSource(t,"\r\n    attribute vec2 vertexBuffer;\r\n    attribute vec2 textureCoord;\r\n\r\n    uniform vec2 iResolution;\r\n    uniform vec2 position;\r\n    uniform vec2 size;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (size.x * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (size.y * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n    }"),e.compileShader(t),r=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(r,"\r\n    precision mediump float;\r\n    \r\n    uniform sampler2D texture;\r\n\r\n    uniform vec2 textureSize;\r\n    uniform vec2 textureSlicePosition;\r\n    uniform vec2 textureSliceSize;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (textureSlicePosition.x + offset.x) / textureSize.x;\r\n        float oy = (textureSlicePosition.y + offset.y) / textureSize.y;\r\n\r\n        float px = (textureSliceSize.x / textureSize.x) * point.x;\r\n        float py = (textureSliceSize.y / textureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture2D(texture, vec2(x, y));\r\n    }\r\n\r\n\r\n    void main(void) {\r\n        gl_FragColor = textureColor(vTextureCoord, vec2(0.0));\r\n    }\r\n"),e.compileShader(r),i=e.createProgram(),e.attachShader(i,t),e.attachShader(i,r),e.linkProgram(i),o=Xi(new Array(9),0,9,null),u=e.getAttribLocation(i,"vertexBuffer"),e.enableVertexAttribArray(u),o[0]=u,c=e.getAttribLocation(i,"textureCoord"),e.enableVertexAttribArray(c),o[1]=c,o[2]=e.getUniformLocation(i,"iResolution"),o[3]=e.getUniformLocation(i,"position"),o[4]=e.getUniformLocation(i,"size"),o[5]=e.getUniformLocation(i,"texture"),o[6]=e.getUniformLocation(i,"textureSize"),o[7]=e.getUniformLocation(i,"textureSlicePosition"),o[8]=e.getUniformLocation(i,"textureSliceSize"),[i,o,e]),he=(s=e.createShader(e.VERTEX_SHADER),e.shaderSource(s,"\r\n    attribute vec2 vertexBuffer;\r\n    attribute vec2 textureCoord;\r\n\r\n    uniform vec2 iResolution;\r\n    uniform vec2 position;\r\n    uniform vec2 size;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (size.x * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (size.y * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n    }"),e.compileShader(s),l=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(l,"\r\n    precision mediump float;\r\n    \r\n    uniform sampler2D texture;\r\n\r\n    uniform vec2 textureSize;\r\n    uniform vec2 textureSlicePosition;\r\n    uniform vec2 textureSliceSize;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (textureSlicePosition.x + offset.x) / textureSize.x;\r\n        float oy = (textureSlicePosition.y + offset.y) / textureSize.y;\r\n\r\n        float px = (textureSliceSize.x / textureSize.x) * point.x;\r\n        float py = (textureSliceSize.y / textureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture2D(texture, vec2(x, y));\r\n    }\r\n\r\n\r\n    uniform vec4 color;\r\n\r\n    void main(void) {\r\n        vec4 foundColor = textureColor(vTextureCoord, vec2(0.0));\r\n        gl_FragColor = vec4(color.r, color.g, color.b, color.a * foundColor.a);\r\n    }\r\n"),e.compileShader(l),f=e.createProgram(),e.attachShader(f,s),e.attachShader(f,l),e.linkProgram(f),a=Xi(new Array(10),0,10,null),d=e.getAttribLocation(f,"vertexBuffer"),e.enableVertexAttribArray(d),a[0]=d,h=e.getAttribLocation(f,"textureCoord"),e.enableVertexAttribArray(h),a[1]=h,a[2]=e.getUniformLocation(f,"iResolution"),a[3]=e.getUniformLocation(f,"position"),a[4]=e.getUniformLocation(f,"size"),a[5]=e.getUniformLocation(f,"texture"),a[6]=e.getUniformLocation(f,"textureSize"),a[7]=e.getUniformLocation(f,"textureSlicePosition"),a[8]=e.getUniformLocation(f,"textureSliceSize"),a[9]=e.getUniformLocation(f,"color"),[f,a,e]),we=(w=e.createShader(e.VERTEX_SHADER),e.shaderSource(w,"\r\n    attribute vec2 vertexBuffer;\r\n    attribute vec2 textureCoord;\r\n\r\n    uniform vec2 iResolution;\r\n    uniform vec2 position;\r\n    uniform vec2 size;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (size.x * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (size.y * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n    }"),e.compileShader(w),g=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(g,"\r\n    precision mediump float;\r\n    \r\n    uniform sampler2D texture;\r\n\r\n    uniform vec2 textureSize;\r\n    uniform vec2 textureSlicePosition;\r\n    uniform vec2 textureSliceSize;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (textureSlicePosition.x + offset.x) / textureSize.x;\r\n        float oy = (textureSlicePosition.y + offset.y) / textureSize.y;\r\n\r\n        float px = (textureSliceSize.x / textureSize.x) * point.x;\r\n        float py = (textureSliceSize.y / textureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture2D(texture, vec2(x, y));\r\n    }\r\n\r\n\r\n    uniform vec4 color;\r\n    uniform float amount;\r\n\r\n    void main(void) {\r\n        vec4 found = textureColor(vTextureCoord, vec2(0.0));\r\n\r\n        float a = found.a;\r\n\r\n        float s = clamp(0.5 + (amount / 2.0), 0.0, 1.0);\r\n        float e = clamp(0.5 - (amount / 2.0), 0.0, 1.0);\r\n        float b;\r\n\r\n        if (a < e) { \r\n            b = 0.0;\r\n        } else {\r\n            b = smoothstep(e, s, a);\r\n        }\r\n    \r\n        gl_FragColor = vec4(color.r, color.g, color.b, color.a * b);\r\n    }\r\n"),e.compileShader(g),m=e.createProgram(),e.attachShader(m,w),e.attachShader(m,g),e.linkProgram(m),p=Xi(new Array(11),0,11,null),x=e.getAttribLocation(m,"vertexBuffer"),e.enableVertexAttribArray(x),p[0]=x,v=e.getAttribLocation(m,"textureCoord"),e.enableVertexAttribArray(v),p[1]=v,p[2]=e.getUniformLocation(m,"iResolution"),p[3]=e.getUniformLocation(m,"position"),p[4]=e.getUniformLocation(m,"size"),p[5]=e.getUniformLocation(m,"texture"),p[6]=e.getUniformLocation(m,"textureSize"),p[7]=e.getUniformLocation(m,"textureSlicePosition"),p[8]=e.getUniformLocation(m,"textureSliceSize"),p[9]=e.getUniformLocation(m,"color"),p[10]=e.getUniformLocation(m,"amount"),[m,p,e]),ge=(y=e.createShader(e.VERTEX_SHADER),e.shaderSource(y,"\r\n    attribute vec2 vertexBuffer;\r\n    attribute vec2 textureCoord;\r\n\r\n    uniform vec2 iResolution;\r\n    uniform vec2 position;\r\n    uniform vec2 size;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (size.x * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (size.y * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n    }"),e.compileShader(y),S=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(S,"\r\n    precision mediump float;\r\n\r\n    uniform vec4 color;\r\n\r\n    void main(void) {\r\n        gl_FragColor = color;\r\n    }\r\n"),e.compileShader(S),E=e.createProgram(),e.attachShader(E,y),e.attachShader(E,S),e.linkProgram(E),b=Xi(new Array(6),0,6,null),A=e.getAttribLocation(E,"vertexBuffer"),e.enableVertexAttribArray(A),b[0]=A,T=e.getAttribLocation(E,"textureCoord"),e.enableVertexAttribArray(T),b[1]=T,b[2]=e.getUniformLocation(E,"iResolution"),b[3]=e.getUniformLocation(E,"position"),b[4]=e.getUniformLocation(E,"size"),b[5]=e.getUniformLocation(E,"color"),[E,b,e]),ve=(C=e.createShader(e.VERTEX_SHADER),e.shaderSource(C,"\r\n    attribute vec2 vertexBuffer;\r\n    attribute vec2 textureCoord;\r\n\r\n    uniform vec2 iResolution;\r\n    uniform vec2 position;\r\n    uniform vec2 size;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (size.x * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (size.y * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n    }"),e.compileShader(C),R=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(R,"\r\n    precision mediump float;\r\n    \r\n    uniform sampler2D texture;\r\n\r\n    uniform vec2 textureSize;\r\n    uniform vec2 textureSlicePosition;\r\n    uniform vec2 textureSliceSize;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (textureSlicePosition.x + offset.x) / textureSize.x;\r\n        float oy = (textureSlicePosition.y + offset.y) / textureSize.y;\r\n\r\n        float px = (textureSliceSize.x / textureSize.x) * point.x;\r\n        float py = (textureSliceSize.y / textureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture2D(texture, vec2(x, y));\r\n    }\r\n\r\n\r\n    uniform float alpha;\r\n\r\n    void main(void) {\r\n        vec4 foundColor = textureColor(vTextureCoord, vec2(0.0));\r\n\r\n        if (foundColor.a > 0.0 &&\r\n            (textureColor(vTextureCoord, vec2(-1.0, 0.0)).a < 1.0 || textureColor(vTextureCoord, vec2(1.0, 0.0)).a < 1.0 ||\r\n             textureColor(vTextureCoord, vec2(0.0, -1.0)).a < 1.0 || textureColor(vTextureCoord, vec2(0.0, 1.0)).a < 1.0))\r\n        {\r\n            gl_FragColor = vec4(foundColor.r, foundColor.b, foundColor.b, foundColor.a * alpha);\r\n        }\r\n        else \r\n        {\r\n            gl_FragColor = vec4(0.0);\r\n        }\r\n    }\r\n"),e.compileShader(R),P=e.createProgram(),e.attachShader(P,C),e.attachShader(P,R),e.linkProgram(P),M=Xi(new Array(10),0,10,null),F=e.getAttribLocation(P,"vertexBuffer"),e.enableVertexAttribArray(F),M[0]=F,O=e.getAttribLocation(P,"textureCoord"),e.enableVertexAttribArray(O),M[1]=O,M[2]=e.getUniformLocation(P,"iResolution"),M[3]=e.getUniformLocation(P,"position"),M[4]=e.getUniformLocation(P,"size"),M[5]=e.getUniformLocation(P,"texture"),M[6]=e.getUniformLocation(P,"textureSize"),M[7]=e.getUniformLocation(P,"textureSlicePosition"),M[8]=e.getUniformLocation(P,"textureSliceSize"),M[9]=e.getUniformLocation(P,"alpha"),[P,M,e]),ye=(z=e.createShader(e.VERTEX_SHADER),e.shaderSource(z,"\r\n    attribute vec2 vertexBuffer;\r\n    attribute vec2 textureCoord;\r\n\r\n    uniform vec2 iResolution;\r\n    uniform vec2 position;\r\n    uniform vec2 size;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (size.x * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (size.y * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n    }"),e.compileShader(z),L=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(L,"\r\n    precision mediump float;\r\n    \r\n    uniform sampler2D texture;\r\n\r\n    uniform vec2 textureSize;\r\n    uniform vec2 textureSlicePosition;\r\n    uniform vec2 textureSliceSize;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (textureSlicePosition.x + offset.x) / textureSize.x;\r\n        float oy = (textureSlicePosition.y + offset.y) / textureSize.y;\r\n\r\n        float px = (textureSliceSize.x / textureSize.x) * point.x;\r\n        float py = (textureSliceSize.y / textureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture2D(texture, vec2(x, y));\r\n    }\r\n\r\n\r\n    uniform vec4 color;\r\n\r\n    void main(void) {\r\n        vec4 foundColor = textureColor(vTextureCoord, vec2(0.0));\r\n\r\n        if (foundColor.a > 0.0 &&\r\n            (textureColor(vTextureCoord, vec2(-1.0, 0.0)).a < 1.0 || textureColor(vTextureCoord, vec2(1.0, 0.0)).a < 1.0 ||\r\n             textureColor(vTextureCoord, vec2(0.0, -1.0)).a < 1.0 || textureColor(vTextureCoord, vec2(0.0, 1.0)).a < 1.0))\r\n        {\r\n            gl_FragColor = color;\r\n        }\r\n        else \r\n        {\r\n            gl_FragColor = vec4(0.0);\r\n        }\r\n    }\r\n"),e.compileShader(L),k=e.createProgram(),e.attachShader(k,z),e.attachShader(k,L),e.linkProgram(k),B=Xi(new Array(10),0,10,null),_=e.getAttribLocation(k,"vertexBuffer"),e.enableVertexAttribArray(_),B[0]=_,D=e.getAttribLocation(k,"textureCoord"),e.enableVertexAttribArray(D),B[1]=D,B[2]=e.getUniformLocation(k,"iResolution"),B[3]=e.getUniformLocation(k,"position"),B[4]=e.getUniformLocation(k,"size"),B[5]=e.getUniformLocation(k,"texture"),B[6]=e.getUniformLocation(k,"textureSize"),B[7]=e.getUniformLocation(k,"textureSlicePosition"),B[8]=e.getUniformLocation(k,"textureSliceSize"),B[9]=e.getUniformLocation(k,"color"),[k,B,e]),Se=(U=e.createShader(e.VERTEX_SHADER),e.shaderSource(U,"\r\n    attribute vec2 vertexBuffer;\r\n    attribute vec2 textureCoord;\r\n\r\n    uniform vec2 iResolution;\r\n    uniform vec2 position;\r\n    uniform vec2 size;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (size.x * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (size.y * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n    }"),e.compileShader(U),N=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(N,"\r\n    precision mediump float;\r\n    \r\n    uniform sampler2D texture;\r\n\r\n    uniform vec2 textureSize;\r\n    uniform vec2 textureSlicePosition;\r\n    uniform vec2 textureSliceSize;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n\r\n    \r\n    vec4 textureColor(vec2 point, vec2 offset) {\r\n        float ox = (textureSlicePosition.x + offset.x) / textureSize.x;\r\n        float oy = (textureSlicePosition.y + offset.y) / textureSize.y;\r\n\r\n        float px = (textureSliceSize.x / textureSize.x) * point.x;\r\n        float py = (textureSliceSize.y / textureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        return texture2D(texture, vec2(x, y));\r\n    }\r\n\r\n\r\n    uniform sampler2D fog1Texture;\r\n    uniform sampler2D fog2Texture;\r\n\r\n    uniform vec2 fogTextureSize;\r\n    uniform vec2 fog1Offset;\r\n    uniform vec2 fog2Offset;\r\n    uniform float scale;\r\n    uniform float fogAmount;\r\n    uniform float fogHeight;\r\n\r\n    uniform float hasHeightMap;\r\n    uniform sampler2D heightMapTexture;\r\n    uniform vec2 heightMapTextureSize;\r\n    uniform vec2 heightMapTextureSlicePosition;\r\n    uniform vec2 heightMapTextureSliceSize;\r\n\r\n    vec4 fogTextureColor(sampler2D texture, vec2 offset) {\r\n        \r\n        float x = ((gl_FragCoord.x + 0.5 - offset.x) / fogTextureSize.x) / scale;\r\n        float y = ((gl_FragCoord.y + 0.5 + offset.y) / fogTextureSize.y) / scale;\r\n\r\n        return texture2D(texture, vec2(x, y));\r\n    }\r\n\r\n    // All components are in the range [0…1], including hue.\r\n    vec3 rgb2hsv(vec3 c)\r\n    {\r\n        vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\r\n        vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\r\n        vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\r\n\r\n        float d = q.x - min(q.w, q.y);\r\n        float e = 1.0e-10;\r\n        return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\r\n    }\r\n\r\n    float heightMapTextureColor(vec2 point) {\r\n        float ox = (heightMapTextureSlicePosition.x) / heightMapTextureSize.x;\r\n        float oy = (heightMapTextureSlicePosition.y) / heightMapTextureSize.y;\r\n\r\n        float px = (heightMapTextureSliceSize.x / heightMapTextureSize.x) * point.x;\r\n        float py = (heightMapTextureSliceSize.y / heightMapTextureSize.y) * point.y;\r\n\r\n        float x = ox + px;\r\n        float y = oy + py;\r\n\r\n        vec4 c = texture2D(heightMapTexture, vec2(x, y));\r\n        vec3 h = rgb2hsv(c.rgb);\r\n\r\n        return h.r;\r\n    }\r\n\r\n    uniform float weather;\r\n\r\n    uniform float effect;\r\n    uniform float effectTime;\r\n\r\n    vec2 hash(vec2 p) {                       \r\n        p = vec2( dot(p,vec2(127.1,311.7)),\r\n                  dot(p,vec2(269.5,183.3)) );\r\n        return -1. + 2.*fract(sin(p+20.)*53758.5453123);\r\n    }\r\n\r\n    float noise( vec2 p ) {\r\n        vec2 i = floor((p)), f = fract((p));\r\n        vec2 u = f*f*(3.-2.*f);\r\n        return mix( mix( dot( hash( i + vec2(0.,0.) ), f - vec2(0.,0.) ), \r\n                         dot( hash( i + vec2(1.,0.) ), f - vec2(1.,0.) ), u.x),\r\n                    mix( dot( hash( i + vec2(0.,1.) ), f - vec2(0.,1.) ), \r\n                         dot( hash( i + vec2(1.,1.) ), f - vec2(1.,1.) ), u.x), u.y);\r\n    }\r\n\r\n    void main(void) {\r\n        vec2 point = vTextureCoord;\r\n\r\n        if (effect == 1.0)\r\n        {\r\n            point.y += noise((point*1.1) + effectTime)*.01;\r\n            point.x += noise((point*1.8) + effectTime)*.01;\r\n        }\r\n\r\n        vec4 normalTextureColor = textureColor(point, vec2(0.0));\r\n        \r\n        if (weather == 1.0) {\r\n            float heightMapTextureColor = hasHeightMap > 0.0 ? heightMapTextureColor(vTextureCoord) : 0.0;\r\n             \r\n            float h1 = 1.0 - smoothstep(0.05, 0.10, heightMapTextureColor);\r\n            float fogTextureColor1 = fogTextureColor(fog1Texture, fog1Offset).r * h1 * 0.75;\r\n\r\n            float h2 = 1.0 - smoothstep(0.35, 0.45, heightMapTextureColor);\r\n            float fogTextureColor2 = fogTextureColor(fog2Texture, fog2Offset).r * h2 * 0.25;\r\n\r\n            float fogTotal = min(fogTextureColor1 + fogTextureColor2, 1.0);\r\n            //float fogTotal = fogTextureColor1;\r\n\r\n            vec4 mixed = mix(normalTextureColor, vec4(1.0), fogTotal * fogAmount);\r\n            gl_FragColor = vec4(mixed.rgb, normalTextureColor.a);\r\n        }\r\n        else if (weather == 2.0) {\r\n            float heightMapTextureColor = hasHeightMap > 0.0 ? heightMapTextureColor(vTextureCoord) : 0.0;\r\n            float h1 = heightMapTextureColor < 0.001 ? 1.0 : 0.0;\r\n\r\n            vec4 snowColor = vec4(0.8, 0.9, 0.9, 1.0);\r\n            vec4 mixed = mix(normalTextureColor, snowColor, h1);\r\n            gl_FragColor = vec4(mixed.rgb, normalTextureColor.a);           \r\n        }\r\n        else {\r\n            gl_FragColor = normalTextureColor;\r\n        }\r\n        \r\n    }\r\n"),e.compileShader(N),I=e.createProgram(),e.attachShader(I,U),e.attachShader(I,N),e.linkProgram(I),H=Xi(new Array(25),0,25,null),j=e.getAttribLocation(I,"vertexBuffer"),e.enableVertexAttribArray(j),H[0]=j,G=e.getAttribLocation(I,"textureCoord"),e.enableVertexAttribArray(G),H[1]=G,H[2]=e.getUniformLocation(I,"iResolution"),H[3]=e.getUniformLocation(I,"position"),H[4]=e.getUniformLocation(I,"size"),H[5]=e.getUniformLocation(I,"texture"),H[6]=e.getUniformLocation(I,"textureSize"),H[7]=e.getUniformLocation(I,"textureSlicePosition"),H[8]=e.getUniformLocation(I,"textureSliceSize"),H[9]=e.getUniformLocation(I,"fog1Texture"),H[10]=e.getUniformLocation(I,"fog2Texture"),H[11]=e.getUniformLocation(I,"fogTextureSize"),H[12]=e.getUniformLocation(I,"fog1Offset"),H[13]=e.getUniformLocation(I,"fog2Offset"),H[14]=e.getUniformLocation(I,"scale"),H[15]=e.getUniformLocation(I,"fogAmount"),H[16]=e.getUniformLocation(I,"fogHeight"),H[17]=e.getUniformLocation(I,"hasHeightMap"),H[18]=e.getUniformLocation(I,"heightMapTexture"),H[19]=e.getUniformLocation(I,"heightMapTextureSize"),H[20]=e.getUniformLocation(I,"heightMapTextureSlicePosition"),H[21]=e.getUniformLocation(I,"heightMapTextureSliceSize"),H[22]=e.getUniformLocation(I,"weather"),H[23]=e.getUniformLocation(I,"effect"),H[24]=e.getUniformLocation(I,"effectTime"),[I,H,e]),Ee=(V=e.createShader(e.VERTEX_SHADER),e.shaderSource(V,"\r\n    attribute vec2 vertexBuffer;\r\n    attribute vec2 textureCoord;\r\n\r\n    uniform vec2 iResolution;\r\n    uniform vec2 position;\r\n    uniform vec2 size;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (size.x * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (size.y * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n    }"),e.compileShader(V),W=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(W,"\r\n    precision mediump float;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n    uniform float time;\r\n\r\nvec2 mod289(vec2 x) {\r\n\treturn x - floor(x * (1.0 / 289.0)) * 289.0;\r\n}\r\n\r\nvec3 mod289(vec3 x) {\r\n\treturn x - floor(x * (1.0 / 289.0)) * 289.0;\r\n}\r\n\t\t\r\nvec4 mod289(vec4 x) {\r\n\treturn x - floor(x * (1.0 / 289.0)) * 289.0;\r\n}\r\n\t\t\r\nvec3 permute(vec3 x) {\r\n\treturn mod289(((x*34.0)+1.0)*x);\r\n}\r\n\r\nvec4 permute(vec4 x) {\r\n\treturn mod((34.0 * x + 1.0) * x, 289.0);\r\n}\r\n\r\nvec4 taylorInvSqrt(vec4 r)\r\n{\r\n\treturn 1.79284291400159 - 0.85373472095314 * r;\r\n}\r\n\t\t\r\nfloat snoise(vec2 v)\r\n{\r\n\t\tconst vec4 C = vec4(0.211324865405187,0.366025403784439,-0.577350269189626,0.024390243902439);\r\n\t\tvec2 i  = floor(v + dot(v, C.yy) );\r\n\t\tvec2 x0 = v -   i + dot(i, C.xx);\r\n\t\t\t\t\r\n\t\tvec2 i1;\r\n\t\ti1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\r\n\t\tvec4 x12 = x0.xyxy + C.xxzz;\r\n\t\tx12.xy -= i1;\r\n\t\t\t\t\r\n\t\ti = mod289(i); // Avoid truncation effects in permutation\r\n\t\tvec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\r\n\t\t\t+ i.x + vec3(0.0, i1.x, 1.0 ));\r\n\t\t\t\t\r\n\t\tvec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\r\n\t\tm = m*m ;\r\n\t\tm = m*m ;\r\n\t\t\t\t\r\n\t\tvec3 x = 2.0 * fract(p * C.www) - 1.0;\r\n\t\tvec3 h = abs(x) - 0.5;\r\n\t\tvec3 ox = floor(x + 0.5);\r\n\t\tvec3 a0 = x - ox;\r\n\t\t\t\t\r\n\t\tm *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\r\n\t\t\t\t\r\n\t\tvec3 g;\r\n\t\tg.x  = a0.x  * x0.x  + h.x  * x0.y;\r\n\t\tg.yz = a0.yz * x12.xz + h.yz * x12.yw;\r\n\r\n\t\treturn 130.0 * dot(m, g);\t\t\r\n}\r\n\t\t\r\nfloat cellular2x2(vec2 P)\r\n{\r\n\t\t#define K 0.142857142857 // 1/7\r\n\t\t#define K2 0.0714285714285 // K/2\r\n\t\t#define jitter 0.8 // jitter 1.0 makes F1 wrong more often\r\n\t\t\t\t\r\n\t\tvec2 Pi = mod(floor(P), 289.0);\r\n\t\tvec2 Pf = fract(P);\r\n\t\tvec4 Pfx = Pf.x + vec4(-0.5, -1.5, -0.5, -1.5);\r\n\t\tvec4 Pfy = Pf.y + vec4(-0.5, -0.5, -1.5, -1.5);\r\n\t\tvec4 p = permute(Pi.x + vec4(0.0, 1.0, 0.0, 1.0));\r\n\t\tp = permute(p + Pi.y + vec4(0.0, 0.0, 1.0, 1.0));\r\n\t\tvec4 ox = mod(p, 7.0)*K+K2;\r\n\t\tvec4 oy = mod(floor(p*K),7.0)*K+K2;\r\n\t\tvec4 dx = Pfx + jitter*ox;\r\n\t\tvec4 dy = Pfy + jitter*oy;\r\n\t\tvec4 d = dx * dx + dy * dy; // d11, d12, d21 and d22, squared\r\n\t\t// Sort out the two smallest distances\r\n\t\t\t\t\r\n\t\t// Cheat and pick only F1\r\n\t\td.xy = min(d.xy, d.zw);\r\n\t\td.x = min(d.x, d.y);\r\n\t\treturn d.x; // F1 duplicated, F2 not computed\r\n}\r\n\r\nfloat fbm(vec2 p) {\r\n \tfloat f = 0.0;\r\n    float w = 0.5;\r\n    for (int i = 0; i < 5; i ++) {\r\n\t\t\t\tf += w * snoise(p);\r\n\t\t\t\tp *= 2.;\r\n\t\t\t\tw *= 0.5;\r\n    }\r\n    return f;\r\n}\r\n\r\n\r\n    void main(void) {\r\n        vec4 uSnowColor = vec4(1.0);\r\n\r\n\t    float speed=1.0;\r\n\t\t\t\t\r\n\t    vec2 uv = vec2(gl_FragCoord.x, gl_FragCoord.y) / vResolution.xy;\r\n\t\t\t\t\r\n\t    uv.x*=(vResolution.x/vResolution.y);\r\n\t\t\t\t\r\n\t    vec2 suncent=vec2(0.3,0.9);\r\n\t\t\t\t\r\n\t    vec2 GA;\r\n\t    GA.x-=time*0.4;\r\n\t    GA.y+=time*0.9;\r\n\t    GA*=speed;\r\n\t\t\t\r\n\t    float F1=0.0,F2=0.0,F3=0.0,F4=0.0,F5=0.0,N1=0.0,N2=0.0,N3=0.0,N4=0.0,N5=0.0;\r\n\t    float A=0.0,A1=0.0,A2=0.0,A3=0.0,A4=0.0,A5=0.0;\r\n\r\n\r\n\t    // Attentuation\r\n\t    A = clamp(A,0.0,1.0);\r\n\r\n\t    // Snow layers, somewhat like an fbm with worley layers.\r\n\t    //F1 = 1.0-cellular2x2((uv+(GA*0.1))*8.0);\t\r\n\t    //A1 = 1.0-(A*0.8);\r\n\t    //N1 = smoothstep(0.999,1.0,F1)*1.0*A1;\t\r\n\r\n\t    //F5 = 1.0-cellular2x2((uv+(GA))*1.2);\t\r\n\t    //A5 = 1.0-(A*0.7);\r\n\t    //N5 = smoothstep(0.998,1.0,F5)*0.25*A5;\t\t\r\n    \r\n\t    //F4 = 1.0-cellular2x2((uv+(GA*0.6))*3.0);\t\r\n\t    //A4 = 1.0-(A*0.6);\r\n\t    //N4 = smoothstep(0.998,1.0,F4)*0.4*A4;\t\t\t\t\r\n\r\n\t    F2 = 1.0-cellular2x2((uv+(GA*0.2))*6.0);\t\r\n\t    A2 = 1.0-(A*0.5);\r\n\t    N2 = smoothstep(0.999,1.0,F2)*0.85*A2;\t\t\t\t\r\n\r\n\t    F3 = 1.0-cellular2x2((uv+(GA*0.4))*4.0);\t\r\n\t    A3 = 1.0-(A*0.4);\r\n\t    N3 = smoothstep(0.998,1.0,F3)*0.65*A3;\t\t\t\t\r\n\r\n\t    float Snowout=N5+N4+N3+N2+N1;\r\n\t\t\t\t\r\n\t    gl_FragColor = vec4(uSnowColor.r, uSnowColor.g, uSnowColor.b, (Snowout * 0.8) * uSnowColor.a);\r\n\r\n    }\r\n"),e.compileShader(W),X=e.createProgram(),e.attachShader(X,V),e.attachShader(X,W),e.linkProgram(X),q=Xi(new Array(6),0,6,null),Y=e.getAttribLocation(X,"vertexBuffer"),e.enableVertexAttribArray(Y),q[0]=Y,$=e.getAttribLocation(X,"textureCoord"),e.enableVertexAttribArray($),q[1]=$,q[2]=e.getUniformLocation(X,"iResolution"),q[3]=e.getUniformLocation(X,"position"),q[4]=e.getUniformLocation(X,"size"),q[5]=e.getUniformLocation(X,"time"),[X,q,e]),be=(K=e.createShader(e.VERTEX_SHADER),e.shaderSource(K,"\r\n    attribute vec2 vertexBuffer;\r\n    attribute vec2 textureCoord;\r\n\r\n    uniform vec2 iResolution;\r\n    uniform vec2 position;\r\n    uniform vec2 size;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n\r\n    void main() {\r\n        gl_Position =\r\n            vec4(-1.0 + (((2.0 * position.x) + (size.x * (vertexBuffer.x + 1.0))) / iResolution.x),\r\n                  1.0 - (((2.0 * position.y) - (size.y * (vertexBuffer.y - 1.0))) / iResolution.y),\r\n                  0.0,\r\n                  1.0);\r\n\r\n        vTextureCoord = textureCoord;\r\n        vResolution = iResolution;\r\n    }"),e.compileShader(K),J=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(J,"\r\n    precision mediump float;\r\n\r\n    varying vec2 vTextureCoord;\r\n    varying vec2 vResolution;\r\n    uniform float time;\r\n\r\n#define MOD2 vec2(.1,.17)\r\n\r\nfloat Hash( float p )\r\n{\r\n\tvec2 p2 = fract(vec2(p) * MOD2);\r\n    p2 += dot(p2.yx, p2.xy+19.19);\r\n\treturn fract(p2.x * p2.y);\r\n}\r\n\r\nfloat Noise( in vec2 x )\r\n{\r\n    vec2 p = floor(x);\r\n    vec2 f = fract(x);\r\n    f = f*f*(3.0-2.0*f);\r\n    float n = p.x + p.y*57.0;\r\n    float res = mix(mix( Hash(n+  0.0), Hash(n+  1.0),f.x),\r\n                    mix( Hash(n+ 57.0), Hash(n+ 58.0),f.x),f.y);\r\n    return res;\r\n}\r\n\r\n void main(void) {\r\n    float an = .1;\r\n    float length = .04; // Bigger is shorter but slower.\r\n    float speed = .6;\r\n    \r\n    float gTime = time * speed;\r\n\r\n    vec4 uRainColor = vec4(0.0, 0.0, 1.0, 1.1);\r\n\r\n    vec2 xy = vec2(gl_FragCoord.x, gl_FragCoord.y) / vResolution.xy;\r\n    \r\n    vec2 st =  (xy * vec2(.5+(xy.y+1.0)*an, length)) + vec2(xy.x, gTime*.2);    \r\n    \r\n\tfloat f = Noise( st*200.5 ) * Noise( st*120.5 ) * 1.3;\r\n\tfloat rain = clamp(.85, 0.0, 1.0);\r\n    f = clamp(pow(abs(f), 15.0) * (rain*rain*1.0), 0.0, /* (xy.y+.1)*.6 */ .6);\r\n    float col = clamp(0.5, 0.0, 1.0) * f;\r\n    \r\n    gl_FragColor = vec4(uRainColor.r, uRainColor.g, uRainColor.b, col * uRainColor.a);\r\n\r\n\r\n    }\r\n\r\n"),e.compileShader(J),Z=e.createProgram(),e.attachShader(Z,K),e.attachShader(Z,J),e.linkProgram(Z),Q=Xi(new Array(6),0,6,null),ee=e.getAttribLocation(Z,"vertexBuffer"),e.enableVertexAttribArray(ee),Q[0]=ee,ne=e.getAttribLocation(Z,"textureCoord"),e.enableVertexAttribArray(ne),Q[1]=ne,Q[2]=e.getUniformLocation(Z,"iResolution"),Q[3]=e.getUniformLocation(Z,"position"),Q[4]=e.getUniformLocation(Z,"size"),Q[5]=e.getUniformLocation(Z,"time"),[Z,Q,e]),Ae=gi([],{Equals:Me,GetHashCode:Ce}),Te=[],Re=new xe((function(){var e;return[lc(xs()("Fog1").Frames[0].Layers[0].TextureName),(e=xs()("Fog2"),lc(e.Frames[0].Layers[0].TextureName))]})),Pe=en();return function(t){return function(r){return function(i){var o,u,c,s;let l,f=on(t,Pe);let a;l=f/1e3;const d=ic(i.Dragger[0],i.Dragger[1]);a=[(u=ic(~~(l/.25),0),o=ic(oc(u)+oc(d),uc(u)+uc(d)),ic(oc(o)*r.Scale,uc(o)*r.Scale)),(s=ic(~~(l/.361),0),c=ic(oc(s)+oc(d),uc(s)+uc(d)),ic(oc(c)*r.Scale,uc(c)*r.Scale))];const h=[n(Re.Value[0]),n(Re.Value[1])];let w=null;const g=function(e,n,t,r,o,u){var c,s,f,d,g,m,p,x,v,y,S,E,b,A,T,C,R,P,M,F,O;switch(1===n.tag?s=null!=t?1:10:2===n.tag?null!=t?(s=2,d=t):s=10:5===n.tag?null!=t?(s=3,g=n.fields[0],m=t):s=10:6===n.tag?null!=t?(s=4,p=n.fields[3],x=n.fields[2],v=n.fields[1],y=t,S=n.fields[0]):s=10:3===n.tag?null!=t?(s=5,E=n.fields[3],b=n.fields[2],A=n.fields[1],T=t,C=n.fields[0]):s=10:4===n.tag?(s=6,R=n.fields[0][3],P=n.fields[0][2],M=n.fields[0][1],F=n.fields[0][0]):7===n.tag?s=7:8===n.tag?s=8:9===n.tag?null!=t?(s=9,O=t):s=10:null!=t?(s=0,f=t):s=10,s){case 0:{if(!(w===de)){w=de;const e=de;e[2].useProgram(e[0]),e[2].enable(e[2].BLEND);const n=de;n[2].blendEquation(n[2].FUNC_ADD),n[2].blendFuncSeparate(n[2].SRC_ALPHA,n[2].ONE_MINUS_SRC_ALPHA,n[2].ONE,n[2].ONE),de[2].bindBuffer(de[2].ARRAY_BUFFER,te),de[2].vertexAttribPointer(de[1][0],2,de[2].FLOAT,!1,0,0),de[2].bindBuffer(de[2].ARRAY_BUFFER,ce),de[2].vertexAttribPointer(de[1][1],2,de[2].FLOAT,!1,0,0)}let n;let t,r;n=[0|ec(e[0]),0|nc(e[0])],de[2].uniform2f(de[1][2],n[0],n[1]);const i=ic(oc(u[0])*e[1],uc(u[0])*e[1]);let o;r=ic(oc(i)+oc(e[2]),uc(i)+uc(e[2])),t=[0|oc(r),0|uc(r)],de[2].uniform2f(de[1][3],t[0],t[1]);const c=Qu(ec(u[1])*e[1],nc(u[1])*e[1]);o=[0|ec(c),0|nc(c)],de[2].uniform2f(de[1][4],o[0],o[1]);const s=f.Texture;let l;let a;let d;de[2].activeTexture(de[2].TEXTURE0),de[2].bindTexture(de[2].TEXTURE_2D,s),de[2].uniform1i(de[1][5],0),l=[0|ec(f.TextureSize),0|nc(f.TextureSize)],de[2].uniform2f(de[1][6],l[0],l[1]),a=[0|ec(f.TextureSliceSize),0|nc(f.TextureSliceSize)],de[2].uniform2f(de[1][8],a[0],a[1]),d=[0|oc(f.TextureSlicePosition),0|uc(f.TextureSlicePosition)],de[2].uniform2f(de[1][7],d[0],d[1]);const h=de;h[2].drawArrays(h[2].TRIANGLES,0,6);break}case 1:if(null!=r){const n=r;if(!(w===de)){w=de;const e=de;e[2].useProgram(e[0]),e[2].enable(e[2].BLEND);const n=de;n[2].blendEquation(n[2].FUNC_ADD),n[2].blendFuncSeparate(n[2].SRC_ALPHA,n[2].ONE_MINUS_SRC_ALPHA,n[2].ONE,n[2].ONE),de[2].bindBuffer(de[2].ARRAY_BUFFER,te),de[2].vertexAttribPointer(de[1][0],2,de[2].FLOAT,!1,0,0),de[2].bindBuffer(de[2].ARRAY_BUFFER,ce),de[2].vertexAttribPointer(de[1][1],2,de[2].FLOAT,!1,0,0)}let t;let i,o;t=[0|ec(e[0]),0|nc(e[0])],de[2].uniform2f(de[1][2],t[0],t[1]);const c=ic(oc(u[0])*e[1],uc(u[0])*e[1]);let s;o=ic(oc(c)+oc(e[2]),uc(c)+uc(e[2])),i=[0|oc(o),0|uc(o)],de[2].uniform2f(de[1][3],i[0],i[1]);const l=Qu(ec(u[1])*e[1],nc(u[1])*e[1]);s=[0|ec(l),0|nc(l)],de[2].uniform2f(de[1][4],s[0],s[1]);const f=n.Texture;let a;let d;let h;de[2].activeTexture(de[2].TEXTURE0),de[2].bindTexture(de[2].TEXTURE_2D,f),de[2].uniform1i(de[1][5],0),a=[0|ec(n.TextureSize),0|nc(n.TextureSize)],de[2].uniform2f(de[1][6],a[0],a[1]),d=[0|ec(n.TextureSliceSize),0|nc(n.TextureSliceSize)],de[2].uniform2f(de[1][8],d[0],d[1]),h=[0|oc(n.TextureSlicePosition),0|uc(n.TextureSlicePosition)],de[2].uniform2f(de[1][7],h[0],h[1]);const g=de;g[2].drawArrays(g[2].TRIANGLES,0,6)}break;case 2:var z,L,k,B;switch(null!=h[0]&&null!=h[1]?(z=0,L=h[0][0],k=h[1][0],B=h[0][1]):z=1,z){case 0:{if(!(w===Se)){w=Se;const n=Se;n[2].useProgram(n[0]),n[2].enable(n[2].BLEND);const t=Se;t[2].blendEquation(t[2].FUNC_ADD),t[2].blendFuncSeparate(t[2].SRC_ALPHA,t[2].ONE_MINUS_SRC_ALPHA,t[2].ONE,t[2].ONE),Se[2].bindBuffer(Se[2].ARRAY_BUFFER,te),Se[2].vertexAttribPointer(Se[1][0],2,Se[2].FLOAT,!1,0,0),Se[2].bindBuffer(Se[2].ARRAY_BUFFER,ce),Se[2].vertexAttribPointer(Se[1][1],2,Se[2].FLOAT,!1,0,0);const r=e[1];if(Se[2].uniform1f(Se[1][14],r),0===i.Weather.tag){const e=1;Se[2].uniform1f(Se[1][22],e);const n=.75;Se[2].uniform1f(Se[1][15],n);const t=.01;Se[2].uniform1f(Se[1][16],t);const r=L;Se[2].activeTexture(Se[2].TEXTURE1),Se[2].bindTexture(Se[2].TEXTURE_2D,r),Se[2].uniform1i(Se[1][9],1);const i=k;let o;let u;let c;Se[2].activeTexture(Se[2].TEXTURE2),Se[2].bindTexture(Se[2].TEXTURE_2D,i),Se[2].uniform1i(Se[1][10],2),o=[0|ec(B),0|nc(B)],Se[2].uniform2f(Se[1][11],o[0],o[1]),u=[0|oc(a[0]),0|uc(a[0])],Se[2].uniform2f(Se[1][12],u[0],u[1]),c=[0|oc(a[1]),0|uc(a[1])],Se[2].uniform2f(Se[1][13],c[0],c[1])}else if(1===i.Weather.tag){const e=2;Se[2].uniform1f(Se[1][22],e)}else if(2===i.Weather.tag){const e=3;Se[2].uniform1f(Se[1][22],e)}else{const e=0;Se[2].uniform1f(Se[1][22],e)}}let n;let t,c;n=[0|ec(e[0]),0|nc(e[0])],Se[2].uniform2f(Se[1][2],n[0],n[1]);const s=ic(oc(u[0])*e[1],uc(u[0])*e[1]);let f;c=ic(oc(s)+oc(e[2]),uc(s)+uc(e[2])),t=[0|oc(c),0|uc(c)],Se[2].uniform2f(Se[1][3],t[0],t[1]);const h=Qu(ec(u[1])*e[1],nc(u[1])*e[1]);f=[0|ec(h),0|nc(h)],Se[2].uniform2f(Se[1][4],f[0],f[1]);const g=d.Texture;let m;let p;let x;if(Se[2].activeTexture(Se[2].TEXTURE0),Se[2].bindTexture(Se[2].TEXTURE_2D,g),Se[2].uniform1i(Se[1][5],0),m=[0|ec(d.TextureSize),0|nc(d.TextureSize)],Se[2].uniform2f(Se[1][6],m[0],m[1]),p=[0|ec(d.TextureSliceSize),0|nc(d.TextureSliceSize)],Se[2].uniform2f(Se[1][8],p[0],p[1]),x=[0|oc(d.TextureSlicePosition),0|uc(d.TextureSlicePosition)],Se[2].uniform2f(Se[1][7],x[0],x[1]),null!=r){const e=r,n=1;let t;let i;let o;Se[2].uniform1f(Se[1][17],n),e.Texture,(()=>{throw new Error("Sampler2D > 2")})(),t=[0|ec(e.TextureSize),0|nc(e.TextureSize)],Se[2].uniform2f(Se[1][19],t[0],t[1]),i=[0|ec(e.TextureSliceSize),0|nc(e.TextureSliceSize)],Se[2].uniform2f(Se[1][21],i[0],i[1]),o=[0|oc(e.TextureSlicePosition),0|uc(e.TextureSlicePosition)],Se[2].uniform2f(Se[1][20],o[0],o[1])}else{const e=0;Se[2].uniform1f(Se[1][17],e)}var _;if(null!=o){_=0===o.tag?0:1}else _=1;switch(_){case 0:{const e=1;Se[2].uniform1f(Se[1][23],e);const n=l;Se[2].uniform1f(Se[1][24],n);break}case 1:{const e=0;Se[2].uniform1f(Se[1][23],e);break}}const v=Se;v[2].drawArrays(v[2].TRIANGLES,0,6);break}}break;case 3:{if(!(w===ve)){w=ve;const e=ve;e[2].useProgram(e[0]),e[2].enable(e[2].BLEND);const n=ve;n[2].blendEquation(n[2].FUNC_ADD),n[2].blendFuncSeparate(n[2].SRC_ALPHA,n[2].ONE_MINUS_SRC_ALPHA,n[2].ONE,n[2].ONE),ve[2].bindBuffer(ve[2].ARRAY_BUFFER,te),ve[2].vertexAttribPointer(ve[1][0],2,ve[2].FLOAT,!1,0,0),ve[2].bindBuffer(ve[2].ARRAY_BUFFER,ce),ve[2].vertexAttribPointer(ve[1][1],2,ve[2].FLOAT,!1,0,0)}let n;let t,r;n=[0|ec(e[0]),0|nc(e[0])],ve[2].uniform2f(ve[1][2],n[0],n[1]);const i=ic(oc(u[0])*e[1],uc(u[0])*e[1]);let o;r=ic(oc(i)+oc(e[2]),uc(i)+uc(e[2])),t=[0|oc(r),0|uc(r)],ve[2].uniform2f(ve[1][3],t[0],t[1]);const c=Qu(ec(u[1])*e[1],nc(u[1])*e[1]);o=[0|ec(c),0|nc(c)],ve[2].uniform2f(ve[1][4],o[0],o[1]);const s=m.Texture;let l;let f;let a;ve[2].activeTexture(ve[2].TEXTURE0),ve[2].bindTexture(ve[2].TEXTURE_2D,s),ve[2].uniform1i(ve[1][5],0),l=[0|ec(m.TextureSize),0|nc(m.TextureSize)],ve[2].uniform2f(ve[1][6],l[0],l[1]),f=[0|ec(m.TextureSliceSize),0|nc(m.TextureSliceSize)],ve[2].uniform2f(ve[1][8],f[0],f[1]),a=[0|oc(m.TextureSlicePosition),0|uc(m.TextureSlicePosition)],ve[2].uniform2f(ve[1][7],a[0],a[1]);const d=g;ve[2].uniform1f(ve[1][9],d);const h=ve;h[2].drawArrays(h[2].TRIANGLES,0,6);break}case 4:{if(!(w===ye)){w=ye;const e=ye;e[2].useProgram(e[0]),e[2].enable(e[2].BLEND);const n=ye;n[2].blendEquation(n[2].FUNC_ADD),n[2].blendFuncSeparate(n[2].SRC_ALPHA,n[2].ONE_MINUS_SRC_ALPHA,n[2].ONE,n[2].ONE),ye[2].bindBuffer(ye[2].ARRAY_BUFFER,te),ye[2].vertexAttribPointer(ye[1][0],2,ye[2].FLOAT,!1,0,0),ye[2].bindBuffer(ye[2].ARRAY_BUFFER,ce),ye[2].vertexAttribPointer(ye[1][1],2,ye[2].FLOAT,!1,0,0)}let n;let t,r;n=[0|ec(e[0]),0|nc(e[0])],ye[2].uniform2f(ye[1][2],n[0],n[1]);const i=ic(oc(u[0])*e[1],uc(u[0])*e[1]);let o;r=ic(oc(i)+oc(e[2]),uc(i)+uc(e[2])),t=[0|oc(r),0|uc(r)],ye[2].uniform2f(ye[1][3],t[0],t[1]);const c=Qu(ec(u[1])*e[1],nc(u[1])*e[1]);o=[0|ec(c),0|nc(c)],ye[2].uniform2f(ye[1][4],o[0],o[1]);const s=y.Texture;let l;let f;let a;ye[2].activeTexture(ye[2].TEXTURE0),ye[2].bindTexture(ye[2].TEXTURE_2D,s),ye[2].uniform1i(ye[1][5],0),l=[0|ec(y.TextureSize),0|nc(y.TextureSize)],ye[2].uniform2f(ye[1][6],l[0],l[1]),f=[0|ec(y.TextureSliceSize),0|nc(y.TextureSliceSize)],ye[2].uniform2f(ye[1][8],f[0],f[1]),a=[0|oc(y.TextureSlicePosition),0|uc(y.TextureSlicePosition)],ye[2].uniform2f(ye[1][7],a[0],a[1]);const d=[S,v,x,p];ye[2].uniform4f(ye[1][9],d[0],d[1],d[2],d[3]);const h=ye;h[2].drawArrays(h[2].TRIANGLES,0,6);break}case 5:{if(!(w===he)){w=he;const e=he;e[2].useProgram(e[0]),e[2].enable(e[2].BLEND);const n=he;n[2].blendEquation(n[2].FUNC_ADD),n[2].blendFuncSeparate(n[2].SRC_ALPHA,n[2].ONE_MINUS_SRC_ALPHA,n[2].ONE,n[2].ONE),he[2].bindBuffer(he[2].ARRAY_BUFFER,te),he[2].vertexAttribPointer(he[1][0],2,he[2].FLOAT,!1,0,0),he[2].bindBuffer(he[2].ARRAY_BUFFER,ce),he[2].vertexAttribPointer(he[1][1],2,he[2].FLOAT,!1,0,0)}let n;let t,r;n=[0|ec(e[0]),0|nc(e[0])],he[2].uniform2f(he[1][2],n[0],n[1]);const i=ic(oc(u[0])*e[1],uc(u[0])*e[1]);let o;r=ic(oc(i)+oc(e[2]),uc(i)+uc(e[2])),t=[0|oc(r),0|uc(r)],he[2].uniform2f(he[1][3],t[0],t[1]);const c=Qu(ec(u[1])*e[1],nc(u[1])*e[1]);o=[0|ec(c),0|nc(c)],he[2].uniform2f(he[1][4],o[0],o[1]);const s=T.Texture;let l;let f;let a;he[2].activeTexture(he[2].TEXTURE0),he[2].bindTexture(he[2].TEXTURE_2D,s),he[2].uniform1i(he[1][5],0),l=[0|ec(T.TextureSize),0|nc(T.TextureSize)],he[2].uniform2f(he[1][6],l[0],l[1]),f=[0|ec(T.TextureSliceSize),0|nc(T.TextureSliceSize)],he[2].uniform2f(he[1][8],f[0],f[1]),a=[0|oc(T.TextureSlicePosition),0|uc(T.TextureSlicePosition)],he[2].uniform2f(he[1][7],a[0],a[1]);const d=[C,A,b,E];he[2].uniform4f(he[1][9],d[0],d[1],d[2],d[3]);const h=he;h[2].drawArrays(h[2].TRIANGLES,0,6);break}case 6:{if(!(w===ge)){w=ge;const e=ge;e[2].useProgram(e[0]),e[2].enable(e[2].BLEND);const n=ge;n[2].blendEquation(n[2].FUNC_ADD),n[2].blendFuncSeparate(n[2].SRC_ALPHA,n[2].ONE_MINUS_SRC_ALPHA,n[2].ONE,n[2].ONE),ge[2].bindBuffer(ge[2].ARRAY_BUFFER,te),ge[2].vertexAttribPointer(ge[1][0],2,ge[2].FLOAT,!1,0,0),ge[2].bindBuffer(ge[2].ARRAY_BUFFER,ce),ge[2].vertexAttribPointer(ge[1][1],2,ge[2].FLOAT,!1,0,0)}let n;let t,r;n=[0|ec(e[0]),0|nc(e[0])],ge[2].uniform2f(ge[1][2],n[0],n[1]);const i=ic(oc(u[0])*e[1],uc(u[0])*e[1]);let o;r=ic(oc(i)+oc(e[2]),uc(i)+uc(e[2])),t=[0|oc(r),0|uc(r)],ge[2].uniform2f(ge[1][3],t[0],t[1]);const c=Qu(ec(u[1])*e[1],nc(u[1])*e[1]);o=[0|ec(c),0|nc(c)],ge[2].uniform2f(ge[1][4],o[0],o[1]);const s=[F,M,P,R];ge[2].uniform4f(ge[1][5],s[0],s[1],s[2],s[3]);const l=ge;l[2].drawArrays(l[2].TRIANGLES,0,6);break}case 7:{if(!(w===Ee)){w=Ee;const e=Ee;e[2].useProgram(e[0]),e[2].enable(e[2].BLEND);const n=Ee;n[2].blendEquation(n[2].FUNC_ADD),n[2].blendFuncSeparate(n[2].SRC_ALPHA,n[2].ONE_MINUS_SRC_ALPHA,n[2].ONE,n[2].ONE),Ee[2].bindBuffer(Ee[2].ARRAY_BUFFER,te),Ee[2].vertexAttribPointer(Ee[1][0],2,Ee[2].FLOAT,!1,0,0),Ee[2].bindBuffer(Ee[2].ARRAY_BUFFER,ce),Ee[2].vertexAttribPointer(Ee[1][1],2,Ee[2].FLOAT,!1,0,0)}let n;let t,r;n=[0|ec(e[0]),0|nc(e[0])],Ee[2].uniform2f(Ee[1][2],n[0],n[1]);const i=ic(oc(u[0])*e[1],uc(u[0])*e[1]);let o;r=ic(oc(i)+oc(e[2]),uc(i)+uc(e[2])),t=[0|oc(r),0|uc(r)],Ee[2].uniform2f(Ee[1][3],t[0],t[1]);const c=Qu(ec(u[1])*e[1],nc(u[1])*e[1]);o=[0|ec(c),0|nc(c)],Ee[2].uniform2f(Ee[1][4],o[0],o[1]);const s=l;Ee[2].uniform1f(Ee[1][5],s);const f=Ee;f[2].drawArrays(f[2].TRIANGLES,0,6);break}case 8:{if(!(w===be)){w=be;const e=be;e[2].useProgram(e[0]),e[2].enable(e[2].BLEND);const n=be;n[2].blendEquation(n[2].FUNC_ADD),n[2].blendFuncSeparate(n[2].SRC_ALPHA,n[2].ONE_MINUS_SRC_ALPHA,n[2].ONE,n[2].ONE),be[2].bindBuffer(be[2].ARRAY_BUFFER,te),be[2].vertexAttribPointer(be[1][0],2,be[2].FLOAT,!1,0,0),be[2].bindBuffer(be[2].ARRAY_BUFFER,ce),be[2].vertexAttribPointer(be[1][1],2,be[2].FLOAT,!1,0,0)}let n;let t,r;n=[0|ec(e[0]),0|nc(e[0])],be[2].uniform2f(be[1][2],n[0],n[1]);const i=ic(oc(u[0])*e[1],uc(u[0])*e[1]);let o;r=ic(oc(i)+oc(e[2]),uc(i)+uc(e[2])),t=[0|oc(r),0|uc(r)],be[2].uniform2f(be[1][3],t[0],t[1]);const c=Qu(ec(u[1])*e[1],nc(u[1])*e[1]);o=[0|ec(c),0|nc(c)],be[2].uniform2f(be[1][4],o[0],o[1]);const s=l;be[2].uniform1f(be[1][5],s);const f=be;f[2].drawArrays(f[2].TRIANGLES,0,6);break}case 9:{if(!(w===we)){w=we;const e=we;e[2].useProgram(e[0]),e[2].enable(e[2].BLEND);const n=we;null==ws()&&ws(n[2].getExtension("EXT_blend_minmax")),n[2].blendEquationSeparate(ws().MIN_EXT,ws().MAX_EXT),n[2].blendFuncSeparate(n[2].SRC_ALPHA,n[2].ONE_MINUS_SRC_ALPHA,n[2].ONE,n[2].ONE),we[2].bindBuffer(we[2].ARRAY_BUFFER,te),we[2].vertexAttribPointer(we[1][0],2,we[2].FLOAT,!1,0,0),we[2].bindBuffer(we[2].ARRAY_BUFFER,ce),we[2].vertexAttribPointer(we[1][1],2,we[2].FLOAT,!1,0,0)}const n=null!=o?1===(c=o).tag?[c.fields[0],c.fields[1]]:[0,10]:[0,10];for(let t=n[0];t<=n[1];t++){const n=t/9,r=.2*(1-n);let i;const o=ic(3*t,3*t);let c;let s,l;i=ic(oc(u[0])+oc(o),uc(u[0])+uc(o)),c=[0|ec(e[0]),0|nc(e[0])],we[2].uniform2f(we[1][2],c[0],c[1]);const f=ic(oc(i)*e[1],uc(i)*e[1]);let a;l=ic(oc(f)+oc(e[2]),uc(f)+uc(e[2])),s=[0|oc(l),0|uc(l)],we[2].uniform2f(we[1][3],s[0],s[1]);const d=Qu(ec(u[1])*e[1],nc(u[1])*e[1]);a=[0|ec(d),0|nc(d)],we[2].uniform2f(we[1][4],a[0],a[1]);const h=O.Texture;let w;let g;let m;we[2].activeTexture(we[2].TEXTURE0),we[2].bindTexture(we[2].TEXTURE_2D,h),we[2].uniform1i(we[1][5],0),w=[0|ec(O.TextureSize),0|nc(O.TextureSize)],we[2].uniform2f(we[1][6],w[0],w[1]),g=[0|ec(O.TextureSliceSize),0|nc(O.TextureSliceSize)],we[2].uniform2f(we[1][8],g[0],g[1]),m=[0|oc(O.TextureSlicePosition),0|uc(O.TextureSlicePosition)],we[2].uniform2f(we[1][7],m[0],m[1]);const p=[0,0,0,r];we[2].uniform4f(we[1][9],p[0],p[1],p[2],p[3]);const x=n;we[2].uniform1f(we[1][10],x);const v=we;v[2].drawArrays(v[2].TRIANGLES,0,6)}break}}};let m=0;const p=Wi([],{Equals:Fe,GetHashCode:Ce});Ae.size>10&&(lr((function(n){as(e,n[1][1]),ls(e,n[1][0])}),Ae),Ae.clear()),cs(e,ec(r.Resolution),nc(r.Resolution)),us(e,ec(r.Resolution),nc(r.Resolution));const x=function(e,t,r){const i=n(e);if(null!=i){const e=i[1],n=i[0];return new qs(n,e,t,r)}return null};!function n(r,i,o,u,c,s){var l;e:for(;;){const d=r,h=i,w=o,v=u,y=c,S=s;if(0===S.tag)g([h,v,w],y,x(S.fields[0].Texture,S.fields[0].TextureSlicePosition,S.fields[0].TextureSliceSize),null!=S.fields[0].HeightMap?(l=S.fields[0].HeightMap,x(l.Texture,l.TextureSlicePosition,l.TextureSliceSize)):null,S.fields[0].Effect,[S.fields[0].Position,S.fields[0].Size]);else if(3===S.tag){const t=Qu(ec(S.fields[0].Size)*v,nc(S.fields[0].Size)*v);let r;const i=0|ec(t),o=0|nc(t),u=me(Ae,[d,i,o],null);if(u[0])r=u[1];else{const n=ss(e,i,o),t=fs(e,n);Xe(Ae,[d,i,o],[n,t]),r=[n,t]}ds(e,r[1]),cs(e,ec(t),nc(t)),us(e,ec(t),nc(t));for(let e=0;e<=S.fields[0].Children.length-1;e++)n(d+1,t,cc(),v,y,S.fields[0].Children[e]);hs(e),cs(e,ec(h),nc(h)),g([h,1,w],S.fields[0].Shader,new qs(r[0],t,cc(),t),null,null,[cc(),t])}else{if(2===S.tag){S.fields[0].Last=S.fields[0].Render(t),r=d,i=h,o=w,u=v,c=y,s=S.fields[0].Last;continue e}if(4===S.tag){r=d,i=h,o=w,u=v,c=y,s=S.fields[0].Last;continue e}if(5===S.tag){r=d,i=h,o=w,u=v,c=y,s=S.fields[0].Last;continue e}if(6===S.tag);else if(7===S.tag){if(S.fields[0].Count<5){r=d,i=h,o=w,u=v,c=y,s=S.fields[0].Child;continue e}if(7!==S.tag)throw new Error("The match cases were incomplete");{const t=Qu(ec(S.fields[0].Size)*v,nc(S.fields[0].Size)*v);if(null==S.fields[0].Texture){pe(S.fields[0],p);let r,i;var f,a;switch(null!=(i=sr(m,Te))&&Fe(i.Size,t)?(f=0,a=i):f=1,f){case 0:r=a;break;case 1:if(null==i){const n=ss(e,ec(t),nc(t)),i=fs(e,n),o=ss(e,ec(t),nc(t)),u=fs(e,o),c=new Ys(t,n,i,o,u);Te.push(c),r=c}else{const n=i;as(e,n.GroupFrameBuffer),ls(e,n.GroupTexture);const o=ss(e,ec(t),nc(t)),u=fs(e,o);as(e,n.HeightMapFrameBuffer),ls(e,n.HeightMapTexture);const c=ss(e,ec(t),nc(t)),s=fs(e,c),l=new Ys(t,o,u,c,s);Te[m]=l,r=l}}m+=1,ds(e,r.GroupFrameBuffer),cs(e,ec(r.Size),nc(t)),us(e,ec(t),nc(t)),n(d,t,cc(),v,new hc(0,"Default"),S.fields[0].Child),S.fields[0].Texture=r.GroupTexture,ds(e,r.HeightMapFrameBuffer),cs(e,ec(r.Size),nc(t)),us(e,ec(t),nc(t)),n(d,t,cc(),v,new hc(1,"HeightMap"),S.fields[0].Child),S.fields[0].HeightMapTexture=r.HeightMapTexture,hs(e),cs(e,ec(h),nc(h))}g([h,1,w],y,new qs(S.fields[0].Texture,t,cc(),t),new qs(S.fields[0].HeightMapTexture,t,cc(),t),null,[cc(),t])}}else{let e;const t=ic(oc(S.fields[0].Position)*v,uc(S.fields[0].Position)*v);let r;e=ic(oc(t)+oc(w),uc(t)+uc(w)),r=jt(S.fields[0].Shader,y);for(let t=0;t<=S.fields[0].Children.length-1;t++)n(d,h,e,v,r,S.fields[0].Children[t])}}break}}(0,r.Resolution,ic(0,0),r.Scale,new hc(0,"Default"),r.Content),lr((function(e){e.Texture=null,e.HeightMapTexture=null}),p)}}}}(fl,al);function vl(e){ll.width=sl.clientWidth,ll.height=sl.clientHeight,ps(new zc(3,"Resolution",~~ll.clientWidth,~~ll.clientHeight))}function yl(e){const n=en();if(dl.length>0&&rn(n,hl())>=0){let e,t,r;lr((function(e){ms(e[1][1]),dl.splice(e[0],1)}),e=mr(t=or((function(e){return rn(n,e[1][0])>=0}),r=dr((e,n)=>[e,n],dl))))}if(wl.length>0){const e=function(e,n){e:for(;;){const t=e,r=n;if(wl.length>0){const i=wl[0];if(wl.splice(0,1),0===i.tag){if(4===i.fields[0].tag){pl(!0),e=t,n=r;continue e}{const o=Xs(r,i.fields[0]);uu(ps,o[1]),e=t,n=o[0];continue e}}if(6===i.fields[0].tag){dl.push([i.fields[0].fields[0],i.fields[0].fields[1]]),hl(hr((function(e){return e[0]}),dl,{Compare:rn})[0]),e=t,n=r;continue e}{const o=Ss(en(),t,i.fields[0]);uu(ms,o[1]),e=o[0],n=r;continue e}}return[t,r]}}(gl(),ml());gl()===e[0]||(gl(e[0]),pl(!0)),ml()===e[1]||ml(e[1])}}function Sl(e){var n;pl()&&(pl(!1),ml((n=ul(gl()),new Oc(ml().Scale,ml().Resolution,n,ml().MouseItem,ml().DragItem,ml().ClickItem,ml().HoverItem,ml().BlurItem))),function(e){const n=new Set([]);lr((function(e){let t;t=pe(e,n)}),Ts.keys()),function e(t){e:for(;;){const r=t;switch(r.tag){case 2:t=r.fields[0].Last;continue e;case 5:r.fields[0].Rendered||(r.fields[0].Last=r.fields[0].Render()),e(r.fields[0].Last),r.fields[0].Rendered=!1;break;case 1:case 3:r.fields[0].Children.forEach(e);break;case 0:case 6:break;case 7:t=r.fields[0].Child;continue e;default:n.delete(r.fields[0].Key);t=r.fields[0].Last;continue e}break}}(e),lr((function(e){Ts.delete(e)}),n),Rs.clear()}(ml().Content)),xl(en())(ml())(gl())}function El(e){yl(),Sl();window.requestAnimationFrame(El)}window.isTouch?(ll.ontouchstart=function(e){const n=e.touches[0].clientX,t=e.touches[0].clientY;ps(new zc(0,"MouseDown",~~n,~~t)),e.preventDefault()},ll.ontouchmove=function(e){const n=e.touches[0].clientX,t=e.touches[0].clientY;ps(new zc(1,"MouseMove",~~n,~~t,!1)),e.preventDefault()},ll.ontouchend=function(e){ps(new zc(2,"MouseUp",0,0)),e.preventDefault()}):(ll.onmousemove=function(e){ps(new zc(1,"MouseMove",~~e.x,~~e.y,!1))},ll.onmousedown=function(e){ps(new zc(0,"MouseDown",~~e.x,~~e.y))},ll.onmouseup=function(e){ps(new zc(2,"MouseUp",~~e.x,~~e.y))},ll.onmousewheel=function(e){ps(new zc(0,"MouseDown",~~e.x,~~e.y)),ps(new zc(1,"MouseMove",~~e.x+~~e.wheelDeltaX,~~e.y+~~e.wheelDeltaY,!0)),ps(new zc(2,"MouseUp",~~e.x,~~e.y)),ps(new zc(1,"MouseMove",~~e.x,~~e.y,!1))}),window.addEventListener("keydown",(function(e){lr((function(n){const t=e.key;1===t.length?n(t[0]):"Backspace"===t&&n("\b")}),jt(Hs(),[],(function(e){return[e]})))})),window.onresize=function(e){vl()},vl(),function(){let e;rs(e=Qc.Delay((function(){return Qc.Bind(cl("Sprites.json"),(function(e){xs((function(n){return si(n,e)}));El();return Qc.Zero()}))})))}(),t.d(n,"getJson",(function(){return cl})),t.d(n,"holder",(function(){return sl})),t.d(n,"canvas",(function(){return ll})),t.d(n,"context",(function(){return fl})),t.d(n,"getTexure",(function(){return al})),t.d(n,"postponedQueue",(function(){return dl})),t.d(n,"postponedQueueMinTime",(function(){return hl})),t.d(n,"messageQueue",(function(){return wl})),t.d(n,"gameState",(function(){return gl})),t.d(n,"hostState",(function(){return ml})),t.d(n,"redraw",(function(){return pl})),t.d(n,"renderer",(function(){return xl})),t.d(n,"resize",(function(){return vl})),t.d(n,"updateFrame",(function(){return yl})),t.d(n,"renderFrame",(function(){return Sl})),t.d(n,"mainLoop",(function(){return El}))}]);